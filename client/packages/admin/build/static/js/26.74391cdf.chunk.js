(this["webpackJsonp@ditto-ecommerce/admin"]=this["webpackJsonp@ditto-ecommerce/admin"]||[]).push([[26],{111:function(e,t,n){"use strict";var a=n(49),r=n(0),o=n(417),l=n(118);const i=({$theme:e})=>e.typography.fontBold14;t.a=e=>{let t=Object.assign({},e);return r.createElement(o.a,Object.assign({overrides:{SelectArrow:()=>r.createElement(l.a,null),Popover:{props:{overrides:{Body:{style:{zIndex:1}}}}},Placeholder:{style:({$theme:e})=>Object(a.a)({color:e.colors.textDark},i({$theme:e}))},SingleValue:{style:({$theme:e})=>Object(a.a)(Object(a.a)({},i({$theme:e})),{},{color:e.colors.textDark,lineHeight:"1.5"})},DropdownListItem:{style:({$theme:e})=>({fontSize:"14px",fontWeight:"700",color:e.colors.textDark})},OptionContent:{style:({$theme:e,$selected:t})=>Object(a.a)(Object(a.a)({},e.typography.fontBold14),{},{color:t?e.colors.textDark:e.colors.textNormal})},DropdownOption:{style:({$theme:e})=>({fontSize:"14px",fontWeight:"700",color:e.colors.textDark})}}},t))}},424:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return A}));var a=n(25),r=n(34),o=n(0),l=n.n(o),i=n(72),c=n(99),s=n(98),m=n(111),d=n(101),u=n(100),b=n(58),p=n(115),h=n(107),f=n(35),g=n.n(f),y=n(26);function E(){const e=Object(r.a)(["\n    mutation DeleteDeliveryMethod($id: ID!) {\n        deleteDeliveryMethod(id: $id) {\n            message\n            status\n        }\n    }\n"]);return E=function(){return e},e}function x(){const e=Object(r.a)(["\n    query GetDeliveryMethods(\n        $searchText: String\n        $offset: Int\n    ) {\n        deliveryMethods(\n            searchText: $searchText\n            offset: $offset\n        ) {\n            items {\n                id\n                name\n                details\n                created_at\n            }\n            totalCount\n            hasMore\n        }\n    }\n"]);return x=function(){return e},e}const v=({icon:e,width:t="18px",height:n="18px"})=>{let a=h.b.hasOwnProperty(e)?h.b[e]:"span";return l.a.createElement(a,{width:t,height:n})},k=g()(x()),O=g()(E());var w=e=>{let t=e.itemData,n=e.itemsOffset;Object(b.a)(e,["itemData","itemsOffset"]);const r=Object(s.b)(),o=l.a.useCallback(()=>{r({type:"OPEN_DRAWER",drawerComponent:"STAFF_EDIT_MEMBER_FORM",data:t})},[r,t]),i=Object(y.a)(O,{update:e=>{const a=e.readQuery({query:k,variables:0!==n?{offset:n}:{}}).deliveryMethods;e.writeQuery({query:k,variables:0!==n?{offset:n}:{},data:{deliveryMethods:{__typename:a.__typename,items:a.items.filter(e=>e.id!==t.id),hasMore:a.items.length-1>=12,totalCount:a.items.length-1}}})}}),c=Object(a.a)(i,1)[0];return l.a.createElement("div",null,l.a.createElement(p.a,null,l.a.createElement(p.b,{onClick:o,style:{marginRight:"10px",cursor:"pointer"}},l.a.createElement(v,{icon:"ArrowNext"}))),l.a.createElement(p.a,null,l.a.createElement(p.b,{onClick:()=>{confirm("Are you sure? You can not undo this.")&&c({variables:{id:t.id}})},style:{color:"#c50707",cursor:"pointer"}},l.a.createElement(v,{width:"15px",height:"15px",icon:"CloseIcon"}))))},j=n(154),S=n(117),W=n(433);const R=Object(i.b)("div",()=>({width:"100%",height:"450px"})),M=Object(i.d)(W.c,()=>({borderTopLeftRadius:"0 !important",borderTopRightRadius:"0 !important",borderBottomLeftRadius:"0 !important",borderBottomRightRadius:"0 !important",alignContent:"start"})),D=Object(i.d)(W.b,()=>({fontFamily:"'Lato', sans-serif",fontWeight:700,color:"#161F6A !important",alignItems:"center",boxShadow:"rgba(0, 0, 0, 0.16) 0px 1px 4px",borderTopColor:"rgba(0, 0, 0, 0.12)",borderRightColor:"rgba(0, 0, 0, 0.12)",borderBottomColor:"rgba(0, 0, 0, 0.12)",borderLeftColor:"rgba(0, 0, 0, 0.12)",alignSelf:"start"})),C=Object(i.d)(W.a,()=>({fontFamily:"'Lato', sans-serif",fontWeight:400,color:"#161F6A !important",alignSelf:"center"}));var B=n(121);function I(){const e=Object(r.a)(["\n  query staffs {\n    getStaffs {\n      id\n      name\n      email\n      role\n      created_at\n      phones{\n        number\n        id\n        is_primary\n      }\n      workInfo{\n        stoppedWorkTime\n        startedWorkTime\n        ratePerHour\n        totalWorkingMinutesPerWeek\n        totalSalaryToPayWeekly\n        advancedSalaryPaid\n        isWorking\n        taskRelated\n      }\n      tasks{\n        id\n        startDate\n        finishDate\n        isDone\n        description\n        workedHours\n      }\n      logs{\n        logDescription\n        timestamp\n      }\n    }\n  }\n"]);return I=function(){return e},e}const P=g()(I()),T=Object(i.d)(c.a,()=>({"@media only screen and (max-width: 767px)":{marginBottom:"20px",":last-child":{marginBottom:0}}})),$=Object(i.d)(c.c,()=>({"@media only screen and (min-width: 768px)":{alignItems:"center"}})),_=[{value:"admin",label:"Admin"},{value:"manager",label:"Manager"},{value:"member",label:"Member"},{value:"delivery boy",label:"Delivery boy"},{value:"client",label:"Client"}];function A(){const e=Object(s.b)(),t=Object(o.useState)(0),n=Object(a.a)(t,2),r=n[0],i=(n[1],Object(o.useCallback)(()=>e({type:"OPEN_DRAWER",drawerComponent:"STAFF_MEMBER_FORM"}),[e])),b=Object(o.useState)([]),p=Object(a.a)(b,2),h=p[0],f=p[1],g=Object(o.useState)(""),E=Object(a.a)(g,2),x=E[0],v=E[1],k=Object(y.b)(P),O=k.data,W=k.error,I=k.refetch;if(W)return l.a.createElement("div",null,"Error! ",W.message);return l.a.createElement(c.b,{fluid:!0},l.a.createElement($,null,l.a.createElement(T,{md:12},l.a.createElement(S.a,{style:{marginBottom:40,boxShadow:"0 0 5px rgba(0, 0 ,0, 0.05)"}},l.a.createElement(T,{md:3,xs:12},l.a.createElement(S.b,null,"Staff Members")),l.a.createElement(T,{md:9,xs:12},l.a.createElement($,null,l.a.createElement(T,{md:3,xs:12},l.a.createElement(m.a,{options:_,labelKey:"label",valueKey:"value",placeholder:"Role",value:h,searchable:!1,onChange:function({value:e}){f(e),e.length?I({role:e[0].value,searchBy:x}):I({role:null})}})),l.a.createElement(T,{md:5,xs:12},l.a.createElement(d.a,{value:x,placeholder:"Ex: Quick Search By Name",onChange:function(e){const t=e.currentTarget.value;v(t),I({searchBy:t})},clearable:!0})),l.a.createElement(T,{md:4,xs:12},l.a.createElement(u.b,{onClick:i,startEnhancer:()=>l.a.createElement(j.b,null),overrides:{BaseButton:{style:()=>({width:"100%",borderTopLeftRadius:"3px",borderTopRightRadius:"3px",borderBottomLeftRadius:"3px",borderBottomRightRadius:"3px"})}}},"Add Members"))))),l.a.createElement(S.c,{style:{boxShadow:"0 0 5px rgba(0, 0 , 0, 0.05)"}},l.a.createElement(R,null,l.a.createElement(M,{$gridTemplateColumns:"minmax(150px, auto) minmax(75px, auto) minmax(75px, auto) minmax(75px, auto) minmax(75px, auto) minmax(150px, auto) minmax(150px, max-content) minmax(75px, auto)"},l.a.createElement(D,null,"Name"),l.a.createElement(D,null,"Role"),l.a.createElement(D,null,"isWorking"),l.a.createElement(D,null,"Hourly rate"),l.a.createElement(D,null,"Weekly Salary"),l.a.createElement(D,null,"Salary in Advanced"),l.a.createElement(D,null,"Working Hours"),l.a.createElement(D,null,"Action"),O?O.getStaffs.length?O.getStaffs.map((e,t)=>{var n,a,o,i,c,s,m,d,u;return l.a.createElement(l.a.Fragment,{key:t},l.a.createElement(C,null,e.name||"-"),l.a.createElement(C,null,e.role||"-"),l.a.createElement(C,null,(null===(n=e.workInfo)||void 0===n?void 0:n.isWorking.toString())||"-"),l.a.createElement(C,null,(null===(a=e.workInfo)||void 0===a?void 0:a.ratePerHour)||"-"),l.a.createElement(C,null,(null===(o=e.workInfo)||void 0===o?void 0:o.totalSalaryToPayWeekly)||"-"),l.a.createElement(C,null,(null===(i=e.workInfo)||void 0===i?void 0:i.advancedSalaryPaid)||"-"),l.a.createElement(C,null,(null===(c=e.workInfo)||void 0===c?void 0:c.totalWorkingMinutesPerWeek)?"".concat((null===(s=e.workInfo)||void 0===s?void 0:s.totalWorkingMinutesPerWeek)/60|0,":").concat(Number((null===(m=e.workInfo)||void 0===m?void 0:m.totalWorkingMinutesPerWeek)%60|0)>=9?(null===(d=e.workInfo)||void 0===d?void 0:d.totalWorkingMinutesPerWeek)%60|0:"0"+(null===(u=e.workInfo)||void 0===u?void 0:u.totalWorkingMinutesPerWeek)%60," hs"):"-"),l.a.createElement(C,null,l.a.createElement(w,{itemsOffset:r,itemData:e})))}):l.a.createElement(B.a,{hideButton:!1,style:{gridColumnStart:"1",gridColumnEnd:"one"}}):null))))))}}}]);
//# sourceMappingURL=26.74391cdf.chunk.js.map