(this["webpackJsonp@ditto-ecommerce/admin"]=this["webpackJsonp@ditto-ecommerce/admin"]||[]).push([[26],{111:function(e,t,a){"use strict";var n=a(49),r=a(0),o=a(418),l=a(118);const i=({$theme:e})=>e.typography.fontBold14;t.a=e=>{let t=Object.assign({},e);return r.createElement(o.a,Object.assign({overrides:{SelectArrow:()=>r.createElement(l.a,null),Popover:{props:{overrides:{Body:{style:{zIndex:1}}}}},Placeholder:{style:({$theme:e})=>Object(n.a)({color:e.colors.textDark},i({$theme:e}))},SingleValue:{style:({$theme:e})=>Object(n.a)(Object(n.a)({},i({$theme:e})),{},{color:e.colors.textDark,lineHeight:"1.5"})},DropdownListItem:{style:({$theme:e})=>({fontSize:"14px",fontWeight:"700",color:e.colors.textDark})},OptionContent:{style:({$theme:e,$selected:t})=>Object(n.a)(Object(n.a)({},e.typography.fontBold14),{},{color:t?e.colors.textDark:e.colors.textNormal})},DropdownOption:{style:({$theme:e})=>({fontSize:"14px",fontWeight:"700",color:e.colors.textDark})}}},t))}},425:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return P}));var n=a(25),r=a(34),o=a(0),l=a.n(o),i=a(72),c=a(99),m=a(98),s=a(111),d=a(101),u=a(100),b=a(58),p=a(115),h=a(107),f=a(35),g=a.n(f),y=a(26);function E(){const e=Object(r.a)(["\n    mutation DeleteDeliveryMethod($id: ID!) {\n        deleteDeliveryMethod(id: $id) {\n            message\n            status\n        }\n    }\n"]);return E=function(){return e},e}function x(){const e=Object(r.a)(["\n    query GetDeliveryMethods(\n        $searchText: String\n        $offset: Int\n    ) {\n        deliveryMethods(\n            searchText: $searchText\n            offset: $offset\n        ) {\n            items {\n                id\n                name\n                details\n                created_at\n            }\n            totalCount\n            hasMore\n        }\n    }\n"]);return x=function(){return e},e}const v=({icon:e,width:t="18px",height:a="18px"})=>{let n=h.b.hasOwnProperty(e)?h.b[e]:"span";return l.a.createElement(n,{width:t,height:a})},O=g()(x()),k=g()(E());var j=e=>{let t=e.itemData,a=e.itemsOffset;Object(b.a)(e,["itemData","itemsOffset"]);const r=Object(m.b)(),o=l.a.useCallback(()=>{r({type:"OPEN_DRAWER",drawerComponent:"STAFF_EDIT_MEMBER_FORM",data:t})},[r,t]),i=Object(y.a)(k,{update:e=>{const n=e.readQuery({query:O,variables:0!==a?{offset:a}:{}}).deliveryMethods;e.writeQuery({query:O,variables:0!==a?{offset:a}:{},data:{deliveryMethods:{__typename:n.__typename,items:n.items.filter(e=>e.id!==t.id),hasMore:n.items.length-1>=12,totalCount:n.items.length-1}}})}}),c=Object(n.a)(i,1)[0];return l.a.createElement("div",null,l.a.createElement(p.a,null,l.a.createElement(p.b,{onClick:o,style:{marginRight:"10px",cursor:"pointer"}},l.a.createElement(v,{icon:"ArrowNext"}))),l.a.createElement(p.a,null,l.a.createElement(p.b,{onClick:()=>{confirm("Are you sure? You can not undo this.")&&c({variables:{id:t.id}})},style:{color:"#c50707",cursor:"pointer"}},l.a.createElement(v,{width:"15px",height:"15px",icon:"CloseIcon"}))))},S=a(154),w=a(117),R=a(434);const D=Object(i.b)("div",()=>({width:"100%",height:"450px"})),C=Object(i.d)(R.c,()=>({borderTopLeftRadius:"0 !important",borderTopRightRadius:"0 !important",borderBottomLeftRadius:"0 !important",borderBottomRightRadius:"0 !important",alignContent:"start"})),M=Object(i.d)(R.b,()=>({fontFamily:"'Lato', sans-serif",fontWeight:700,color:"#161F6A !important",alignItems:"center",boxShadow:"rgba(0, 0, 0, 0.16) 0px 1px 4px",borderTopColor:"rgba(0, 0, 0, 0.12)",borderRightColor:"rgba(0, 0, 0, 0.12)",borderBottomColor:"rgba(0, 0, 0, 0.12)",borderLeftColor:"rgba(0, 0, 0, 0.12)",alignSelf:"start"})),B=Object(i.d)(R.a,()=>({fontFamily:"'Lato', sans-serif",fontWeight:400,color:"#161F6A !important",alignSelf:"center"}));var W=a(121);function T(){const e=Object(r.a)(["\n  query staffs {\n    getStaffs {\n      id\n      name\n      email\n      role\n      created_at\n      phones{\n        number\n        id\n        is_primary\n      }\n      workInfo{\n        stoppedWorkTime\n        startedWorkTime\n        ratePerHour\n        totalWorkingMinutesPerWeek\n        totalSalaryToPayWeekly\n        advancedSalaryPaid\n        isWorking\n        taskRelated\n      }\n      tasks{\n        id\n        startDate\n        finishDate\n        isDone\n        description\n        workedHours\n      }\n      logs{\n        logDescription\n        timestamp\n      }\n    }\n  }\n"]);return T=function(){return e},e}const $=g()(T()),I=Object(i.d)(c.a,()=>({"@media only screen and (max-width: 767px)":{marginBottom:"20px",":last-child":{marginBottom:0}}})),_=Object(i.d)(c.c,()=>({"@media only screen and (min-width: 768px)":{alignItems:"center"}})),A=[{value:"admin",label:"Admin"},{value:"manager",label:"Manager"},{value:"member",label:"Member"},{value:"delivery boy",label:"Delivery boy"},{value:"client",label:"Client"}];function P(){const e=Object(m.b)(),t=Object(o.useState)(0),a=Object(n.a)(t,2),r=a[0],i=(a[1],Object(o.useCallback)(()=>e({type:"OPEN_DRAWER",drawerComponent:"STAFF_MEMBER_FORM"}),[e])),b=Object(o.useState)([]),p=Object(n.a)(b,2),h=p[0],f=p[1],g=Object(o.useState)(""),E=Object(n.a)(g,2),x=E[0],v=E[1],O=Object(y.b)($),k=O.data,R=O.error,T=O.refetch;if(R)return l.a.createElement("div",null,"Error! ",R.message);return console.log(null===k||void 0===k?void 0:k.getStaffs),l.a.createElement(c.b,{fluid:!0},l.a.createElement(_,null,l.a.createElement(I,{md:12},l.a.createElement(w.a,{style:{marginBottom:40,boxShadow:"0 0 5px rgba(0, 0 ,0, 0.05)"}},l.a.createElement(I,{md:3,xs:12},l.a.createElement(w.b,null,"Staff Members")),l.a.createElement(I,{md:9,xs:12},l.a.createElement(_,null,l.a.createElement(I,{md:3,xs:12},l.a.createElement(s.a,{options:A,labelKey:"label",valueKey:"value",placeholder:"Role",value:h,searchable:!1,onChange:function({value:e}){f(e),e.length?T({role:e[0].value,searchBy:x}):T({role:null})}})),l.a.createElement(I,{md:5,xs:12},l.a.createElement(d.a,{value:x,placeholder:"Ex: Quick Search By Name",onChange:function(e){const t=e.currentTarget.value;v(t),T({searchBy:t})},clearable:!0})),l.a.createElement(I,{md:4,xs:12},l.a.createElement(u.b,{onClick:i,startEnhancer:()=>l.a.createElement(S.b,null),overrides:{BaseButton:{style:()=>({width:"100%",borderTopLeftRadius:"3px",borderTopRightRadius:"3px",borderBottomLeftRadius:"3px",borderBottomRightRadius:"3px"})}}},"Add Members"))))),l.a.createElement(w.c,{style:{boxShadow:"0 0 5px rgba(0, 0 , 0, 0.05)"}},l.a.createElement(D,null,l.a.createElement(C,{$gridTemplateColumns:"minmax(150px, auto) minmax(75px, auto) minmax(75px, auto) minmax(75px, auto) minmax(75px, auto) minmax(150px, auto) minmax(150px, max-content) minmax(75px, auto)"},l.a.createElement(M,null,"Name"),l.a.createElement(M,null,"Role"),l.a.createElement(M,null,"isWorking"),l.a.createElement(M,null,"Hourly rate"),l.a.createElement(M,null,"Weekly Salary"),l.a.createElement(M,null,"Salary in Advanced"),l.a.createElement(M,null,"Working Hours"),l.a.createElement(M,null,"Action"),k?k.getStaffs.length?k.getStaffs.map((e,t)=>{var a,n,o,i,c;return l.a.createElement(l.a.Fragment,{key:t},l.a.createElement(B,null,e.name||"-"),l.a.createElement(B,null,e.role||"-"),l.a.createElement(B,null,(null===(a=e.workInfo)||void 0===a?void 0:a.isWorking.toString())||"-"),l.a.createElement(B,null,(null===(n=e.workInfo)||void 0===n?void 0:n.ratePerHour)||"-"),l.a.createElement(B,null,(null===(o=e.workInfo)||void 0===o?void 0:o.totalSalaryToPayWeekly)||"-"),l.a.createElement(B,null,(null===(i=e.workInfo)||void 0===i?void 0:i.advancedSalaryPaid)||"-"),l.a.createElement(B,null,(null===(c=e.workInfo)||void 0===c?void 0:c.totalWorkingMinutesPerWeek)||"-"),l.a.createElement(B,null,l.a.createElement(j,{itemsOffset:r,itemData:e})))}):l.a.createElement(W.a,{hideButton:!1,style:{gridColumnStart:"1",gridColumnEnd:"one"}}):null))))))}}}]);
//# sourceMappingURL=26.8f0ceae2.chunk.js.map