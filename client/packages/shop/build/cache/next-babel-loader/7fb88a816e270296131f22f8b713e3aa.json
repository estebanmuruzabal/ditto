{"ast":null,"code":"var _jsxFileName = \"/Users/estebanmuruzabal/work/Mahdi-Fashion/client/packages/shop/src/components/product-card/product-card-five/product-card-five.tsx\";\nvar __jsx = React.createElement;\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useState } from 'react';\nimport Image from 'components/image/image';\nimport { PlusOutline } from 'assets/icons/PlusOutline';\nimport { CardWrapper, ImageWrapper, InfoWrapper, Title, Price, Unit, CartButton, Counter } from './product-card-five.style';\nimport { useCart } from 'contexts/cart/use-cart';\nimport { ProductQuantityExceededMsg } from 'features/carts/cart.style';\nimport { FormattedMessage } from 'react-intl';\n\nconst ProductCard = (_ref) => {\n  let {\n    title,\n    image,\n    weight,\n    price,\n    salePrice,\n    discountInPercent,\n    cartProducts,\n    addToCart,\n    updateCart,\n    value,\n    currency,\n    onChange,\n    increment,\n    decrement,\n    data,\n    deviceType,\n    onClick\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"title\", \"image\", \"weight\", \"price\", \"salePrice\", \"discountInPercent\", \"cartProducts\", \"addToCart\", \"updateCart\", \"value\", \"currency\", \"onChange\", \"increment\", \"decrement\", \"data\", \"deviceType\", \"onClick\"]);\n\n  const {\n    addItem,\n    removeItem,\n    getItem,\n    isInCart\n  } = useCart();\n  const {\n    0: showProductQuantityExceededMsg,\n    1: setShowProductQuantityExceededMsg\n  } = useState(false);\n\n  const showProductQuantityExceededMsgFor5Sec = () => {\n    setShowProductQuantityExceededMsg(true);\n    setTimeout(() => {\n      setShowProductQuantityExceededMsg(false);\n    }, 1500);\n  };\n\n  const handleAddClick = e => {\n    if (data.quantity < data.product_quantity) {\n      e.stopPropagation();\n      addItem(data);\n    } else {\n      showProductQuantityExceededMsgFor5Sec();\n    }\n  };\n\n  const handleRemoveClick = e => {\n    e.stopPropagation();\n    removeItem(data);\n  };\n\n  return __jsx(CardWrapper, {\n    onClick: onClick,\n    className: \"medicine-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, __jsx(ImageWrapper, {\n    className: isInCart(data === null || data === void 0 ? void 0 : data.id) && 'overlay',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, __jsx(Image, {\n    url: image,\n    className: \"product-image\",\n    style: {\n      position: 'relative'\n    },\n    alt: title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }), !isInCart(data === null || data === void 0 ? void 0 : data.id) ? __jsx(CartButton, {\n    className: \"cart-button\",\n    onClick: handleAddClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, __jsx(PlusOutline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  })) : __jsx(Counter, {\n    value: getItem(data === null || data === void 0 ? void 0 : data.id).quantity,\n    onDecrement: handleRemoveClick,\n    onIncrement: handleAddClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  })), showProductQuantityExceededMsg && __jsx(ProductQuantityExceededMsg, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"productStockLimit\",\n    defaultMessage: \"There is no more availability of this product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  })), __jsx(InfoWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, __jsx(Price, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }, currency, price), __jsx(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, title), __jsx(Unit, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, weight)));\n};\n\nexport default ProductCard;","map":{"version":3,"sources":["/Users/estebanmuruzabal/work/Mahdi-Fashion/client/packages/shop/src/components/product-card/product-card-five/product-card-five.tsx"],"names":["React","useState","Image","PlusOutline","CardWrapper","ImageWrapper","InfoWrapper","Title","Price","Unit","CartButton","Counter","useCart","ProductQuantityExceededMsg","FormattedMessage","ProductCard","title","image","weight","price","salePrice","discountInPercent","cartProducts","addToCart","updateCart","value","currency","onChange","increment","decrement","data","deviceType","onClick","props","addItem","removeItem","getItem","isInCart","showProductQuantityExceededMsg","setShowProductQuantityExceededMsg","showProductQuantityExceededMsgFor5Sec","setTimeout","handleAddClick","e","quantity","product_quantity","stopPropagation","handleRemoveClick","id","position"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Image from 'components/image/image';\nimport { PlusOutline } from 'assets/icons/PlusOutline';\nimport {\n  CardWrapper,\n  ImageWrapper,\n  InfoWrapper,\n  Title,\n  Price,\n  Unit,\n  CartButton,\n  Counter,\n} from './product-card-five.style';\nimport { useCart } from 'contexts/cart/use-cart';\nimport { ProductQuantityExceededMsg } from 'features/carts/cart.style';\nimport { FormattedMessage } from 'react-intl';\n\ntype ProductCardProps = {\n  title: string;\n  image: any;\n  weight: string;\n  currency?: string;\n  description?: string;\n  price: number;\n  salePrice?: number;\n  discountInPercent?: number;\n  data?: any;\n  onClick?: (e: any) => void;\n  onChange?: (e: any) => void;\n  increment?: (e: any) => void;\n  decrement?: (e: any) => void;\n  cartProducts?: any;\n  addToCart?: any;\n  updateCart?: any;\n  value?: any;\n  deviceType?: any;\n};\n\nconst ProductCard: React.FC<ProductCardProps> = ({\n  title,\n  image,\n  weight,\n  price,\n  salePrice,\n  discountInPercent,\n  cartProducts,\n  addToCart,\n  updateCart,\n  value,\n  currency,\n  onChange,\n  increment,\n  decrement,\n  data,\n  deviceType,\n  onClick,\n  ...props\n}) => {\n  const { addItem, removeItem, getItem, isInCart } = useCart();\n  const [showProductQuantityExceededMsg, setShowProductQuantityExceededMsg] = useState(false);\n\n  const showProductQuantityExceededMsgFor5Sec = () => {\n    setShowProductQuantityExceededMsg(true);\n    setTimeout(() => {\n      setShowProductQuantityExceededMsg(false);\n    }, 1500)\n  };\n\n  const handleAddClick = (e) => {\n    if (data.quantity < data.product_quantity) {\n      e.stopPropagation();\n      addItem(data)\n    } else {\n      showProductQuantityExceededMsgFor5Sec()\n    }\n  };\n\n  const handleRemoveClick = (e) => {\n    e.stopPropagation();\n    removeItem(data);\n  };\n\n  return (\n    <CardWrapper onClick={onClick} className=\"medicine-card\">\n      <ImageWrapper className={isInCart(data?.id) && 'overlay'}>\n        <Image\n          url={image}\n          className=\"product-image\"\n          style={{ position: 'relative' }}\n          alt={title}\n        />\n\n        {!isInCart(data?.id) ? (\n          <CartButton className=\"cart-button\" onClick={handleAddClick}>\n            <PlusOutline />\n          </CartButton>\n        ) : (\n          <Counter\n            value={getItem(data?.id).quantity}\n            onDecrement={handleRemoveClick}\n            onIncrement={handleAddClick}\n          />\n        )}\n      </ImageWrapper>\n      { showProductQuantityExceededMsg && (\n        <ProductQuantityExceededMsg>\n          <FormattedMessage\n            id='productStockLimit'\n            defaultMessage='There is no more availability of this product'\n          />\n        </ProductQuantityExceededMsg>\n      )}\n      <InfoWrapper>\n        <Price>\n          {currency}\n          {price}\n        </Price>\n\n        <Title>{title}</Title>\n        <Unit>{weight}</Unit>\n      </InfoWrapper>\n    </CardWrapper>\n  );\n};\n\nexport default ProductCard;\n"]},"metadata":{},"sourceType":"module"}