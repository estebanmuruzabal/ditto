{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/estebanmuruzabal/work/Mahdi-Fashion/client/packages/shop/src/features/carts/fixed-cart-popup.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  .cartPopup{\\n    top: auto !important;\\n    left: auto !important;\\n    bottom: 50px !important;\\n    right: 50px !important;\\n    box-shadow: \", \";\\n    transform-origin: bottom right;\\n\\n    @media (max-width: 767px) {\\n      max-width: none!important;\\n      width: 100% !important;\\n      bottom: 0 !important;\\n      left: 0!important;\\n      background: \", \";\\n      overflow: initial !important;\\n      transform-origin: bottom center;\\n    }\\n  }\\n\\n.fixedCartPopup{\\n  @media (min-width: 991px) {\\n    display: none;\\n  }\\n}\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport { createGlobalStyle } from 'styled-components';\nimport { themeGet } from '@styled-system/theme-get';\nimport { openModal, closeModal } from '@redq/reuse-modal';\nimport FixedCart from './fixed-cart';\nimport CartPopupButton from 'components/cart-popup/cart-popup-button';\nimport { CURRENCY } from 'utils/constant';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { useCart } from 'contexts/cart/use-cart';\nvar CartPopupStyle = createGlobalStyle(_templateObject(), themeGet('shadows.big', '0 21px 36px rgba(0, 0, 0, 0.16)'), themeGet('colors.white', '#ffffff'));\n_c = CartPopupStyle;\n\nvar FixedCartPopup = function FixedCartPopup(_ref) {\n  _s();\n\n  var onCheckout = _ref.onCheckout;\n\n  var _useCart = useCart(),\n      isOpen = _useCart.isOpen,\n      cartItemsCount = _useCart.cartItemsCount,\n      toggleCart = _useCart.toggleCart,\n      calculatePrice = _useCart.calculatePrice;\n\n  var intl = useIntl();\n\n  var handleModal = function handleModal() {\n    openModal({\n      show: true,\n      config: {\n        className: 'cartPopup',\n        width: 'auto',\n        height: 'auto',\n        enableResizing: false,\n        disableDragging: true,\n        transition: {\n          tension: 360,\n          friction: 40\n        }\n      },\n      closeOnClickOutside: true,\n      component: FixedCart,\n      closeComponent: function closeComponent() {\n        return __jsx(\"div\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 29\n          }\n        });\n      },\n      componentProps: {\n        onCloseBtnClick: closeModal,\n        scrollbarHeight: 370,\n        onCheckout: onCheckout\n      }\n    });\n  };\n\n  return __jsx(React.Fragment, null, __jsx(CartPopupStyle, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }), __jsx(CartPopupButton, {\n    className: \"fixedCartPopup\",\n    itemCount: cartItemsCount,\n    btnText: intl.formatMessage({\n      id: 'buyNowId',\n      defaultMessage: 'Buy now'\n    }),\n    itemPostfix: cartItemsCount > 1 ? __jsx(FormattedMessage, {\n      id: \"cartItems\",\n      defaultMessage: \"items\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }) : __jsx(FormattedMessage, {\n      id: \"cartItem\",\n      defaultMessage: \"item\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }),\n    price: calculatePrice(),\n    pricePrefix: CURRENCY,\n    onClick: handleModal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }));\n};\n\n_s(FixedCartPopup, \"LqtUtaSJ89tc2pZ/n2imJ1IqiSI=\", false, function () {\n  return [useCart, useIntl];\n});\n\n_c2 = FixedCartPopup;\nexport default FixedCartPopup;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CartPopupStyle\");\n$RefreshReg$(_c2, \"FixedCartPopup\");","map":{"version":3,"sources":["/Users/estebanmuruzabal/work/Mahdi-Fashion/client/packages/shop/src/features/carts/fixed-cart-popup.tsx"],"names":["React","createGlobalStyle","themeGet","openModal","closeModal","FixedCart","CartPopupButton","CURRENCY","FormattedMessage","useIntl","useCart","CartPopupStyle","FixedCartPopup","onCheckout","isOpen","cartItemsCount","toggleCart","calculatePrice","intl","handleModal","show","config","className","width","height","enableResizing","disableDragging","transition","tension","friction","closeOnClickOutside","component","closeComponent","componentProps","onCloseBtnClick","scrollbarHeight","formatMessage","id","defaultMessage"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,iBAAT,QAAkC,mBAAlC;AACA,SAASC,QAAT,QAAyB,0BAAzB;AACA,SAASC,SAAT,EAAoBC,UAApB,QAAsC,mBAAtC;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,OAAOC,eAAP,MAA4B,yCAA5B;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACA,SAASC,gBAAT,EAA2BC,OAA3B,QAA0C,YAA1C;AACA,SAASC,OAAT,QAAwB,wBAAxB;AAEA,IAAMC,cAAc,GAAGV,iBAAH,oBAMFC,QAAQ,CAAC,aAAD,EAAgB,iCAAhB,CANN,EAcAA,QAAQ,CAAC,cAAD,EAAiB,SAAjB,CAdR,CAApB;KAAMS,c;;AA+BN,IAAMC,cAAmC,GAAG,SAAtCA,cAAsC,OAAoB;AAAA;;AAAA,MAAjBC,UAAiB,QAAjBA,UAAiB;;AAAA,iBACCH,OAAO,EADR;AAAA,MACtDI,MADsD,YACtDA,MADsD;AAAA,MAC9CC,cAD8C,YAC9CA,cAD8C;AAAA,MAC9BC,UAD8B,YAC9BA,UAD8B;AAAA,MAClBC,cADkB,YAClBA,cADkB;;AAE9D,MAAMC,IAAI,GAAGT,OAAO,EAApB;;AACA,MAAMU,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxBhB,IAAAA,SAAS,CAAC;AACRiB,MAAAA,IAAI,EAAE,IADE;AAERC,MAAAA,MAAM,EAAE;AACNC,QAAAA,SAAS,EAAE,WADL;AAENC,QAAAA,KAAK,EAAE,MAFD;AAGNC,QAAAA,MAAM,EAAE,MAHF;AAINC,QAAAA,cAAc,EAAE,KAJV;AAKNC,QAAAA,eAAe,EAAE,IALX;AAMNC,QAAAA,UAAU,EAAE;AACVC,UAAAA,OAAO,EAAE,GADC;AAEVC,UAAAA,QAAQ,EAAE;AAFA;AANN,OAFA;AAaRC,MAAAA,mBAAmB,EAAE,IAbb;AAcRC,MAAAA,SAAS,EAAE1B,SAdH;AAeR2B,MAAAA,cAAc,EAAE;AAAA,eAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAN;AAAA,OAfR;AAgBRC,MAAAA,cAAc,EAAE;AACdC,QAAAA,eAAe,EAAE9B,UADH;AAEd+B,QAAAA,eAAe,EAAE,GAFH;AAGdtB,QAAAA,UAAU,EAAEA;AAHE;AAhBR,KAAD,CAAT;AAsBD,GAvBD;;AAyBA,SACE,4BACE,MAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,MAAC,eAAD;AACE,IAAA,SAAS,EAAC,gBADZ;AAEE,IAAA,SAAS,EAAEE,cAFb;AAGE,IAAA,OAAO,EAAEG,IAAI,CAACkB,aAAL,CAAmB;AAAEC,MAAAA,EAAE,EAAE,UAAN;AAAkBC,MAAAA,cAAc,EAAE;AAAlC,KAAnB,CAHX;AAIE,IAAA,WAAW,EACTvB,cAAc,GAAG,CAAjB,GACE,MAAC,gBAAD;AAAkB,MAAA,EAAE,EAAC,WAArB;AAAiC,MAAA,cAAc,EAAC,OAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,GAGE,MAAC,gBAAD;AAAkB,MAAA,EAAE,EAAC,UAArB;AAAgC,MAAA,cAAc,EAAC,MAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARN;AAWE,IAAA,KAAK,EAAEE,cAAc,EAXvB;AAYE,IAAA,WAAW,EAAEV,QAZf;AAaE,IAAA,OAAO,EAAEY,WAbX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF;AAoBD,CAhDD;;GAAMP,c;UAC2DF,O,EAClDD,O;;;MAFTG,c;AAkDN,eAAeA,cAAf","sourcesContent":["import React from 'react';\nimport { createGlobalStyle } from 'styled-components';\nimport { themeGet } from '@styled-system/theme-get';\nimport { openModal, closeModal } from '@redq/reuse-modal';\nimport FixedCart from './fixed-cart';\nimport CartPopupButton from 'components/cart-popup/cart-popup-button';\nimport { CURRENCY } from 'utils/constant';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { useCart } from 'contexts/cart/use-cart';\n\nconst CartPopupStyle = createGlobalStyle`\n  .cartPopup{\n    top: auto !important;\n    left: auto !important;\n    bottom: 50px !important;\n    right: 50px !important;\n    box-shadow: ${themeGet('shadows.big', '0 21px 36px rgba(0, 0, 0, 0.16)')};\n    transform-origin: bottom right;\n\n    @media (max-width: 767px) {\n      max-width: none!important;\n      width: 100% !important;\n      bottom: 0 !important;\n      left: 0!important;\n      background: ${themeGet('colors.white', '#ffffff')};\n      overflow: initial !important;\n      transform-origin: bottom center;\n    }\n  }\n\n.fixedCartPopup{\n  @media (min-width: 991px) {\n    display: none;\n  }\n}\n`;\n\ntype CartProps = {\n  onCheckout?: (e: any) => void;\n};\n\nconst FixedCartPopup: React.FC<CartProps> = ({ onCheckout }) => {\n  const { isOpen, cartItemsCount, toggleCart, calculatePrice } = useCart();\n  const intl = useIntl();\n  const handleModal = () => {\n    openModal({\n      show: true,\n      config: {\n        className: 'cartPopup',\n        width: 'auto',\n        height: 'auto',\n        enableResizing: false,\n        disableDragging: true,\n        transition: {\n          tension: 360,\n          friction: 40,\n        },\n      },\n      closeOnClickOutside: true,\n      component: FixedCart,\n      closeComponent: () => <div />,\n      componentProps: {\n        onCloseBtnClick: closeModal,\n        scrollbarHeight: 370,\n        onCheckout: onCheckout,\n      },\n    });\n  };\n\n  return (\n    <>\n      <CartPopupStyle />\n      <CartPopupButton\n        className='fixedCartPopup'\n        itemCount={cartItemsCount}\n        btnText={intl.formatMessage({ id: 'buyNowId', defaultMessage: 'Buy now' })}\n        itemPostfix={\n          cartItemsCount > 1 ? (\n            <FormattedMessage id='cartItems' defaultMessage='items' />\n          ) : (\n            <FormattedMessage id='cartItem' defaultMessage='item' />\n          )\n        }\n        price={calculatePrice()}\n        pricePrefix={CURRENCY}\n        onClick={handleModal}\n      />\n    </>\n  );\n};\n\nexport default FixedCartPopup;\n"]},"metadata":{},"sourceType":"module"}