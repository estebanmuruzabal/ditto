{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nvar isClient = true;\nexport var useMedia = function useMedia(query) {\n  _s();\n\n  var defaultState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var _useState = useState(isClient ? function () {\n    return window.matchMedia(query).matches;\n  } : defaultState),\n      state = _useState[0],\n      setState = _useState[1];\n\n  useEffect(function () {\n    var mounted = true;\n    var mql = window.matchMedia(query);\n\n    var onChange = function onChange() {\n      if (!mounted) {\n        return;\n      }\n\n      setState(!!mql.matches);\n    };\n\n    mql.addListener(onChange);\n    setState(mql.matches);\n    return function () {\n      mounted = false;\n      mql.removeListener(onChange);\n    };\n  }, [query]);\n  return state;\n};\n\n_s(useMedia, \"E/9m7gTzrwHa3IAOj1R8iV1/0p0=\");\n\nexport var mobile = useMedia('(max-width: 580px)');","map":{"version":3,"sources":["/Users/virginiamuruzabal/work/ditto/client/packages/shop/src/utils/use-media.ts"],"names":["useEffect","useState","isClient","useMedia","query","defaultState","window","matchMedia","matches","state","setState","mounted","mql","onChange","addListener","removeListener","mobile"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,IAAMC,QAAQ,OAAd;AAEA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAkD;AAAA;;AAAA,MAAlCC,YAAkC,uEAAV,KAAU;;AAAA,kBAC9CJ,QAAQ,CAChCC,QAAQ,GAAG;AAAA,WAAMI,MAAM,CAACC,UAAP,CAAkBH,KAAlB,EAAyBI,OAA/B;AAAA,GAAH,GAA4CH,YADpB,CADsC;AAAA,MACjEI,KADiE;AAAA,MAC1DC,QAD0D;;AAKxEV,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIW,OAAO,GAAG,IAAd;AACA,QAAMC,GAAG,GAAGN,MAAM,CAACC,UAAP,CAAkBH,KAAlB,CAAZ;;AACA,QAAMS,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrB,UAAI,CAACF,OAAL,EAAc;AACZ;AACD;;AACDD,MAAAA,QAAQ,CAAC,CAAC,CAACE,GAAG,CAACJ,OAAP,CAAR;AACD,KALD;;AAOAI,IAAAA,GAAG,CAACE,WAAJ,CAAgBD,QAAhB;AACAH,IAAAA,QAAQ,CAACE,GAAG,CAACJ,OAAL,CAAR;AAEA,WAAO,YAAM;AACXG,MAAAA,OAAO,GAAG,KAAV;AACAC,MAAAA,GAAG,CAACG,cAAJ,CAAmBF,QAAnB;AACD,KAHD;AAID,GAjBQ,EAiBN,CAACT,KAAD,CAjBM,CAAT;AAmBA,SAAOK,KAAP;AACD,CAzBM;;GAAMN,Q;;AA2Bb,OAAO,IAAMa,MAAM,GAAGb,QAAQ,CAAC,oBAAD,CAAvB","sourcesContent":["import { useEffect, useState } from 'react';\nconst isClient = typeof window === 'object';\n\nexport const useMedia = (query: string, defaultState: boolean = false) => {\n  const [state, setState] = useState(\n    isClient ? () => window.matchMedia(query).matches : defaultState\n  );\n\n  useEffect(() => {\n    let mounted = true;\n    const mql = window.matchMedia(query);\n    const onChange = () => {\n      if (!mounted) {\n        return;\n      }\n      setState(!!mql.matches);\n    };\n\n    mql.addListener(onChange);\n    setState(mql.matches);\n\n    return () => {\n      mounted = false;\n      mql.removeListener(onChange);\n    };\n  }, [query]);\n\n  return state;\n};\n\nexport const mobile = useMedia('(max-width: 580px)');"]},"metadata":{},"sourceType":"module"}