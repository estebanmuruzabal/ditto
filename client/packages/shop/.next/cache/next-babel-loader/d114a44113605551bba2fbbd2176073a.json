{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Image from 'components/image/image';\nimport { PlusOutline } from 'assets/icons/PlusOutline';\nimport { CardWrapper, ImageWrapper, InfoWrapper, Title, Price, Unit, CartButton, Counter } from './product-card-five.style';\nimport { useCart } from 'contexts/cart/use-cart';\nimport { ProductQuantityExceededMsg } from 'features/carts/cart.style';\nimport { FormattedMessage } from 'react-intl';\n\nvar ProductCard = function ProductCard(_ref) {\n  var title = _ref.title,\n      image = _ref.image,\n      weight = _ref.weight,\n      price = _ref.price,\n      salePrice = _ref.salePrice,\n      discountInPercent = _ref.discountInPercent,\n      cartProducts = _ref.cartProducts,\n      addToCart = _ref.addToCart,\n      updateCart = _ref.updateCart,\n      value = _ref.value,\n      currency = _ref.currency,\n      onChange = _ref.onChange,\n      increment = _ref.increment,\n      decrement = _ref.decrement,\n      data = _ref.data,\n      deviceType = _ref.deviceType,\n      onClick = _ref.onClick,\n      props = _objectWithoutProperties(_ref, [\"title\", \"image\", \"weight\", \"price\", \"salePrice\", \"discountInPercent\", \"cartProducts\", \"addToCart\", \"updateCart\", \"value\", \"currency\", \"onChange\", \"increment\", \"decrement\", \"data\", \"deviceType\", \"onClick\"]);\n\n  var _useCart = useCart(),\n      addItem = _useCart.addItem,\n      removeItem = _useCart.removeItem,\n      getItem = _useCart.getItem,\n      isInCart = _useCart.isInCart;\n\n  var _useState = useState(false),\n      showProductQuantityExceededMsg = _useState[0],\n      setShowProductQuantityExceededMsg = _useState[1];\n\n  var showProductQuantityExceededMsgFor5Sec = function showProductQuantityExceededMsgFor5Sec() {\n    setShowProductQuantityExceededMsg(true);\n    setTimeout(function () {\n      setShowProductQuantityExceededMsg(false);\n    }, 1500);\n  };\n\n  var handleAddClick = function handleAddClick(e) {\n    if (data.quantity < data.product_quantity) {\n      e.stopPropagation();\n      addItem(data);\n    } else {\n      showProductQuantityExceededMsgFor5Sec();\n    }\n  };\n\n  var handleRemoveClick = function handleRemoveClick(e) {\n    e.stopPropagation();\n    removeItem(data);\n  };\n\n  return __jsx(CardWrapper, {\n    onClick: onClick,\n    className: \"medicine-card\"\n  }, __jsx(ImageWrapper, {\n    className: isInCart(data === null || data === void 0 ? void 0 : data.id) && 'overlay'\n  }, __jsx(Image, {\n    url: image,\n    className: \"product-image\",\n    style: {\n      position: 'relative'\n    },\n    alt: title\n  }), !isInCart(data === null || data === void 0 ? void 0 : data.id) ? __jsx(CartButton, {\n    className: \"cart-button\",\n    onClick: handleAddClick\n  }, __jsx(PlusOutline, null)) : __jsx(Counter, {\n    value: getItem(data === null || data === void 0 ? void 0 : data.id).quantity,\n    onDecrement: handleRemoveClick,\n    onIncrement: handleAddClick\n  })), showProductQuantityExceededMsg && __jsx(ProductQuantityExceededMsg, null, __jsx(FormattedMessage, {\n    id: \"productStockLimit\",\n    defaultMessage: \"There is no more availability of this product\"\n  })), __jsx(InfoWrapper, null, __jsx(Price, null, currency, price), __jsx(Title, null, title), __jsx(Unit, null, weight)));\n};\n\nexport default ProductCard;","map":null,"metadata":{},"sourceType":"module"}