{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport { Text } from '../your-plants.style';\nimport { useQuery } from '@apollo/react-hooks';\nimport { GET_LOGGED_IN_USER_SETTINGS } from 'graphql/query/customer.query';\n\nvar LightReading = function LightReading(_ref) {\n  var _data$getUser, _data$getUser$plants;\n\n  var plant = _ref.plant,\n      settingType = _ref.settingType;\n  var setting = plant.sensors.find(function (module) {\n    return module.settingType === settingType;\n  });\n\n  var _useQuery = useQuery(GET_LOGGED_IN_USER_SETTINGS, {\n    notifyOnNetworkStatusChange: true,\n    fetchPolicy: \"network-only\",\n    pollInterval: 10000\n  }),\n      loading = _useQuery.loading,\n      error = _useQuery.error,\n      data = _useQuery.data;\n\n  var sensorIndex = Number(setting === null || setting === void 0 ? void 0 : setting.settingType[(setting === null || setting === void 0 ? void 0 : setting.settingType.length) - 1]);\n  var plantIndex = data === null || data === void 0 ? void 0 : (_data$getUser = data.getUser) === null || _data$getUser === void 0 ? void 0 : (_data$getUser$plants = _data$getUser.plants) === null || _data$getUser$plants === void 0 ? void 0 : _data$getUser$plants.findIndex(function (plant) {\n    return plant.plantId === plant.plantId;\n  }); // const reading = data?.getUser.plants[plantIndex]?.sensors[sensorIndex]?.reading;\n\n  return __jsx(Text, {\n    bold: true\n  }, setting === null || setting === void 0 ? void 0 : setting.reading, \" % \", (setting === null || setting === void 0 ? void 0 : setting.reading) < 40 ? 'ðŸŒ™' : 'ðŸ’¡');\n};\n\nexport default LightReading;","map":null,"metadata":{},"sourceType":"module"}