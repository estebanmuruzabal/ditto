{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState } from 'react';\nimport { CloseIcon } from 'assets/icons/CloseIcon';\nimport { PencilIcon } from 'assets/icons/PencilIcon';\nimport Switch from 'components/switch/switch';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport Select from 'react-select';\nimport { Input } from 'components/forms/input';\nimport { fourRelaysOptions, manualModeOptions, DistanceMode, distanceModeOptions } from 'utils/constant';\nimport HumidityLogsGraph from '../humidity-logs-graph/humidity-logs-graph';\nimport { PlantsSensorContainer, ListItem, ListTitle, ListDes, CardButtons, ActionButton, Text, Status, Type, Row, ErrorMsg, Porcentage } from '../your-plants.style';\nimport { openModal } from '@redq/reuse-modal';\nimport { getRelayNameText, getSettingTypeText } from 'utils/sensorUtils';\nimport { CheckMark } from 'assets/icons/CheckMark';\n\nconst DistanceSensor = ({\n  plant,\n  settingType,\n  handleSettingsChange,\n  onDeleteSchedule,\n  data,\n  openTab,\n  setOpenTab,\n  handleDeleteSensor,\n  errorId\n}) => {\n  var _setting$logs;\n\n  const setting = plant.sensors.find(sensor => sensor.settingType === settingType);\n  const intl = useIntl();\n  const {\n    0: daySelected,\n    1: setDay\n  } = useState('');\n  const {\n    0: editIsOn,\n    1: setEditIsOn\n  } = useState(false);\n  const selectedMode = distanceModeOptions.find(option => option.value === setting.mode);\n  const selectedManualState = manualModeOptions.find(option => option.value === setting.relayOneWorking);\n  const relayOneSelected = fourRelaysOptions.find(option => option.value === setting.relayOneIdRelated);\n  const relayTwoSelected = fourRelaysOptions.find(option => option.value === setting.relayTwoIdRelated);\n  const selectStyle = {\n    control: styles => _objectSpread(_objectSpread({}, styles), {}, {\n      width: '179.88px',\n      textAlign: 'left'\n    })\n  }; // const tabIsOpen = openTab === settingType;\n\n  const tabIsOpen = true;\n\n  const handleModal = (modalComponent, modalProps = {}, className = 'add-time-schedule-modal') => {\n    openModal({\n      show: true,\n      config: {\n        width: 360,\n        height: 'auto',\n        enableResizing: false,\n        disableDragging: true,\n        className: className\n      },\n      closeOnClickOutside: true,\n      component: modalComponent,\n      componentProps: {\n        item: modalProps\n      }\n    });\n  };\n\n  return __jsx(PlantsSensorContainer, {\n    style: {\n      height: tabIsOpen ? '100%' : '82px'\n    },\n    onClick: () => setOpenTab(tabIsOpen ? '' : settingType)\n  }, __jsx(ListItem, {\n    style: {\n      justifyContent: 'flex-start'\n    }\n  }, __jsx(ListTitle, null, __jsx(Type, {\n    bold: true\n  }, getSettingTypeText(setting === null || setting === void 0 ? void 0 : setting.settingType))), __jsx(ListDes, {\n    style: {\n      marginLeft: '-10px'\n    }\n  }, __jsx(CardButtons, {\n    className: \"button-wrapper\"\n  }, editIsOn ? __jsx(ActionButton, {\n    onClick: () => setEditIsOn(!editIsOn),\n    className: \"edit-btn\"\n  }, __jsx(CheckMark, null)) : __jsx(ActionButton, {\n    onClick: () => setEditIsOn(!editIsOn),\n    className: \"edit-btn\"\n  }, __jsx(PencilIcon, null)), __jsx(ActionButton, {\n    onClick: () => handleDeleteSensor(plant, settingType),\n    className: \"delete-btn\"\n  }, __jsx(CloseIcon, null))))), (setting === null || setting === void 0 ? void 0 : setting.mode) === DistanceMode.NONE && !!openTab && __jsx(ListItem, null, __jsx(Status, null, __jsx(FormattedMessage, {\n    id: \"modoRequiredWarningText\",\n    defaultMessage: \"modoRequiredWarningText\"\n  }))), __jsx(ListItem, {\n    style: {\n      justifyContent: 'flex-start'\n    }\n  }, __jsx(ListTitle, null, __jsx(Text, null, __jsx(FormattedMessage, {\n    id: \"distanceId\",\n    defaultMessage: \"distanceId\"\n  }))), __jsx(ListDes, null, __jsx(Text, {\n    bold: true\n  }, (setting === null || setting === void 0 ? void 0 : setting.reading) > 0 && (setting === null || setting === void 0 ? void 0 : setting.reading) < 100 ? (setting === null || setting === void 0 ? void 0 : setting.reading) + 'cm.' : '-', \" \"))), __jsx(ListItem, {\n    style: {\n      justifyContent: 'flex-start'\n    }\n  }, __jsx(ListTitle, null, __jsx(Text, null, __jsx(FormattedMessage, {\n    id: \"plantName\",\n    defaultMessage: \"plantName\"\n  }))), __jsx(ListDes, null, editIsOn ? __jsx(Input, {\n    type: \"text\",\n    name: \"name\",\n    value: setting.name,\n    placeholder: intl.formatMessage({\n      id: 'plantNameRequiredNameId',\n      defaultMessage: 'plantNameRequiredNameId'\n    }),\n    onChange: e => handleSettingsChange(plant, 'name', e.target.value, settingType),\n    backgroundColor: \"#F7F7F7\",\n    height: \"34.5px\" // intlInputLabelId=\"profileEmailField\"\n\n  }) : __jsx(Text, {\n    bold: true\n  }, setting === null || setting === void 0 ? void 0 : setting.name))), __jsx(ListItem, {\n    style: {\n      justifyContent: 'flex-start'\n    }\n  }, __jsx(ListTitle, null, __jsx(Text, null, __jsx(FormattedMessage, {\n    id: \"distanceModeId\",\n    defaultMessage: \"distanceModeId\"\n  }))), __jsx(ListDes, null, editIsOn ? __jsx(Select, {\n    onChange: e => handleSettingsChange(plant, 'mode', e.value, settingType),\n    value: selectedMode // placeholder={'asdsad'}\n    ,\n    options: distanceModeOptions,\n    styles: selectStyle,\n    menuPosition: 'fixed'\n  }) : __jsx(Text, {\n    bold: true\n  }, selectedMode.value.length > 1 ? selectedMode.label : '-'))), (setting === null || setting === void 0 ? void 0 : setting.mode) !== DistanceMode.NONE && __jsx(ListItem, {\n    style: {\n      justifyContent: 'flex-start'\n    }\n  }, __jsx(ListTitle, null, __jsx(Text, null, __jsx(FormattedMessage, {\n    id: \"notifyChangesId\",\n    defaultMessage: \"notifyChangesId\"\n  }))), __jsx(ListDes, null, __jsx(Switch, {\n    disabled: (setting === null || setting === void 0 ? void 0 : setting.mode) === DistanceMode.MIN_WARNING || (setting === null || setting === void 0 ? void 0 : setting.mode) === DistanceMode.MAX_WARNING ? true : false,\n    checked: setting.whatsappWarningsOn || (setting === null || setting === void 0 ? void 0 : setting.mode) === DistanceMode.MIN_WARNING || (setting === null || setting === void 0 ? void 0 : setting.mode) === DistanceMode.MAX_WARNING,\n    labelPosition: 'right' // className,\n    ,\n    onUpdate: () => handleSettingsChange(plant, 'whatsappWarningsOn', !setting.whatsappWarningsOn, settingType)\n  }))), (setting === null || setting === void 0 ? void 0 : setting.mode) === DistanceMode.MIN_WARNING && __jsx(ListItem, null, __jsx(ListTitle, null, __jsx(Text, null, __jsx(FormattedMessage, {\n    id: \"minDistanceId\",\n    defaultMessage: \"minDistanceId\"\n  }))), __jsx(ListDes, null, editIsOn ? __jsx(Row, null, __jsx(Input, {\n    type: \"number\",\n    name: \"minWarning\",\n    value: setting.minWarning,\n    onChange: e => handleSettingsChange(plant, 'minWarning', e.target.value, settingType),\n    backgroundColor: \"#F7F7F7\",\n    height: \"34.5px\",\n    width: \"45px\"\n  }), __jsx(Porcentage, null, \"%\")) : __jsx(Text, {\n    bold: true\n  }, setting.minWarning)), errorId === 'minWarning' && __jsx(ErrorMsg, null, __jsx(FormattedMessage, {\n    id: \"minMaxWarningId\",\n    defaultMessage: \"minMaxWarningId\"\n  }))), (setting === null || setting === void 0 ? void 0 : setting.mode) === DistanceMode.MAX_WARNING && __jsx(ListItem, null, __jsx(ListTitle, null, __jsx(Text, null, __jsx(FormattedMessage, {\n    id: \"maxDistanceId\",\n    defaultMessage: \"maxDistanceId\"\n  }))), __jsx(ListDes, null, editIsOn ? __jsx(Row, null, __jsx(Input, {\n    type: \"number\",\n    name: \"maxWarning\",\n    value: setting.maxWarning,\n    onChange: e => handleSettingsChange(plant, 'maxWarning', e.target.value, settingType),\n    backgroundColor: \"#F7F7F7\",\n    height: \"34.5px\",\n    width: \"45px\"\n  }), __jsx(Porcentage, null, \"%\")) : __jsx(Text, {\n    bold: true\n  }, setting.maxWarning), errorId === 'maxWarning' && __jsx(ErrorMsg, null, __jsx(FormattedMessage, {\n    id: \"minMaxWarningId\",\n    defaultMessage: \"minMaxWarningId\"\n  })))), ((setting === null || setting === void 0 ? void 0 : setting.mode) === DistanceMode.MIN_WARNING || (setting === null || setting === void 0 ? void 0 : setting.mode) === DistanceMode.MAX_WARNING) && __jsx(ListItem, null, __jsx(ListTitle, null, __jsx(Text, null, __jsx(FormattedMessage, {\n    id: \"timeWithoutNotice\",\n    defaultMessage: \"timeWithoutNotice\"\n  }))), __jsx(ListDes, null, editIsOn ? __jsx(Row, null, __jsx(Input, {\n    type: \"number\",\n    name: \"relayTwoAutomatedStartedTime\",\n    value: setting.relayTwoAutomatedStartedTime,\n    onChange: e => handleSettingsChange(plant, 'relayTwoAutomatedStartedTime', e.target.value, settingType),\n    backgroundColor: \"#F7F7F7\",\n    height: \"34.5px\",\n    width: \"45px\"\n  }), __jsx(Porcentage, null, \"mins\")) : __jsx(Text, {\n    bold: true\n  }, setting.relayTwoAutomatedStartedTime))), [DistanceMode.WHEN_FULL_ACTION_CUSTOM, DistanceMode.WHEN_FULL_ACTION_AUTOMATED].indexOf(setting.mode) >= 0 && __jsx(React.Fragment, null, (setting === null || setting === void 0 ? void 0 : setting.mode) === DistanceMode.WHEN_FULL_ACTION_AUTOMATED && __jsx(ListItem, null, __jsx(ListTitle, null, __jsx(Text, null, __jsx(FormattedMessage, {\n    id: \"minDistanceId\",\n    defaultMessage: \"minDistanceId\"\n  }))), __jsx(ListDes, null, editIsOn ? __jsx(Row, null, __jsx(Input, {\n    type: \"number\",\n    name: \"minWarning\",\n    value: setting.minWarning,\n    onChange: e => handleSettingsChange(plant, 'minWarning', e.target.value, settingType),\n    backgroundColor: \"#F7F7F7\",\n    height: \"34.5px\",\n    width: \"45px\"\n  }), __jsx(Porcentage, null, \"%\")) : __jsx(Text, {\n    bold: true\n  }, setting.minWarning)), errorId === 'minWarning' && __jsx(ErrorMsg, null, __jsx(FormattedMessage, {\n    id: \"minMaxWarningId\",\n    defaultMessage: \"minMaxWarningId\"\n  }))), __jsx(ListItem, null, __jsx(ListTitle, null, __jsx(Text, null, __jsx(FormattedMessage, {\n    id: \"maxDistanceId\",\n    defaultMessage: \"maxDistanceId\"\n  }))), __jsx(ListDes, null, editIsOn ? __jsx(Row, null, __jsx(Input, {\n    type: \"number\",\n    name: \"maxWarning\",\n    value: setting.maxWarning,\n    onChange: e => handleSettingsChange(plant, 'maxWarning', e.target.value, settingType),\n    backgroundColor: \"#F7F7F7\",\n    height: \"34.5px\",\n    width: \"45px\"\n  }), __jsx(Porcentage, null, \"%\")) : __jsx(Text, {\n    bold: true\n  }, setting.maxWarning), errorId === 'maxWarning' && __jsx(ErrorMsg, null, __jsx(FormattedMessage, {\n    id: \"minMaxWarningId\",\n    defaultMessage: \"minMaxWarningId\"\n  })))), (setting === null || setting === void 0 ? void 0 : setting.mode) === DistanceMode.WHEN_FULL_ACTION_CUSTOM && __jsx(ListItem, null, __jsx(ListTitle, null, __jsx(Text, null, __jsx(FormattedMessage, {\n    id: \"runingMinMaxWarningTimeId\",\n    defaultMessage: \"runingMinMaxWarningTimeId\"\n  }))), __jsx(ListDes, null, editIsOn ? __jsx(Row, null, __jsx(Input, {\n    type: \"number\",\n    name: \"relayOneAutomatedTimeToRun\",\n    value: setting.relayOneAutomatedTimeToRun,\n    onChange: e => handleSettingsChange(plant, 'relayOneAutomatedTimeToRun', e.target.value, settingType),\n    backgroundColor: \"#F7F7F7\",\n    height: \"34.5px\",\n    width: \"45px\"\n  }), __jsx(Porcentage, null, \"mins.\")) : __jsx(Text, {\n    bold: true\n  }, setting.relayOneAutomatedTimeToRun))), __jsx(ListItem, null, __jsx(ListTitle, null, __jsx(Text, null, __jsx(FormattedMessage, {\n    id: \"asociateRelayTwoId\",\n    defaultMessage: \"asociateRelayTwoId\"\n  }))), __jsx(ListDes, null, editIsOn ? __jsx(Select, {\n    onChange: e => handleSettingsChange(plant, 'relayTwoIdRelated', e.value, settingType),\n    value: relayTwoSelected,\n    options: fourRelaysOptions,\n    styles: selectStyle,\n    menuPosition: 'fixed'\n  }) : __jsx(Text, {\n    bold: true\n  }, (setting === null || setting === void 0 ? void 0 : setting.relayTwoIdRelated.length) > 1 ? getRelayNameText(setting === null || setting === void 0 ? void 0 : setting.relayTwoIdRelated) : '-')))), [DistanceMode.WHEN_EMPTY_ACTION_CUSTOM, DistanceMode.WHEN_EMPTY_ACTION_AUTOMATED].indexOf(setting.mode) >= 0 && __jsx(React.Fragment, null, __jsx(ListItem, null, __jsx(ListTitle, null, __jsx(Text, null, __jsx(FormattedMessage, {\n    id: \"minDistanceId\",\n    defaultMessage: \"minDistanceId\"\n  }))), __jsx(ListDes, null, editIsOn ? __jsx(Row, null, __jsx(Input, {\n    type: \"number\",\n    name: \"minWarning\",\n    value: setting.minWarning,\n    onChange: e => handleSettingsChange(plant, 'minWarning', e.target.value, settingType),\n    backgroundColor: \"#F7F7F7\",\n    height: \"34.5px\",\n    width: \"45px\"\n  }), __jsx(Porcentage, null, \"%\")) : __jsx(Text, {\n    bold: true\n  }, setting.minWarning)), errorId === 'minWarning' && __jsx(ErrorMsg, null, __jsx(FormattedMessage, {\n    id: \"minMaxWarningId\",\n    defaultMessage: \"minMaxWarningId\"\n  }))), (setting === null || setting === void 0 ? void 0 : setting.mode) === DistanceMode.WHEN_EMPTY_ACTION_AUTOMATED && __jsx(ListItem, null, __jsx(ListTitle, null, __jsx(Text, null, __jsx(FormattedMessage, {\n    id: \"maxDistanceId\",\n    defaultMessage: \"maxDistanceId\"\n  }))), __jsx(ListDes, null, editIsOn ? __jsx(Row, null, __jsx(Input, {\n    type: \"number\",\n    name: \"maxWarning\",\n    value: setting.maxWarning,\n    onChange: e => handleSettingsChange(plant, 'maxWarning', e.target.value, settingType),\n    backgroundColor: \"#F7F7F7\",\n    height: \"34.5px\",\n    width: \"45px\"\n  }), __jsx(Porcentage, null, \"%\")) : __jsx(Text, {\n    bold: true\n  }, setting.maxWarning), errorId === 'maxWarning' && __jsx(ErrorMsg, null, __jsx(FormattedMessage, {\n    id: \"minMaxWarningId\",\n    defaultMessage: \"minMaxWarningId\"\n  })))), (setting === null || setting === void 0 ? void 0 : setting.mode) === DistanceMode.WHEN_EMPTY_ACTION_CUSTOM && __jsx(ListItem, null, __jsx(ListTitle, null, __jsx(Text, null, __jsx(FormattedMessage, {\n    id: \"runingMinMaxWarningTimeId\",\n    defaultMessage: \"runingMinMaxWarningTimeId\"\n  }))), __jsx(ListDes, null, editIsOn ? __jsx(Row, null, __jsx(Input, {\n    type: \"number\",\n    name: \"relayOneAutomatedTimeToRun\",\n    value: setting.relayOneAutomatedTimeToRun,\n    onChange: e => handleSettingsChange(plant, 'relayOneAutomatedTimeToRun', e.target.value, settingType),\n    backgroundColor: \"#F7F7F7\",\n    height: \"34.5px\",\n    width: \"45px\"\n  }), __jsx(Porcentage, null, \"mins.\")) : __jsx(Text, {\n    bold: true\n  }, setting.relayOneAutomatedTimeToRun))), __jsx(ListItem, null, __jsx(ListTitle, null, __jsx(Text, null, __jsx(FormattedMessage, {\n    id: \"asociateRelayOneId\",\n    defaultMessage: \"asociateRelayOneId\"\n  }))), __jsx(ListDes, null, editIsOn ? __jsx(Select, {\n    onChange: e => handleSettingsChange(plant, 'relayOneIdRelated', e.value, settingType),\n    value: relayOneSelected,\n    options: fourRelaysOptions,\n    styles: selectStyle,\n    menuPosition: 'fixed'\n  }) : __jsx(Text, {\n    bold: true\n  }, (setting === null || setting === void 0 ? void 0 : setting.relayOneIdRelated.length) > 1 ? getRelayNameText(setting === null || setting === void 0 ? void 0 : setting.relayOneIdRelated) : '-')))), (setting === null || setting === void 0 ? void 0 : (_setting$logs = setting.logs) === null || _setting$logs === void 0 ? void 0 : _setting$logs.length) > 0 && __jsx(HumidityLogsGraph, {\n    data: setting.logs\n  }));\n};\n\nexport default DistanceSensor;","map":null,"metadata":{},"sourceType":"module"}