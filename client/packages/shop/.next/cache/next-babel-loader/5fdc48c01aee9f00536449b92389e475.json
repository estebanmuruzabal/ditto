{"ast":null,"code":"var _jsxFileName = \"/Users/estebanmuruzabal/work/ditto/client/packages/shop/src/features/your-plants/your-plants.tsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useContext } from 'react';\nimport Link from 'next/link';\nimport { useMutation, useQuery } from '@apollo/react-hooks';\nimport { CommonMode, SensorsTypes, timeZone, timezones } from 'utils/constant';\nimport ErrorMessage from 'components/error-message/error-message';\nimport { PlantsPageContainer, OrderDetails, BlockTitle, Text, ListItem, ListTitle, ListDes, ButtonText, PlantPageWrapper, Column1, Row1, DashboardContainer, SensorsWrapper } from './your-plants.style';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { GET_LOGGED_IN_USER } from 'graphql/query/customer.query';\nimport { Button } from 'components/button/button';\nimport { CREATE_UPDATE_PLANT, DELETE_SETTING, UPDATE_SETTING } from 'graphql/query/plants.query';\nimport { Input } from 'components/forms/input';\nimport { ProfileContext } from 'contexts/profile/profile.context';\nimport { SuccessMsg } from 'features/user-profile/settings/settings.style';\nimport SoilHumiditySensor from './sensors/SoilHumiditySensor';\nimport LightSensor from './sensors/LightSensor';\nimport Select from 'react-select';\nimport Plug from './sensors/Plug';\nimport DistanceSensor from './sensors/DistanceSensor';\nimport { AuthContext } from 'contexts/auth/auth.context';\nimport { getLastNumOfSensor, getSensorWithoutNumber } from 'utils/ditto-bot';\nimport AirHumidity from './sensors/AirHumiditySensor';\nimport AirTemperature from './sensors/AirTemperatureSensor';\nimport LastConectionReading from './sensors/sensor-readings/LastConectionReading';\nimport Switch from 'components/switch/switch';\n\nconst YourPlants = ({\n  deviceType,\n  userRefetch\n}) => {\n  const {\n    state,\n    dispatch\n  } = useContext(ProfileContext);\n  const {\n    authDispatch\n  } = useContext(AuthContext);\n  const {\n    loading,\n    error,\n    data = {}\n  } = useQuery(GET_LOGGED_IN_USER, {\n    notifyOnNetworkStatusChange: true,\n    fetchPolicy: \"network-only\",\n    pollInterval: 5000\n  });\n  console.log('asdsadasdata', data); // const { loading1, error1, data1 = {} } = useQuery(GET_LOGGED_IN_USER_SETTINGS, {\n  //   notifyOnNetworkStatusChange: true,\n  //   fetchPolicy: \"network-only\",\n  //   // pollInterval: 5000,\n  // });\n  // const router = useRouter();\n\n  const intl = useIntl();\n  const {\n    0: name,\n    1: setPlantName\n  } = useState('');\n  const {\n    0: openTab,\n    1: setOpenTab\n  } = useState('');\n  const {\n    0: errorId,\n    1: setErrorId\n  } = useState('');\n  const {\n    0: plantId,\n    1: setControllerID\n  } = useState('');\n  const {\n    0: userinfoMsg,\n    1: setUserinfoMsg\n  } = useState('');\n  const {\n    0: sensorSelected,\n    1: setSensor\n  } = useState('');\n  const {\n    0: timezoneSelected,\n    1: setTimezone\n  } = useState('');\n  const [addPlant] = useMutation(CREATE_UPDATE_PLANT);\n  const [updateSetting] = useMutation(UPDATE_SETTING);\n  const [deleteSetting] = useMutation(DELETE_SETTING);\n  const {\n    plants\n  } = state;\n\n  if (loading) {\n    return __jsx(ErrorMessage, {\n      message: intl.formatMessage({\n        id: 'loading',\n        defaultMessage: 'Cargando...'\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 12\n      }\n    });\n  }\n\n  ;\n\n  if (error) {\n    return __jsx(ErrorMessage, {\n      message: error.message,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 7\n      }\n    });\n  }\n\n  ;\n\n  const shouldNotAssignRelay = (plant, field, value) => {\n    const relayOneIdRelated = 'relayOneIdRelated';\n    const relayTwoIdRelated = 'relayTwoIdRelated';\n    if (field !== relayOneIdRelated && field !== relayTwoIdRelated) return false;\n    plant.sensors.map(module => {\n      if ((module[relayOneIdRelated] === value || module[relayTwoIdRelated] === value) && value !== '') {\n        const texto1 = intl.formatMessage({\n          id: 'relayAlreadyAssinged',\n          defaultMessage: 'Relay already assigned in '\n        });\n        const texto2 = intl.formatMessage({\n          id: 'relayAlreadyAssinged2',\n          defaultMessage: 'desigagned  '\n        });\n        const hasConfirmed = confirm(texto1 + module.name + texto2);\n        if (hasConfirmed) return false;\n        return false;\n      }\n    });\n    return false;\n  };\n\n  const defaultSettingValuesIfModeChanges = (plant, field, value, settingType) => {\n    const mode = 'mode';\n    if (field !== mode) return plant;\n    const settingIndex = plant.sensors.findIndex(module => module.settingType === settingType);\n    plant.sensors[settingIndex] = getDefaultSetting(settingType, plant.sensors[settingIndex].name, value === CommonMode.NONE ? [] : plant.sensors[settingIndex].logs);\n    return plant;\n  };\n\n  const isClean = (plant, field, value) => {\n    // min max checks\n    const minWarning = 'minWarning';\n    const maxWarning = 'maxWarning';\n    if (field !== minWarning && field !== maxWarning) return true;\n\n    if (Number(value) < 0 || Number(value) > 100) {\n      setErrorId(field);\n      setTimeout(() => {\n        setErrorId('');\n      }, 2000);\n      return false;\n    }\n\n    setErrorId(''); // add more checks\n\n    return true;\n  };\n\n  const handleSettingsChange = (plant, field, value, settingType) => {\n    // if we want to stop user to reuse plugs, uncomment line bellow\n    if (shouldNotAssignRelay(plant, field, value)) return; // we dont want to reset enchufes or values. YET\n\n    plant = defaultSettingValuesIfModeChanges(plant, field, value, settingType);\n    dispatch({\n      type: settingType,\n      payload: {\n        plant,\n        value,\n        field\n      }\n    });\n    if (isClean(plant, field, value)) dispatchSettingSave(plant, field, value, settingType);\n    setUserinfoMsg('Update user info successfully');\n    setTimeout(function () {\n      setUserinfoMsg('');\n    }, 8000);\n  };\n\n  const handleCreateUpdatePlantOnClick = (plant, name, newPlant, timeZone, offline_notification) => {\n    setTimezone(timeZone);\n    setTimeout(function () {\n      var _data$getUser;\n\n      addPlant({\n        variables: _objectSpread(_objectSpread({\n          id: data === null || data === void 0 ? void 0 : (_data$getUser = data.getUser) === null || _data$getUser === void 0 ? void 0 : _data$getUser.id,\n          name,\n          plantId: newPlant ? Number(plantId) : plant.plantId\n        }, timeZone && {\n          timeZone\n        }), {}, {\n          offline_notification: offline_notification\n        })\n      });\n    }, 2000);\n    setUserinfoMsg(newPlant ? 'added plant successfully' : 'updated plant successfully');\n    setTimeout(function () {\n      setUserinfoMsg('');\n    }, 2000);\n  };\n\n  const handleDeleteSensor = (plantSelected, settingType) => {\n    var _data$getUser2;\n\n    deleteSetting({\n      variables: {\n        id: data === null || data === void 0 ? void 0 : (_data$getUser2 = data.getUser) === null || _data$getUser2 === void 0 ? void 0 : _data$getUser2.id,\n        plantId: plantSelected.plantId,\n        settingName: settingType\n      }\n    });\n    const plantIndex = plants.findIndex(plant => plant.plantId === plantSelected.plantId);\n    const settingIndex = plants[plantIndex].sensors.findIndex(module => module.settingType === settingType);\n    dispatch({\n      type: 'DELETE_MODULE',\n      payload: {\n        plantIndex,\n        settingIndex\n      }\n    });\n    setUserinfoMsg('deleted setting successfully');\n    setTimeout(function () {\n      setUserinfoMsg('');\n    }, 2000);\n  };\n\n  const onDeleteSchedule = (plant, settingType, scheduleIndex) => {\n    var _plant$sensors$settin, _data$getUser3;\n\n    const settingIndex = plant.sensors.findIndex(module => module.settingType === settingType);\n    (_plant$sensors$settin = plant.sensors[settingIndex]) === null || _plant$sensors$settin === void 0 ? void 0 : _plant$sensors$settin.scheduledOnTimes.splice(scheduleIndex, 1);\n    updateSetting({\n      variables: {\n        id: data === null || data === void 0 ? void 0 : (_data$getUser3 = data.getUser) === null || _data$getUser3 === void 0 ? void 0 : _data$getUser3.id,\n        plantId: plant.plantId,\n        input: _objectSpread(_objectSpread({}, plant.sensors[settingIndex]), {}, {\n          settingType: settingType\n        })\n      }\n    });\n    setUserinfoMsg('deleted schedule successfully');\n    setTimeout(function () {\n      setUserinfoMsg('');\n    }, 2000);\n  };\n\n  const getDefaultSetting = (settingTypeName, name, logs) => {\n    return {\n      name: name || '',\n      whatsappWarningsOn: false,\n      maxWarning: '',\n      minWarning: '',\n      mode: CommonMode.NONE,\n      relayOneAutomatedTimeToRun: '',\n      relayTwoAutomatedStartedTime: '',\n      relayOneAutomatedStartedTime: '',\n      relayOneIdRelated: '',\n      relayOneWorking: false,\n      relayTwoAutomatedTimeToRun: '',\n      relayTwoIdRelated: '',\n      relayTwoWorking: false,\n      logs: logs || [],\n      scheduledOnTimes: [],\n      settingType: settingTypeName\n    };\n  };\n\n  const dispatchSettingSave = (plant, fieldName, fieldValue, settingType) => {\n    var _data$getUser4;\n\n    const settingIndex = plant.sensors.findIndex(module => module.settingType === settingType);\n    plant.sensors[settingIndex][fieldName] = fieldValue;\n    updateSetting({\n      variables: {\n        id: data === null || data === void 0 ? void 0 : (_data$getUser4 = data.getUser) === null || _data$getUser4 === void 0 ? void 0 : _data$getUser4.id,\n        plantId: plant.plantId,\n        input: plant.sensors[settingIndex]\n      }\n    });\n  };\n\n  const getSensorCompleteName = (plant, settingType) => {\n    var _plant$sensors;\n\n    let sensorNewNumber = 1;\n    plant === null || plant === void 0 ? void 0 : (_plant$sensors = plant.sensors) === null || _plant$sensors === void 0 ? void 0 : _plant$sensors.map(module => {\n      let lastSensorNum = getLastNumOfSensor(module.settingType);\n      const rawSensorTypeName = getSensorWithoutNumber(module === null || module === void 0 ? void 0 : module.settingType);\n\n      if (!isNaN(lastSensorNum) && rawSensorTypeName === settingType) {\n        sensorNewNumber = lastSensorNum + 1;\n      }\n    });\n    return `${settingType}_${sensorNewNumber}`;\n  };\n\n  const dispatchNewSettingSave = (plant, settingType, plantIndex) => {\n    var _data$getUser5;\n\n    const completeSensorTypeName = getSensorCompleteName(plant, settingType);\n    updateSetting({\n      variables: {\n        id: data === null || data === void 0 ? void 0 : (_data$getUser5 = data.getUser) === null || _data$getUser5 === void 0 ? void 0 : _data$getUser5.id,\n        plantId: plant.plantId,\n        input: getDefaultSetting(completeSensorTypeName)\n      }\n    });\n    dispatch({\n      type: 'ADD_MODULE',\n      payload: {\n        plantIndex,\n        setting: getDefaultSetting(completeSensorTypeName)\n      }\n    });\n  };\n\n  const selectStyle = {\n    control: styles => _objectSpread(_objectSpread({}, styles), {}, {\n      width: '197px',\n      textAlign: 'left'\n    })\n  };\n  const sensorsOptions = [{\n    value: SensorsTypes.DISTANCE,\n    label: intl.formatMessage({\n      id: 'distanceId',\n      defaultMessage: 'distanceId'\n    })\n  }, {\n    value: SensorsTypes.SOIL_HUMIDITY,\n    label: intl.formatMessage({\n      id: 'moistHumidityId',\n      defaultMessage: 'moistHumidityId'\n    })\n  }, {\n    value: SensorsTypes.HUMIDITY,\n    label: intl.formatMessage({\n      id: 'airHumidityId',\n      defaultMessage: 'airHumidityId'\n    })\n  }, {\n    value: SensorsTypes.TEMPETURE,\n    label: intl.formatMessage({\n      id: 'airTempetureId',\n      defaultMessage: 'airTempetureId'\n    })\n  }, {\n    value: SensorsTypes.LIGHT,\n    label: intl.formatMessage({\n      id: 'lightSensorId',\n      defaultMessage: 'lightSensorId'\n    })\n  }, {\n    value: SensorsTypes.PLUG,\n    label: intl.formatMessage({\n      id: 'intelligentPlugId',\n      defaultMessage: 'intelligentPlugId'\n    })\n  }];\n  const timezonesList = timezones.map(timezone => ({\n    value: timezone,\n    label: timezone\n  }));\n  return __jsx(PlantPageWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 5\n    }\n  }, __jsx(PlantsPageContainer, {\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }\n  }, __jsx(Link, {\n    href: \"/profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 9\n    }\n  }, __jsx(\"a\", {\n    className: \"home-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 11\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"backProfileBtn\",\n    defaultMessage: \"Back to Profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 13\n    }\n  }))), __jsx(OrderDetails, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 9\n    }\n  }, __jsx(BlockTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 11\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"dittoBotsIds\",\n    defaultMessage: \"dittoBotsIds\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 13\n    }\n  })), (plants === null || plants === void 0 ? void 0 : plants.length) < 1 && __jsx(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 36\n    }\n  }, intl.formatMessage({\n    id: 'noDittoBotsTextId',\n    defaultMessage: 'noDittoBotsTextId'\n  })), plants === null || plants === void 0 ? void 0 : plants.map((plant, i) => {\n    const {\n      sensors\n    } = plant;\n    plant.timeZone = timeZone;\n    return __jsx(DashboardContainer, {\n      key: i + '-orderList',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 17\n      }\n    }, __jsx(Row1, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 19\n      }\n    }, __jsx(Column1, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 21\n      }\n    }, __jsx(ListItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 23\n      }\n    }, __jsx(ListTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 25\n      }\n    }, __jsx(Text, {\n      bold: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 27\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"controllerNameId\",\n      defaultMessage: \"controllerNameId\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 29\n      }\n    }))), __jsx(ListDes, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 25\n      }\n    }, __jsx(Input, {\n      type: \"text\",\n      name: \"name\",\n      disabled: true,\n      value: plant === null || plant === void 0 ? void 0 : plant.name // we have to change the onChange because the is no one for the controller name actualy\n      ,\n      onChange: e => handleCreateUpdatePlantOnClick(plant, e.target.value, false, timeZone),\n      backgroundColor: \"#F7F7F7\",\n      width: \"197px\",\n      height: \"34.5px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 27\n      }\n    }))), __jsx(ListItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 23\n      }\n    }, __jsx(ListTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 25\n      }\n    }, __jsx(Text, {\n      bold: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 27\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"statusId\",\n      defaultMessage: \"statusId\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 29\n      }\n    }))), __jsx(ListDes, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 25\n      }\n    }, __jsx(LastConectionReading, {\n      key: 'lastcon' + i,\n      plantIndex: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 27\n      }\n    }))), __jsx(ListItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 23\n      }\n    }, __jsx(ListTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 25\n      }\n    }, __jsx(Text, {\n      bold: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 27\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"offlineNotificationId\",\n      defaultMessage: \"offlineNotificationId\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 29\n      }\n    }))), __jsx(ListDes, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 25\n      }\n    }, __jsx(Switch, {\n      disabled: false,\n      checked: plant.offline_notification,\n      labelPosition: 'right' // className,\n      ,\n      onUpdate: e => handleCreateUpdatePlantOnClick(plant, plant.name, false, plant.timeZone, !plant.offline_notification),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 27\n      }\n    }))), __jsx(ListItem, {\n      style: {\n        justifyContent: 'flex-start'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 23\n      }\n    }, __jsx(ListTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 27\n      }\n    }, __jsx(Text, {\n      bold: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 27\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"addSensorId\",\n      defaultMessage: \"addSensorId\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 31\n      }\n    }))), __jsx(ListDes, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 27\n      }\n    }, __jsx(Select, {\n      onChange: e => dispatchNewSettingSave(plant, e.value, i),\n      value: sensorSelected // @ts-ignore\n      ,\n      options: sensorsOptions,\n      styles: selectStyle,\n      menuPosition: 'fixed',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 27\n      }\n    }))))), __jsx(SensorsWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 19\n      }\n    }, sensors === null || sensors === void 0 ? void 0 : sensors.map((module, index) => {\n      switch (module === null || module === void 0 ? void 0 : module.settingType) {\n        case `${SensorsTypes.SOIL_HUMIDITY}_1`:\n        case `${SensorsTypes.SOIL_HUMIDITY}_2`:\n        case `${SensorsTypes.SOIL_HUMIDITY}_3`:\n          // check the number of same setting to send\n          return __jsx(SoilHumiditySensor, {\n            key: i + module.settingType,\n            data: data,\n            plant: plant,\n            errorId: errorId,\n            openTab: openTab,\n            handleDeleteSensor: handleDeleteSensor,\n            setOpenTab: setOpenTab,\n            settingType: module.settingType,\n            handleSettingsChange: handleSettingsChange,\n            onDeleteSchedule: onDeleteSchedule,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 29\n            }\n          });\n\n        case `${SensorsTypes.LIGHT}_1`:\n          return __jsx(LightSensor, {\n            key: i + module.settingType,\n            data: data,\n            errorId: errorId,\n            plant: plant,\n            handleDeleteSensor: handleDeleteSensor,\n            openTab: openTab,\n            setOpenTab: setOpenTab,\n            settingType: module.settingType,\n            handleSettingsChange: handleSettingsChange,\n            onDeleteSchedule: onDeleteSchedule,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 29\n            }\n          });\n\n        case `${SensorsTypes.HUMIDITY}_1`:\n          return __jsx(AirHumidity, {\n            key: i + module.settingType,\n            data: data,\n            errorId: errorId,\n            plant: plant,\n            handleDeleteSensor: handleDeleteSensor,\n            openTab: openTab,\n            setOpenTab: setOpenTab,\n            settingType: module.settingType,\n            handleSettingsChange: handleSettingsChange,\n            onDeleteSchedule: onDeleteSchedule,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 29\n            }\n          });\n\n        case `${SensorsTypes.TEMPETURE}_1`:\n          return __jsx(AirTemperature, {\n            key: i + module.settingType,\n            data: data,\n            errorId: errorId,\n            plant: plant,\n            handleDeleteSensor: handleDeleteSensor,\n            openTab: openTab,\n            setOpenTab: setOpenTab,\n            settingType: module.settingType,\n            handleSettingsChange: handleSettingsChange,\n            onDeleteSchedule: onDeleteSchedule,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 29\n            }\n          });\n\n        case `${SensorsTypes.DISTANCE}_1`:\n          return __jsx(DistanceSensor, {\n            key: i + module.settingType,\n            data: data,\n            plant: plant,\n            errorId: errorId,\n            handleDeleteSensor: handleDeleteSensor,\n            openTab: openTab,\n            setOpenTab: setOpenTab,\n            settingType: module.settingType,\n            handleSettingsChange: handleSettingsChange,\n            onDeleteSchedule: onDeleteSchedule,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 29\n            }\n          });\n\n        case `${SensorsTypes.PLUG}_1`:\n          return __jsx(Plug, {\n            key: i + module.settingType,\n            data: data,\n            plant: plant,\n            handleDeleteSensor: handleDeleteSensor,\n            openTab: openTab,\n            setOpenTab: setOpenTab,\n            settingType: module.settingType,\n            handleSettingsChange: handleSettingsChange,\n            onDeleteSchedule: onDeleteSchedule,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 29\n            }\n          });\n\n        default:\n          break;\n      }\n    })));\n  }), userinfoMsg && __jsx(SuccessMsg, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 15\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"userInfoSuccess\",\n    defaultMessage: userinfoMsg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 532,\n      columnNumber: 17\n    }\n  })))), __jsx(PlantsPageContainer, {\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 7\n    }\n  }, __jsx(BlockTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 9\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"addController\",\n    defaultMessage: \"Your Plants\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 544,\n      columnNumber: 11\n    }\n  })), __jsx(ListItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 550,\n      columnNumber: 9\n    }\n  }, __jsx(ListTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 551,\n      columnNumber: 11\n    }\n  }, __jsx(Text, {\n    bold: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 13\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"plantNameField\",\n    defaultMessage: \"Name of the plant\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 15\n    }\n  }))), __jsx(ListDes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 559,\n      columnNumber: 11\n    }\n  }, __jsx(Input, {\n    type: \"text\",\n    name: \"name\",\n    value: name,\n    onChange: e => setPlantName(e.target.value),\n    placeholder: intl.formatMessage({\n      id: 'plantNamePlaceholderId',\n      defaultMessage: 'Balcony plants'\n    }),\n    backgroundColor: \"#F7F7F7\",\n    width: \"197px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 560,\n      columnNumber: 13\n    }\n  }))), __jsx(ListItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 572,\n      columnNumber: 9\n    }\n  }, __jsx(ListTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 573,\n      columnNumber: 11\n    }\n  }, __jsx(Text, {\n    bold: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 13\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"plantIdField\",\n    defaultMessage: \"ID of the controller\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 575,\n      columnNumber: 15\n    }\n  }))), __jsx(ListDes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 581,\n      columnNumber: 11\n    }\n  }, __jsx(Input, {\n    type: \"number\",\n    name: \"plantId\",\n    value: plantId,\n    onChange: e => setControllerID(e.target.value),\n    placeholder: intl.formatMessage({\n      id: 'serialNumberPlaceholderId',\n      defaultMessage: 'Look behind Ditto Bot'\n    }),\n    backgroundColor: \"#F7F7F7\",\n    width: \"197px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 582,\n      columnNumber: 13\n    }\n  }))), __jsx(Button, {\n    className: \"cart-button\",\n    variant: \"secondary\",\n    borderRadius: 100,\n    onClick: () => handleCreateUpdatePlantOnClick(plants, name, true, timeZone),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 594,\n      columnNumber: 9\n    }\n  }, __jsx(ButtonText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 595,\n      columnNumber: 11\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"addDittoBotButton\",\n    defaultMessage: \"Add plant\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 596,\n      columnNumber: 13\n    }\n  })))));\n};\n\nexport default YourPlants;","map":{"version":3,"sources":["/Users/estebanmuruzabal/work/ditto/client/packages/shop/src/features/your-plants/your-plants.tsx"],"names":["React","useState","useContext","Link","useMutation","useQuery","CommonMode","SensorsTypes","timeZone","timezones","ErrorMessage","PlantsPageContainer","OrderDetails","BlockTitle","Text","ListItem","ListTitle","ListDes","ButtonText","PlantPageWrapper","Column1","Row1","DashboardContainer","SensorsWrapper","FormattedMessage","useIntl","GET_LOGGED_IN_USER","Button","CREATE_UPDATE_PLANT","DELETE_SETTING","UPDATE_SETTING","Input","ProfileContext","SuccessMsg","SoilHumiditySensor","LightSensor","Select","Plug","DistanceSensor","AuthContext","getLastNumOfSensor","getSensorWithoutNumber","AirHumidity","AirTemperature","LastConectionReading","Switch","YourPlants","deviceType","userRefetch","state","dispatch","authDispatch","loading","error","data","notifyOnNetworkStatusChange","fetchPolicy","pollInterval","console","log","intl","name","setPlantName","openTab","setOpenTab","errorId","setErrorId","plantId","setControllerID","userinfoMsg","setUserinfoMsg","sensorSelected","setSensor","timezoneSelected","setTimezone","addPlant","updateSetting","deleteSetting","plants","formatMessage","id","defaultMessage","message","shouldNotAssignRelay","plant","field","value","relayOneIdRelated","relayTwoIdRelated","sensors","map","module","texto1","texto2","hasConfirmed","confirm","defaultSettingValuesIfModeChanges","settingType","mode","settingIndex","findIndex","getDefaultSetting","NONE","logs","isClean","minWarning","maxWarning","Number","setTimeout","handleSettingsChange","type","payload","dispatchSettingSave","handleCreateUpdatePlantOnClick","newPlant","offline_notification","variables","getUser","handleDeleteSensor","plantSelected","settingName","plantIndex","onDeleteSchedule","scheduleIndex","scheduledOnTimes","splice","input","settingTypeName","whatsappWarningsOn","relayOneAutomatedTimeToRun","relayTwoAutomatedStartedTime","relayOneAutomatedStartedTime","relayOneWorking","relayTwoAutomatedTimeToRun","relayTwoWorking","fieldName","fieldValue","getSensorCompleteName","sensorNewNumber","lastSensorNum","rawSensorTypeName","isNaN","dispatchNewSettingSave","completeSensorTypeName","setting","selectStyle","control","styles","width","textAlign","sensorsOptions","DISTANCE","label","SOIL_HUMIDITY","HUMIDITY","TEMPETURE","LIGHT","PLUG","timezonesList","timezone","length","i","e","target","justifyContent","index"],"mappings":"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","sourcesContent":["import React,  { useState, useEffect, useContext } from 'react';\nimport Link from 'next/link';\nimport { openModal } from '@redq/reuse-modal';\nimport { useMutation, useQuery } from '@apollo/react-hooks';\nimport { CommonMode, RelaysIds, SensorsTypes, timeZone, timezones } from 'utils/constant';\nimport ErrorMessage from 'components/error-message/error-message';\n\nimport {\n  PlantsPageContainer,\n  OrderDetails,\n  BlockTitle,\n  Text,\n  ListItem,\n  ListTitle,\n  ListDes,\n  ButtonText,\n  PlantPageWrapper,\n  Column1,\n  Row1,\n  CardButtons,\n  DashboardContainer,\n  SensorsWrapper\n} from './your-plants.style';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { GET_LOGGED_IN_USER, GET_LOGGED_IN_USER_SETTINGS } from 'graphql/query/customer.query';\nimport { Button } from 'components/button/button';\nimport { CREATE_UPDATE_PLANT, DELETE_SETTING, UPDATE_SETTING } from 'graphql/query/plants.query';\nimport { Input } from 'components/forms/input';\nimport { ProfileContext } from 'contexts/profile/profile.context';\nimport { SuccessMsg } from 'features/user-profile/settings/settings.style';\nimport SoilHumiditySensor from './sensors/SoilHumiditySensor';\nimport LightSensor from './sensors/LightSensor';\nimport { ISetting } from 'utils/types';\nimport Select from 'react-select';\nimport Plug from './sensors/Plug';\nimport DistanceSensor from './sensors/DistanceSensor';\nimport { AuthContext } from 'contexts/auth/auth.context';\nimport { hasDittoBotUpdatedInLastMinute, getLastNumOfSensor, getSensorWithoutNumber } from 'utils/ditto-bot';\nimport moment from 'moment';\nimport AirHumidity from './sensors/AirHumiditySensor';\nimport AirTemperature from './sensors/AirTemperatureSensor';\nimport LastConectionReading from './sensors/sensor-readings/LastConectionReading';\nimport Switch from 'components/switch/switch';\n  \n\ntype YourPlantsProps = {\n  data?: any;\n  userRefetch: any;\n  index?: Number;\n  Router?: any;\n  deviceType?: {\n    mobile: boolean;\n    tablet: boolean;\n    desktop: boolean;\n  };\n};\n\nconst YourPlants: React.FC<YourPlantsProps> = ({ deviceType, userRefetch }) => {\n  const { state, dispatch } = useContext(ProfileContext);\n  const {authDispatch} = useContext<any>(AuthContext);\n\n  const { loading, error, data = {} } = useQuery(GET_LOGGED_IN_USER, {\n    notifyOnNetworkStatusChange: true,\n    fetchPolicy: \"network-only\",\n    pollInterval: 5000,\n  });\n  console.log('asdsadasdata', data)\n  // const { loading1, error1, data1 = {} } = useQuery(GET_LOGGED_IN_USER_SETTINGS, {\n  //   notifyOnNetworkStatusChange: true,\n  //   fetchPolicy: \"network-only\",\n  //   // pollInterval: 5000,\n  // });\n  \n  // const router = useRouter();\n\n  const intl = useIntl();\n  const [name, setPlantName] = useState('');\n  const [openTab, setOpenTab] = useState('');\n  const [errorId, setErrorId] = useState('');\n  const [plantId, setControllerID] = useState('');\n  const [userinfoMsg, setUserinfoMsg] = useState('');\n  const [sensorSelected, setSensor] = useState('');\n  const [timezoneSelected, setTimezone] = useState('');\n  const [addPlant] = useMutation(CREATE_UPDATE_PLANT);\n  \n  const [updateSetting] = useMutation(UPDATE_SETTING);\n  const [deleteSetting] = useMutation(DELETE_SETTING);\n  const { plants } = state;\n\n  if (loading) {\n    return <ErrorMessage message={intl.formatMessage({ id: 'loading', defaultMessage: 'Cargando...' })} />\n  };\n\n  if (error) {\n    return (\n      <ErrorMessage message={error.message} />\n    );\n  };\n\n  const shouldNotAssignRelay = (plant: any, field: string, value: string | boolean) => {\n    const relayOneIdRelated = 'relayOneIdRelated';\n    const relayTwoIdRelated = 'relayTwoIdRelated';\n\n    if (field !== relayOneIdRelated && field !== relayTwoIdRelated) return false;\n\n    plant.sensors.map((module) => {\n      if ((module[relayOneIdRelated] === value || module[relayTwoIdRelated] === value ) && value !== '') {\n        const texto1 = intl.formatMessage({ id: 'relayAlreadyAssinged', defaultMessage: 'Relay already assigned in ' });\n        const texto2 = intl.formatMessage({ id: 'relayAlreadyAssinged2', defaultMessage: 'desigagned  ' });\n        const hasConfirmed = confirm(texto1 + module.name + texto2);\n        if (hasConfirmed) return false;\n        return false;\n      }\n    })\n\n   return false;\n  };\n\n  const defaultSettingValuesIfModeChanges = (plant: any, field: string, value: string | boolean, settingType: SensorsTypes) => {\n    const mode = 'mode';\n    if (field !== mode) return plant;\n\n    const settingIndex = plant.sensors.findIndex((module: ISetting) => module.settingType === settingType);            \n    plant.sensors[settingIndex] = getDefaultSetting(settingType, plant.sensors[settingIndex].name, value === CommonMode.NONE ? [] : plant.sensors[settingIndex].logs);\n    \n   return plant;\n  };\n\n  const isClean = (plant: any, field: string, value: string | boolean) => {\n    // min max checks\n    const minWarning = 'minWarning';\n    const maxWarning = 'maxWarning';\n\n    if (field !== minWarning && field !== maxWarning) return true;\n    if (Number(value) < 0 || Number(value) > 100) {\n      setErrorId(field);\n      setTimeout(() => {\n          setErrorId('')\n      }, 2000)\n      return false;\n    }\n    setErrorId(''); \n\n    // add more checks\n    return true;\n  };\n\n  const handleSettingsChange = (plant: any, field: string, value: string | boolean, settingType: SensorsTypes) => {\n    // if we want to stop user to reuse plugs, uncomment line bellow\n    if (shouldNotAssignRelay(plant, field, value)) return;\n    // we dont want to reset enchufes or values. YET\n    plant = defaultSettingValuesIfModeChanges(plant, field, value, settingType);\n\n    dispatch({ type: settingType, payload: { plant, value, field } });\n\n    if(isClean(plant, field, value)) dispatchSettingSave(plant, field, value, settingType);\n\n    setUserinfoMsg('Update user info successfully');\n    setTimeout(function () {\n      setUserinfoMsg('');\n    }, 8000)\n  };\n\n  const handleCreateUpdatePlantOnClick = (plant, name: string, newPlant: boolean, timeZone?: string, offline_notification?: boolean) => {\n    setTimezone(timeZone);\n    setTimeout(function () {\n      addPlant({\n        variables: {\n          id: data?.getUser?.id,\n          name,\n          plantId: newPlant ? Number(plantId) : plant.plantId,\n          ...(timeZone && {timeZone}),\n          offline_notification: offline_notification\n        },\n      });\n  \n    }, 2000)\n    setUserinfoMsg(newPlant ? 'added plant successfully' : 'updated plant successfully');\n    setTimeout(function () {\n      setUserinfoMsg('');\n    }, 2000)  \n  };\n\n  const handleDeleteSensor = (plantSelected: any, settingType: SensorsTypes) => {\n    deleteSetting({\n      variables: {\n        id: data?.getUser?.id,\n        plantId: plantSelected.plantId,\n        settingName: settingType\n      },\n    });\n\n    const plantIndex = plants.findIndex((plant: any) => plant.plantId === plantSelected.plantId);            \n    const settingIndex = plants[plantIndex].sensors.findIndex((module: ISetting) => module.settingType === settingType);            \n\n    dispatch({ type: 'DELETE_MODULE', payload: {plantIndex, settingIndex }});\n\n    setUserinfoMsg('deleted setting successfully');\n    setTimeout(function () {\n      setUserinfoMsg('');\n    }, 2000)  \n  };\n\n  const onDeleteSchedule = (plant: any, settingType: SensorsTypes, scheduleIndex: number) => {\n    const settingIndex = plant.sensors.findIndex((module: ISetting) => module.settingType === settingType);            \n    plant.sensors[settingIndex]?.scheduledOnTimes.splice(scheduleIndex, 1);\n    \n    updateSetting({\n      variables: {\n        id: data?.getUser?.id,\n        plantId: plant.plantId,\n        input: { ...plant.sensors[settingIndex], settingType: settingType }\n      },\n    });\n\n    setUserinfoMsg('deleted schedule successfully');\n    setTimeout(function () {\n      setUserinfoMsg('');\n    }, 2000)  \n  };\n\n  const getDefaultSetting = (settingTypeName: string, name?: string, logs?: string) => { \n    return {\n      name: name || '',\n      whatsappWarningsOn: false,\n      maxWarning: '',\n      minWarning: '',\n      mode: CommonMode.NONE,\n      relayOneAutomatedTimeToRun: '',\n      relayTwoAutomatedStartedTime: '',\n      relayOneAutomatedStartedTime: '',\n      relayOneIdRelated: '',\n      relayOneWorking: false,\n      relayTwoAutomatedTimeToRun: '',\n      relayTwoIdRelated: '',\n      relayTwoWorking: false,\n      logs: logs || [],\n      scheduledOnTimes: [],\n      settingType: settingTypeName\n    }\n}\n    \n  const dispatchSettingSave = (plant: any, fieldName: string, fieldValue: string | boolean, settingType: SensorsTypes) => {\n    const settingIndex = plant.sensors.findIndex((module: ISetting) => module.settingType === settingType);\n    plant.sensors[settingIndex][fieldName] = fieldValue;\n\n    updateSetting({\n      variables: {\n        id: data?.getUser?.id,\n        plantId: plant.plantId,\n        input: plant.sensors[settingIndex]\n      },\n    });\n  };\n  \n  const getSensorCompleteName = (plant, settingType: SensorsTypes) => {\n    let sensorNewNumber = 1;\n\n    plant?.sensors?.map((module: ISetting) => {\n      let lastSensorNum = getLastNumOfSensor(module.settingType);\n      const rawSensorTypeName = getSensorWithoutNumber(module?.settingType);\n\n      if (!isNaN(lastSensorNum) && rawSensorTypeName === settingType) {\n        sensorNewNumber = lastSensorNum + 1;\n      }\n    });\n\n    return `${settingType}_${sensorNewNumber}`;\n  };\n\n  const dispatchNewSettingSave = (plant: any, settingType: SensorsTypes, plantIndex: number) => {\n    const completeSensorTypeName = getSensorCompleteName(plant, settingType);\n\n    updateSetting({\n      variables: {\n        id: data?.getUser?.id,\n        plantId: plant.plantId,\n        input: getDefaultSetting(completeSensorTypeName)\n      },\n    });\n\n    dispatch({ type: 'ADD_MODULE', payload: {plantIndex, setting: getDefaultSetting(completeSensorTypeName) }});\n  };\n\n  const selectStyle = { control: styles => ({ ...styles, width: '197px', textAlign: 'left' }) };\n  const sensorsOptions = [\n    { value: SensorsTypes.DISTANCE, label: intl.formatMessage({ id: 'distanceId', defaultMessage: 'distanceId' }) },\n    { value: SensorsTypes.SOIL_HUMIDITY, label: intl.formatMessage({ id: 'moistHumidityId', defaultMessage: 'moistHumidityId' }) },\n    { value: SensorsTypes.HUMIDITY, label: intl.formatMessage({ id: 'airHumidityId', defaultMessage: 'airHumidityId' }) },\n    { value: SensorsTypes.TEMPETURE, label: intl.formatMessage({ id: 'airTempetureId', defaultMessage: 'airTempetureId' }) },\n    { value: SensorsTypes.LIGHT, label: intl.formatMessage({ id: 'lightSensorId', defaultMessage: 'lightSensorId' }) },\n    { value: SensorsTypes.PLUG, label: intl.formatMessage({ id: 'intelligentPlugId', defaultMessage: 'intelligentPlugId' }) },\n  ];\n\n  const timezonesList = timezones.map((timezone: string) => ({ value: timezone, label: timezone  }))\n\n  return (\n    <PlantPageWrapper>\n      <PlantsPageContainer style={{ width: '100%' }}>\n        <Link href=\"/profile\">\n          <a className=\"home-btn\">\n            <FormattedMessage id=\"backProfileBtn\" defaultMessage=\"Back to Profile\" />\n          </a>\n        </Link>\n\n        <OrderDetails>\n          <BlockTitle>\n            <FormattedMessage\n              id=\"dittoBotsIds\"\n              defaultMessage=\"dittoBotsIds\"\n            />\n          </BlockTitle>\n\n          { plants?.length < 1 && (<Text>{intl.formatMessage({ id: 'noDittoBotsTextId', defaultMessage: 'noDittoBotsTextId' })}</Text>) }\n          { plants?.map((plant, i: number) => {\n            const { sensors } = plant;\n            plant.timeZone = timeZone;\n              return (\n                <DashboardContainer key={i + '-orderList'}>\n                  <Row1>\n                    <Column1>\n                      <ListItem>\n                        <ListTitle>\n                          <Text bold>\n                            <FormattedMessage\n                              id=\"controllerNameId\"\n                              defaultMessage=\"controllerNameId\"\n                            />\n                          </Text>\n                        </ListTitle>\n                        <ListDes>\n                          <Input\n                            type='text'\n                            name='name'\n                            disabled={true}\n                            value={plant?.name}\n                            // we have to change the onChange because the is no one for the controller name actualy\n                            onChange={(e: any) => handleCreateUpdatePlantOnClick(plant, e.target.value, false, timeZone)}\n                            backgroundColor='#F7F7F7'\n                            width='197px'\n                            height='34.5px'\n                          />\n                        </ListDes>\n                      </ListItem>\n\n                      <ListItem>\n                        <ListTitle>\n                          <Text bold>\n                            <FormattedMessage\n                              id=\"statusId\"\n                              defaultMessage=\"statusId\"\n                            />\n                          </Text>\n                        </ListTitle>\n                        <ListDes>\n                          <LastConectionReading key={'lastcon'+i} plantIndex={i} />\n                        </ListDes>\n                      </ListItem>\n\n                      <ListItem>\n                        <ListTitle>\n                          <Text bold>\n                            <FormattedMessage\n                              id=\"offlineNotificationId\"\n                              defaultMessage=\"offlineNotificationId\"\n                            />\n                          </Text>\n                        </ListTitle>\n                        <ListDes>\n                          <Switch \n                            disabled={false}\n                            checked={plant.offline_notification}\n                            labelPosition={'right'}\n                            // className,\n                            onUpdate={(e: any) => handleCreateUpdatePlantOnClick(plant, plant.name, false, plant.timeZone, !plant.offline_notification)}\n                          />\n                        </ListDes>\n                      </ListItem>\n\n                      <ListItem style={{ justifyContent: 'flex-start' }}>\n                          <ListTitle>\n                          <Text bold>\n                              <FormattedMessage\n                              id=\"addSensorId\"\n                              defaultMessage=\"addSensorId\"\n                              />\n                          </Text>\n                          </ListTitle>\n                          <ListDes>\n                          <Select \n                              onChange={(e: any) => dispatchNewSettingSave(plant, e.value, i)}\n                              value={sensorSelected}\n                              // @ts-ignore\n                              options={sensorsOptions}\n                              styles={selectStyle}\n                              menuPosition={'fixed'}\n                          />\n                          </ListDes>\n                        </ListItem>\n\n                        {/* <ListItem style={{ justifyContent: 'flex-start' }}>\n                            <ListTitle>\n                              <Text bold>\n                                  <FormattedMessage\n                                  id=\"timezone\"\n                                  defaultMessage=\"timezone\"\n                                  />\n                              </Text>\n                            </ListTitle>\n                            <ListDes>\n                              <Select \n                                  onChange={(e: any) => handleCreateUpdatePlantOnClick(plant, plant.name, false, e.value, intl.locale)}\n                                  value={timezoneSelected}\n                                  // @ts-ignore\n                                  options={timezonesList}\n                                  styles={selectStyle}\n                                  menuPosition={'fixed'}\n                              />\n                            </ListDes>\n                          </ListItem> */}\n                    </Column1>\n                  </Row1>\n                  <SensorsWrapper>\n                  { sensors?.map((module: ISetting, index: number) => {\n                      switch (module?.settingType) {\n                        case `${SensorsTypes.SOIL_HUMIDITY}_1`:\n                        case `${SensorsTypes.SOIL_HUMIDITY}_2`:\n                        case `${SensorsTypes.SOIL_HUMIDITY}_3`:\n                          // check the number of same setting to send\n                          return (\n                            <SoilHumiditySensor \n                              key={i + module.settingType}\n                              data={data}\n                              plant={plant}\n                              errorId={errorId}\n                              openTab={openTab}\n                              handleDeleteSensor={handleDeleteSensor}\n                              setOpenTab={setOpenTab}\n                              settingType={module.settingType}\n                              handleSettingsChange={handleSettingsChange}\n                              onDeleteSchedule={onDeleteSchedule} \n                            />\n                          );\n                        case `${SensorsTypes.LIGHT}_1`:\n                          return (\n                            <LightSensor \n                              key={i + module.settingType}\n                              data={data}\n                              errorId={errorId}\n                              plant={plant}\n                              handleDeleteSensor={handleDeleteSensor}\n                              openTab={openTab}\n                              setOpenTab={setOpenTab}\n                              settingType={module.settingType}\n                              handleSettingsChange={handleSettingsChange}\n                              onDeleteSchedule={onDeleteSchedule} \n                            />\n                          );\n                        case `${SensorsTypes.HUMIDITY}_1`:\n                          return (\n                            <AirHumidity \n                              key={i + module.settingType}\n                              data={data}\n                              errorId={errorId}\n                              plant={plant}\n                              handleDeleteSensor={handleDeleteSensor}\n                              openTab={openTab}\n                              setOpenTab={setOpenTab}\n                              settingType={module.settingType}\n                              handleSettingsChange={handleSettingsChange}\n                              onDeleteSchedule={onDeleteSchedule} \n                            />\n                          );\n                        case `${SensorsTypes.TEMPETURE}_1`:\n                          return (\n                            <AirTemperature \n                              key={i + module.settingType}\n                              data={data}\n                              errorId={errorId}\n                              plant={plant}\n                              handleDeleteSensor={handleDeleteSensor}\n                              openTab={openTab}\n                              setOpenTab={setOpenTab}\n                              settingType={module.settingType}\n                              handleSettingsChange={handleSettingsChange}\n                              onDeleteSchedule={onDeleteSchedule} \n                            />\n                          );\n                        case `${SensorsTypes.DISTANCE}_1`:\n                          return (\n                            <DistanceSensor\n                              key={i + module.settingType}\n                              data={data}\n                              plant={plant}\n                              errorId={errorId}\n                              handleDeleteSensor={handleDeleteSensor}\n                              openTab={openTab}\n                              setOpenTab={setOpenTab}\n                              settingType={module.settingType}\n                              handleSettingsChange={handleSettingsChange}\n                              onDeleteSchedule={onDeleteSchedule} \n                            />\n                          );\n                        case `${SensorsTypes.PLUG}_1`:\n                          return (\n                            <Plug\n                              key={i + module.settingType}\n                              data={data}\n                              plant={plant}\n                              handleDeleteSensor={handleDeleteSensor}\n                              openTab={openTab}\n                              setOpenTab={setOpenTab}\n                              settingType={module.settingType}\n                              handleSettingsChange={handleSettingsChange}\n                              onDeleteSchedule={onDeleteSchedule} \n                            />\n                          );\n                      \n                        default:\n                          break;\n                      }\n                    })}\n                  </SensorsWrapper>\n                   \n                </DashboardContainer>\n              )\n            })\n          }\n\n          {userinfoMsg && (\n              <SuccessMsg>\n                <FormattedMessage\n                  id='userInfoSuccess'\n                  defaultMessage={userinfoMsg}\n                />\n              </SuccessMsg>\n          )}\n\n        </OrderDetails>\n      </PlantsPageContainer>\n\n      <PlantsPageContainer style={{ width: '100%' }}>\n        <BlockTitle>\n          <FormattedMessage\n            id=\"addController\"\n            defaultMessage=\"Your Plants\"\n          />\n        </BlockTitle>\n\n        <ListItem>\n          <ListTitle>\n            <Text bold>\n              <FormattedMessage\n                id='plantNameField'\n                defaultMessage='Name of the plant'\n              />\n            </Text>\n          </ListTitle>\n          <ListDes>\n            <Input\n              type='text'\n              name='name'\n              value={name}\n              onChange={(e) => setPlantName(e.target.value)}\n              placeholder={intl.formatMessage({ id: 'plantNamePlaceholderId', defaultMessage: 'Balcony plants' })}\n              backgroundColor='#F7F7F7'\n              width='197px'\n            />\n          </ListDes>\n        </ListItem>\n\n        <ListItem>\n          <ListTitle>\n            <Text bold>\n              <FormattedMessage\n                id='plantIdField'\n                defaultMessage='ID of the controller'\n              />\n            </Text>\n          </ListTitle>\n          <ListDes>\n            <Input\n              type='number'\n              name='plantId'\n              value={plantId}\n              onChange={(e) => setControllerID(e.target.value)}\n              placeholder={intl.formatMessage({ id: 'serialNumberPlaceholderId', defaultMessage: 'Look behind Ditto Bot' })}\n              backgroundColor='#F7F7F7'\n              width='197px'\n            />\n          </ListDes>\n        </ListItem>\n\n        <Button className=\"cart-button\" variant=\"secondary\" borderRadius={100} onClick={() => handleCreateUpdatePlantOnClick(plants, name, true, timeZone)}>\n          <ButtonText>\n            <FormattedMessage id={\"addDittoBotButton\"} defaultMessage=\"Add plant\" />\n          </ButtonText>\n        </Button>\n      </PlantsPageContainer>\n    </PlantPageWrapper>\n  );\n};\n\nexport default YourPlants;\n"]},"metadata":{},"sourceType":"module"}