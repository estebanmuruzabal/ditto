{"ast":null,"code":"var _jsxFileName = \"/Users/estebanmuruzabal/work/Mahdi-Fashion/client/packages/shop/src/features/user-profile/work/work.tsx\";\nvar __jsx = React.createElement;\nimport React, { useContext, useState } from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport { Col } from 'react-styled-flexboxgrid';\nimport { openModal } from '@redq/reuse-modal';\nimport RadioCard from 'components/radio-card/radio-card';\nimport { WorkContext } from 'contexts/work/work.context';\nimport { AuthContext } from 'contexts/auth/auth.context';\nimport { DELETE_ADDRESS, SETPRIMARY_ADDRESS } from 'graphql/mutation/address';\nimport { UPDATE_USER_TODO_TASKS, UPDATE_USER_WORK_INFO } from 'graphql/mutation/user';\nimport { CHANGE_PASSWORD } from 'graphql/mutation/changePassword';\nimport { DELETE_CARD } from 'graphql/mutation/card';\nimport { DELETE_PHONENUMBER, SETPRIMARY_PHONENUMBER } from 'graphql/mutation/phone';\nimport { SettingsForm, SettingsFormContent, HeadingSection, Title, Row, ButtonGroup } from './work.style';\nimport RadioGroupThree from 'components/radio-group/radio-group-three';\nimport { UPDATE_ME } from 'graphql/mutation/me';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { Label } from 'components/forms/label';\nimport Switch from 'components/switch/switch';\nimport moment from 'moment';\n\nconst WorkContent = ({\n  deviceType\n}) => {\n  var _state$workInfo, _state$workInfo2, _state$workInfo3, _state$workInfo4, _state$workInfo5, _state$workInfo7, _state$workInfo7$rate, _state$workInfo8, _state$workInfo9, _state$workInfo9$tota;\n\n  const {\n    state,\n    dispatch\n  } = useContext(WorkContext);\n  const {\n    0: userinfoMsg,\n    1: setUserinfoMsg\n  } = useState('');\n  const {\n    0: isChambeanding,\n    1: setChamba\n  } = useState(false);\n  const {\n    0: passwordChangeMsg,\n    1: setPasswordChangeMsg\n  } = useState('');\n  const {\n    authState: {\n      isAuthenticated\n    },\n    authDispatch\n  } = React.useContext(AuthContext);\n  const [updateMeMutation] = useMutation(UPDATE_ME);\n  const [deletePaymentCardMutation] = useMutation(DELETE_CARD);\n  const [updateUserTodoMutation] = useMutation(UPDATE_USER_TODO_TASKS);\n  const [updateUserInfoMutation] = useMutation(UPDATE_USER_WORK_INFO);\n  const [changePasswordMutation] = useMutation(CHANGE_PASSWORD);\n  const [deletePhoneNumberMutation] = useMutation(DELETE_PHONENUMBER);\n  const [setprimaryPhoneNumberMutation] = useMutation(SETPRIMARY_PHONENUMBER);\n  const [setprimaryAddressMutation] = useMutation(SETPRIMARY_ADDRESS);\n  const [deleteAddressMutation] = useMutation(DELETE_ADDRESS);\n  const intl = useIntl();\n  const {\n    delivery_address,\n    card,\n    name,\n    email,\n    id,\n    phones\n  } = state;\n\n  const updateUserWorkInfoMutation = async logDescription => {\n    const {\n      workInfo,\n      id\n    } = state;\n    const {\n      isWorking,\n      startedWorkTime,\n      stoppedWorkTime,\n      ratePerHour,\n      totalWorkingMinutesPerWeek,\n      totalSalaryToPayWeekly,\n      advancedSalaryPaid,\n      taskRelated\n    } = workInfo;\n    await updateUserInfoMutation({\n      variables: {\n        id,\n        isWorking,\n        startedWorkTime,\n        stoppedWorkTime,\n        ratePerHour,\n        logDescription,\n        totalWorkingMinutesPerWeek,\n        totalSalaryToPayWeekly,\n        advancedSalaryPaid,\n        taskRelated,\n        role: state.role\n      }\n    });\n    setUserinfoMsg('Update user work info successfully');\n    setTimeout(function () {\n      setUserinfoMsg('');\n    }, 8000);\n  };\n\n  const stopWorking = () => {\n    const user = state;\n    if (!user.workInfo) user.workInfo = {};\n    user.workInfo.isWorking = false;\n    user.workInfo.stoppedWorkTime = new Date().toLocaleString('en-US', {\n      timeZone: 'America/Argentina/Buenos_Aires'\n    });\n    const startedWorkTime = moment(new Date(user.workInfo.startedWorkTime));\n    const stoppedWorkTime = moment(new Date(user.workInfo.stoppedWorkTime));\n    const workedInMinutes = stoppedWorkTime.diff(startedWorkTime, 'minutes');\n    const ratePerMinute = user.workInfo.ratePerHour / 60;\n    user.workInfo.totalWorkingMinutesPerWeek += workedInMinutes;\n    user.workInfo.totalSalaryToPayWeekly = Number(user.workInfo.totalWorkingMinutesPerWeek) * Number(ratePerMinute) - Number(user.workInfo.advancedSalaryPaid); // user.logs.push({\n    //   logDescription: ,\n    //   timestamp: new Date().toLocaleString('en-US', { timeZone: 'America/Argentina/Buenos_Aires' })\n    // });\n\n    dispatch({\n      type: 'HANDLE_WORK_CHANGE',\n      payload: {\n        workInfo: user.workInfo,\n        logs: user.logs\n      }\n    });\n    updateUserWorkInfoMutation(`finished working.`);\n  };\n\n  const startWorking = () => {\n    const user = state;\n    if (!user.workInfo) user.workInfo = {};\n    user.workInfo.isWorking = true;\n    user.workInfo.startedWorkTime = new Date().toLocaleString('en-US', {\n      timeZone: 'America/Argentina/Buenos_Aires'\n    });\n    user.workInfo.stoppedWorkTime = null;\n    user.workInfo.ratePerHour = 300; // user.logs.push({\n    //   logDescription: ,\n    //   timestamp: new Date().toLocaleString('en-US', { timeZone: 'America/Argentina/Buenos_Aires' })\n    // })\n\n    dispatch({\n      type: 'HANDLE_WORK_CHANGE',\n      payload: {\n        workInfo: user.workInfo,\n        logs: user.logs\n      }\n    });\n    updateUserWorkInfoMutation(`started working.`);\n  };\n\n  const handleTaskChange = async (task, action) => {\n    const {\n      id\n    } = state;\n\n    switch (action) {\n      case 'stop':\n        const completationTimes = task.isRepetitived ? (Number(task.completationTimes) + 1).toString() : task.completationTimes;\n        return await updateUserTodoMutation({\n          variables: {\n            id,\n            taskId: task.taskId,\n            description: task.description,\n            startDate: task.startDate,\n            finishDate: new Date().toLocaleString('en-US', {\n              timeZone: 'America/Argentina/Buenos_Aires'\n            }),\n            plannedDate: task.plannedDate,\n            isRepetitived: task.isRepetitived,\n            completationTimes,\n            workedHours: task.workedHours,\n            isDone: true\n          }\n        });\n\n      case 'start':\n        const startDate = new Date().toLocaleString('en-US', {\n          timeZone: 'America/Argentina/Buenos_Aires'\n        });\n        return await updateUserTodoMutation({\n          variables: {\n            id,\n            taskId: task.taskId,\n            description: task.description,\n            startDate,\n            finishDate: task.finishDate,\n            plannedDate: task.plannedDate,\n            isRepetitived: task.isRepetitived,\n            completationTimes: task.completationTimes,\n            workedHours: task.workedHours,\n            isDone: task.isDone\n          }\n        });\n\n      default:\n        return false;\n    }\n  }; // Add or edit modal\n\n\n  const handleModal = (modalComponent, modalProps = {}, className = 'add-address-modal') => {\n    openModal({\n      show: true,\n      config: {\n        width: 360,\n        height: 'auto',\n        enableResizing: false,\n        disableDragging: true,\n        className: className\n      },\n      closeOnClickOutside: true,\n      component: modalComponent,\n      componentProps: {\n        item: modalProps\n      }\n    });\n  };\n\n  console.log(\"working info changed:\", state.tasks);\n  const h = ((_state$workInfo = state.workInfo) === null || _state$workInfo === void 0 ? void 0 : _state$workInfo.totalWorkingMinutesPerWeek) / 60 | 0;\n  const m = ((_state$workInfo2 = state.workInfo) === null || _state$workInfo2 === void 0 ? void 0 : _state$workInfo2.totalWorkingMinutesPerWeek) % 60 | 0;\n  const subtotalSalario = Number((_state$workInfo3 = state.workInfo) === null || _state$workInfo3 === void 0 ? void 0 : _state$workInfo3.totalWorkingMinutesPerWeek) / 60 * Number((_state$workInfo4 = state.workInfo) === null || _state$workInfo4 === void 0 ? void 0 : _state$workInfo4.ratePerHour);\n  const pendingTasks = state === null || state === void 0 ? void 0 : state.tasks.filter(task => task.startDate.length === 0 && task.finishDate.length === 0 && task.isDone === false);\n  return __jsx(SettingsForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 5\n    }\n  }, __jsx(SettingsFormContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }\n  }, __jsx(HeadingSection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 9\n    }\n  }, __jsx(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 11\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"workPageTitle\",\n    defaultMessage: \"Ditto Farm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }\n  }))), __jsx(Col, {\n    style: {\n      alignItems: 'flex-end',\n      marginBottom: '50px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 9\n    }\n  }, __jsx(Row, {\n    style: {\n      marginBottom: '15px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 11\n    }\n  }, __jsx(Switch, {\n    label: `Usted se encuentra: ${((_state$workInfo5 = state.workInfo) === null || _state$workInfo5 === void 0 ? void 0 : _state$workInfo5.isWorking) ? 'Chambeando' : 'Vagando'}`,\n    disabled: false,\n    labelPosition: 'right' // className,\n    ,\n    onUpdate: () => {\n      var _state$workInfo6;\n\n      return ((_state$workInfo6 = state.workInfo) === null || _state$workInfo6 === void 0 ? void 0 : _state$workInfo6.isWorking) ? stopWorking() : startWorking();\n    } // style\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 13\n    }\n  })), __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 11\n    }\n  }, __jsx(Label, {\n    style: {\n      marginRight: '15px',\n      minWidth: '200px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 11\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"profileNameField\",\n    defaultMessage: \"Your Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 17\n    }\n  })), __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 15\n    }\n  }, state.name)), __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 11\n    }\n  }, __jsx(Label, {\n    style: {\n      marginRight: '15px',\n      minWidth: '200px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 15\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"workedHours\",\n    defaultMessage: \"workedHours\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 17\n    }\n  })), __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 15\n    }\n  }, `${h}:${Number(m) >= 9 ? m : '0' + m} hs`)), __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 11\n    }\n  }, __jsx(Label, {\n    style: {\n      marginRight: '15px',\n      minWidth: '200px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 13\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"salaryPerHour\",\n    defaultMessage: \"salaryPerHour\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 15\n    }\n  })), __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 13\n    }\n  }, `$${((_state$workInfo7 = state.workInfo) === null || _state$workInfo7 === void 0 ? void 0 : (_state$workInfo7$rate = _state$workInfo7.ratePerHour) === null || _state$workInfo7$rate === void 0 ? void 0 : _state$workInfo7$rate.toFixed(2)) || '-'}`)), __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 11\n    }\n  }, __jsx(Label, {\n    style: {\n      marginRight: '15px',\n      minWidth: '200px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 13\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"subtotalSalary\",\n    defaultMessage: \"Salary Subtotal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 15\n    }\n  })), __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 13\n    }\n  }, `$${subtotalSalario}`)), __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 11\n    }\n  }, __jsx(Label, {\n    style: {\n      marginRight: '15px',\n      minWidth: '200px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 13\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"advancedSalaryPaid\",\n    defaultMessage: \"advancedSalaryPaid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 15\n    }\n  })), __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 13\n    }\n  }, `$${(_state$workInfo8 = state.workInfo) === null || _state$workInfo8 === void 0 ? void 0 : _state$workInfo8.advancedSalaryPaid}`)), __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 11\n    }\n  }, __jsx(Label, {\n    style: {\n      marginRight: '15px',\n      minWidth: '200px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 13\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"totalSalaryToPayWeekly\",\n    defaultMessage: \"totalSalaryToPayWeekly\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 17\n    }\n  })), __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 15\n    }\n  }, `$${((_state$workInfo9 = state.workInfo) === null || _state$workInfo9 === void 0 ? void 0 : (_state$workInfo9$tota = _state$workInfo9.totalSalaryToPayWeekly) === null || _state$workInfo9$tota === void 0 ? void 0 : _state$workInfo9$tota.toFixed(2)) || '-'}`)), inProgressTasks, __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 11\n    }\n  }, __jsx(Col, {\n    xs: 12,\n    sm: 12,\n    md: 12,\n    lg: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 13\n    }\n  }, __jsx(SettingsFormContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 15\n    }\n  }, __jsx(HeadingSection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 17\n    }\n  }, __jsx(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 19\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"inProgressTasks\",\n    defaultMessage: \"inProgressTasks\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 21\n    }\n  }))), __jsx(ButtonGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 17\n    }\n  }, __jsx(RadioGroupThree, {\n    items: state === null || state === void 0 ? void 0 : state.tasks.filter(task => task.startDate.length > 1 && task.finishDate.length === 0),\n    component: (task, index) => __jsx(RadioCard, {\n      id: index,\n      key: index,\n      title: task.description,\n      content: task.description,\n      checked: task.isDone,\n      onChange: () => handleTaskChange(task, 'nothing'),\n      name: \"contact\",\n      hasEdit: false,\n      onDelete: () => handleTaskChange(task, 'stop'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 23\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 19\n    }\n  }))))), __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 11\n    }\n  }, __jsx(Col, {\n    xs: 12,\n    sm: 12,\n    md: 12,\n    lg: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 13\n    }\n  }, __jsx(SettingsFormContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 15\n    }\n  }, __jsx(HeadingSection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 17\n    }\n  }, __jsx(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 19\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"pendingTasks\",\n    defaultMessage: \"pendingTasks\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 21\n    }\n  }))), __jsx(ButtonGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 17\n    }\n  }, __jsx(RadioGroupThree, {\n    items: pendingTasks,\n    component: (task, index) => __jsx(RadioCard, {\n      id: index,\n      key: index,\n      title: task.description,\n      content: `Comenzo: ${task.startDate}. Termino: ${task.finishDate}. Completada: ${task.isDone}`,\n      checked: task.isDone,\n      onChange: () => handleTaskChange(task, 'contact'),\n      name: \"contact\",\n      onEdit: () => handleTaskChange(task, 'start'),\n      hasDelete: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 23\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 19\n    }\n  }))))), __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 11\n    }\n  }, __jsx(Col, {\n    xs: 12,\n    sm: 12,\n    md: 12,\n    lg: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 13\n    }\n  }, __jsx(SettingsFormContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 15\n    }\n  }, __jsx(HeadingSection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 17\n    }\n  }, __jsx(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 19\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"doneTasks\",\n    defaultMessage: \"doneTasks\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 21\n    }\n  }))), __jsx(ButtonGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 17\n    }\n  }, __jsx(RadioGroupThree, {\n    items: state === null || state === void 0 ? void 0 : state.tasks.filter(task => task.isDone === true),\n    component: (task, index) => __jsx(RadioCard, {\n      id: index,\n      key: index,\n      title: task.description,\n      content: task.description,\n      checked: task.isDone,\n      onChange: () => handleTaskChange(task, 'nothing'),\n      name: \"contact\",\n      hasDelete: false,\n      hasEdit: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 23\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 19\n    }\n  }))))))));\n};\n\nexport default WorkContent;","map":{"version":3,"sources":["/Users/estebanmuruzabal/work/Mahdi-Fashion/client/packages/shop/src/features/user-profile/work/work.tsx"],"names":["React","useContext","useState","useMutation","Col","openModal","RadioCard","WorkContext","AuthContext","DELETE_ADDRESS","SETPRIMARY_ADDRESS","UPDATE_USER_TODO_TASKS","UPDATE_USER_WORK_INFO","CHANGE_PASSWORD","DELETE_CARD","DELETE_PHONENUMBER","SETPRIMARY_PHONENUMBER","SettingsForm","SettingsFormContent","HeadingSection","Title","Row","ButtonGroup","RadioGroupThree","UPDATE_ME","FormattedMessage","useIntl","Label","Switch","moment","WorkContent","deviceType","state","dispatch","userinfoMsg","setUserinfoMsg","isChambeanding","setChamba","passwordChangeMsg","setPasswordChangeMsg","authState","isAuthenticated","authDispatch","updateMeMutation","deletePaymentCardMutation","updateUserTodoMutation","updateUserInfoMutation","changePasswordMutation","deletePhoneNumberMutation","setprimaryPhoneNumberMutation","setprimaryAddressMutation","deleteAddressMutation","intl","delivery_address","card","name","email","id","phones","updateUserWorkInfoMutation","logDescription","workInfo","isWorking","startedWorkTime","stoppedWorkTime","ratePerHour","totalWorkingMinutesPerWeek","totalSalaryToPayWeekly","advancedSalaryPaid","taskRelated","variables","role","setTimeout","stopWorking","user","Date","toLocaleString","timeZone","workedInMinutes","diff","ratePerMinute","Number","type","payload","logs","startWorking","handleTaskChange","task","action","completationTimes","isRepetitived","toString","taskId","description","startDate","finishDate","plannedDate","workedHours","isDone","handleModal","modalComponent","modalProps","className","show","config","width","height","enableResizing","disableDragging","closeOnClickOutside","component","componentProps","item","console","log","tasks","h","m","subtotalSalario","pendingTasks","filter","length","alignItems","marginBottom","marginRight","minWidth","toFixed","inProgressTasks","index"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport { Col } from 'react-styled-flexboxgrid';\nimport { openModal } from '@redq/reuse-modal';\nimport Router, { useRouter } from 'next/router';\nimport RadioCardTWO from 'components/radio-card/radio-card-two';\nimport RadioCard from 'components/radio-card/radio-card';\nimport { WorkContext } from 'contexts/work/work.context';\nimport { AuthContext } from 'contexts/auth/auth.context';\nimport { DELETE_ADDRESS, SETPRIMARY_ADDRESS } from 'graphql/mutation/address';\nimport { UPDATE_USER_TODO_TASKS, UPDATE_USER_WORK_INFO } from 'graphql/mutation/user';\nimport { CHANGE_PASSWORD } from 'graphql/mutation/changePassword';\nimport { DELETE_CARD } from 'graphql/mutation/card';\nimport { DELETE_PHONENUMBER, SETPRIMARY_PHONENUMBER } from 'graphql/mutation/phone';\nimport StripePaymentForm from 'features/payment/stripe-form';\nimport {\n  SettingsForm,\n  SettingsFormContent,\n  HeadingSection,\n  Title,\n  Row,\n  ButtonGroup,\n  SuccessMsg,\n  ErrorMsg\n} from './work.style';\nimport RadioGroupTwo from 'components/radio-group/radio-group-two';\nimport RadioGroupThree from 'components/radio-group/radio-group-three';\n\nimport PaymentGroup from 'components/payment-group/payment-group';\nimport UpdateAddressTwo from 'components/address-card/address-card-two';\nimport UpdateContact from 'components/contact-card/contact-card';\nimport { Button } from 'components/button/button';\nimport { Input } from 'components/forms/input';\nimport { UPDATE_ME } from 'graphql/mutation/me';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { Label } from 'components/forms/label';\nimport { ItemCount } from 'components/cart-popup/cart-popup.style';\nimport Switch from 'components/switch/switch';\nimport moment from 'moment';\n\ntype WorkContentProps = {\n  deviceType?: {\n    mobile: boolean;\n    tablet: boolean;\n    desktop: boolean;\n  };\n};\n\nconst WorkContent: React.FC<WorkContentProps> = ({ deviceType }) => {\n  const { state, dispatch } = useContext(WorkContext);\n  const [userinfoMsg, setUserinfoMsg] = useState('');\n  const [isChambeanding, setChamba] = useState(false);\n  const [passwordChangeMsg, setPasswordChangeMsg] = useState('');\n  const {\n    authState: { isAuthenticated },\n    authDispatch,\n  } = React.useContext<any>(AuthContext);\n  const [updateMeMutation] = useMutation(UPDATE_ME);\n  const [deletePaymentCardMutation] = useMutation(DELETE_CARD);\n\n  const [updateUserTodoMutation] = useMutation(UPDATE_USER_TODO_TASKS);\n  const [updateUserInfoMutation] = useMutation(UPDATE_USER_WORK_INFO);\n  const [changePasswordMutation] = useMutation(CHANGE_PASSWORD);\n  const [deletePhoneNumberMutation] = useMutation(DELETE_PHONENUMBER);\n  const [setprimaryPhoneNumberMutation] = useMutation(SETPRIMARY_PHONENUMBER);\n  const [setprimaryAddressMutation] = useMutation(SETPRIMARY_ADDRESS);\n  const [deleteAddressMutation] = useMutation(DELETE_ADDRESS);\n  const intl = useIntl();\n \n\n  const { \n    delivery_address, \n    card,\n    name,\n    email,\n    id,\n    phones\n  } = state;\n  \n  const updateUserWorkInfoMutation = async (logDescription: string) => {\n    const { workInfo, id } = state;\n    const { isWorking, startedWorkTime, stoppedWorkTime, ratePerHour, totalWorkingMinutesPerWeek, totalSalaryToPayWeekly, advancedSalaryPaid, taskRelated} = workInfo;\n    \n    await updateUserInfoMutation({\n      variables: {\n         id,\n         isWorking,\n         startedWorkTime,\n         stoppedWorkTime,\n         ratePerHour,\n         logDescription,\n         totalWorkingMinutesPerWeek,\n         totalSalaryToPayWeekly,\n         advancedSalaryPaid,\n         taskRelated,\n         role: state.role\n        }\n    });\n    setUserinfoMsg('Update user work info successfully');\n    setTimeout(function () {\n      setUserinfoMsg('');\n    }, 8000)\n  };\n\n\n  const stopWorking = () => {\n    const user = state;\n    if (!user.workInfo) user.workInfo = {};\n    user.workInfo.isWorking = false;\n    user.workInfo.stoppedWorkTime = new Date().toLocaleString('en-US', { timeZone: 'America/Argentina/Buenos_Aires' });\n\n    const startedWorkTime = moment(new Date(user.workInfo.startedWorkTime));\n    const stoppedWorkTime = moment(new Date(user.workInfo.stoppedWorkTime));\n\n    const workedInMinutes = stoppedWorkTime.diff(startedWorkTime, 'minutes');\n    const ratePerMinute = user.workInfo.ratePerHour / 60;\n\n    user.workInfo.totalWorkingMinutesPerWeek += workedInMinutes;\n    user.workInfo.totalSalaryToPayWeekly = Number(user.workInfo.totalWorkingMinutesPerWeek) * Number(ratePerMinute) - Number(user.workInfo.advancedSalaryPaid);\n\n    // user.logs.push({\n    //   logDescription: ,\n    //   timestamp: new Date().toLocaleString('en-US', { timeZone: 'America/Argentina/Buenos_Aires' })\n    // });\n\n    dispatch({\n      type: 'HANDLE_WORK_CHANGE',\n      payload: { workInfo: user.workInfo, logs: user.logs },\n    });\n    updateUserWorkInfoMutation(`finished working.`);\n  }\n\n  const startWorking = () => {\n    const user = state;\n    if (!user.workInfo) user.workInfo = {};\n    user.workInfo.isWorking = true;\n    user.workInfo.startedWorkTime = new Date().toLocaleString('en-US', { timeZone: 'America/Argentina/Buenos_Aires' });\n    user.workInfo.stoppedWorkTime = null;\n\n    user.workInfo.ratePerHour = 300;\n    // user.logs.push({\n    //   logDescription: ,\n    //   timestamp: new Date().toLocaleString('en-US', { timeZone: 'America/Argentina/Buenos_Aires' })\n    // })\n\n    dispatch({\n      type: 'HANDLE_WORK_CHANGE',\n      payload: { workInfo: user.workInfo, logs: user.logs },\n    });\n    updateUserWorkInfoMutation(`started working.`);\n  };\n\n\n  \n  const handleTaskChange = async (task: any, action: string) => {\n    const { id } = state;\n    switch (action) {\n      case 'stop':\n        const completationTimes =  task.isRepetitived ? (Number(task.completationTimes)+ 1).toString() : task.completationTimes;\n        return await updateUserTodoMutation({\n          variables: { \n            id,\n            taskId: task.taskId,\n            description: task.description,\n            startDate: task.startDate,\n            finishDate: new Date().toLocaleString('en-US', { timeZone: 'America/Argentina/Buenos_Aires' }),\n            plannedDate: task.plannedDate,\n            isRepetitived: task.isRepetitived,\n            completationTimes,\n            workedHours: task.workedHours,\n            isDone: true\n          },\n        });\n        \n      case 'start':\n        const startDate = new Date().toLocaleString('en-US', { timeZone: 'America/Argentina/Buenos_Aires' });\n          return await updateUserTodoMutation({\n            variables: {\n              id,\n              taskId: task.taskId,\n              description: task.description,\n              startDate,\n              finishDate: task.finishDate,\n              plannedDate: task.plannedDate,\n              isRepetitived: task.isRepetitived,\n              completationTimes: task.completationTimes,\n              workedHours: task.workedHours,\n              isDone: task.isDone\n            },\n          });\n      default:\n        return false;\n    }\n};\n\n  // Add or edit modal\n  const handleModal = (\n    modalComponent: any,\n    modalProps = {},\n    className: string = 'add-address-modal'\n  ) => {\n    openModal({\n      show: true,\n      config: {\n        width: 360,\n        height: 'auto',\n        enableResizing: false,\n        disableDragging: true,\n        className: className,\n      },\n      closeOnClickOutside: true,\n      component: modalComponent,\n      componentProps: { item: modalProps },\n    });\n  };\n\nconsole.log(\"working info changed:\", state.tasks)\nconst h = state.workInfo?.totalWorkingMinutesPerWeek / 60 | 0;\nconst m = state.workInfo?.totalWorkingMinutesPerWeek % 60 | 0;\nconst subtotalSalario = Number(state.workInfo?.totalWorkingMinutesPerWeek) / 60 * Number(state.workInfo?.ratePerHour);\nconst pendingTasks = state?.tasks.filter((task) => (task.startDate.length === 0 && task.finishDate.length === 0 && task.isDone === false))\n  return (\n    <SettingsForm>\n      <SettingsFormContent>\n        <HeadingSection>\n          <Title>\n            <FormattedMessage\n              id='workPageTitle'\n              defaultMessage='Ditto Farm'\n            />\n          </Title>\n        </HeadingSection>\n        <Col style={{ alignItems: 'flex-end', marginBottom: '50px' }}>\n          <Row style={{ marginBottom: '15px' }}>\n            <Switch \n              label={`Usted se encuentra: ${state.workInfo?.isWorking ? 'Chambeando' : 'Vagando'}`}\n              disabled={false}\n              labelPosition={'right'}\n              // className,\n              onUpdate={() => state.workInfo?.isWorking ? stopWorking() :startWorking() }\n              // style\n            />\n          </Row>\n\n          <Row>\n          <Label style={{ marginRight: '15px', minWidth: '200px'}}>\n                <FormattedMessage\n                  id='profileNameField'\n                  defaultMessage='Your Name'\n                />\n              </Label>\n              <Label>\n                {state.name}\n              </Label>\n          </Row>\n\n          <Row>\n              <Label style={{ marginRight: '15px', minWidth: '200px'}}>\n                <FormattedMessage\n                  id='workedHours'\n                  defaultMessage='workedHours'\n                />\n              </Label>\n              <Label>\n                {`${h}:${Number(m) >= 9 ? m : '0' + m} hs`}\n              </Label>\n          </Row>\n\n\n          <Row>\n            <Label style={{ marginRight: '15px', minWidth: '200px'}}>\n              <FormattedMessage\n                id='salaryPerHour'\n                defaultMessage='salaryPerHour'\n              />\n            </Label>\n            <Label>\n            {`$${state.workInfo?.ratePerHour?.toFixed(2) || '-'}`}\n            </Label>\n          </Row>\n\n          <Row>\n            <Label style={{ marginRight: '15px', minWidth: '200px'}}>\n              <FormattedMessage\n                id='subtotalSalary'\n                defaultMessage='Salary Subtotal'\n              />\n            </Label>\n            <Label>\n              {`$${subtotalSalario}`}\n            </Label>\n          </Row>\n\n          <Row>\n            <Label style={{ marginRight: '15px', minWidth: '200px'}}>\n              <FormattedMessage\n                id='advancedSalaryPaid'\n                defaultMessage='advancedSalaryPaid'\n              />\n            </Label>\n            <Label>\n              {`$${state.workInfo?.advancedSalaryPaid}`}\n            </Label>\n          </Row>\n\n          <Row>\n            <Label style={{ marginRight: '15px', minWidth: '200px'}}>\n                <FormattedMessage\n                  id='totalSalaryToPayWeekly'\n                  defaultMessage='totalSalaryToPayWeekly'\n                />\n              </Label>\n              <Label>\n                {`$${state.workInfo?.totalSalaryToPayWeekly?.toFixed(2) || '-'}`}\n              </Label>\n          </Row>\n\n          { inProgressTasks\n\n          }\n          <Row>\n            <Col xs={12} sm={12} md={12} lg={12}>\n              <SettingsFormContent>\n                <HeadingSection>\n                  <Title>\n                    <FormattedMessage id='inProgressTasks' defaultMessage='inProgressTasks' />\n                  </Title>\n                </HeadingSection>\n                <ButtonGroup>\n                  <RadioGroupThree\n                    items={state?.tasks.filter((task) => (task.startDate.length > 1 && task.finishDate.length === 0))}\n                    component={(task: any, index: any) => (\n                      <RadioCard\n                        id={index}\n                        key={index}\n                        title={task.description}\n                        content={task.description}\n                        checked={task.isDone}\n                        onChange={() => handleTaskChange(task, 'nothing')}\n                        name='contact'\n                        hasEdit={false}\n                        onDelete={() => handleTaskChange(task, 'stop')}\n                      />\n                    )}\n                  />\n                </ButtonGroup>\n              </SettingsFormContent>\n            </Col>\n          </Row>\n\n          <Row>\n            <Col xs={12} sm={12} md={12} lg={12}>\n              <SettingsFormContent>\n                <HeadingSection>\n                  <Title>\n                    <FormattedMessage id='pendingTasks' defaultMessage='pendingTasks' />\n                  </Title>\n                </HeadingSection>\n                <ButtonGroup>\n                  <RadioGroupThree\n                    items={pendingTasks}\n                    component={(task: any, index: any) => (\n                      <RadioCard\n                        id={index}\n                        key={index}\n                        title={task.description}\n                        content={`Comenzo: ${task.startDate}. Termino: ${task.finishDate}. Completada: ${task.isDone}`}\n                        checked={task.isDone}\n                        onChange={() => handleTaskChange(task, 'contact')}\n                        name='contact'\n                        onEdit={() => handleTaskChange(task,'start')}\n                        hasDelete={false}\n                      />\n                    )}\n                  />\n                </ButtonGroup>\n              </SettingsFormContent>\n            </Col>\n          </Row>\n\n          <Row>\n            <Col xs={12} sm={12} md={12} lg={12}>\n              <SettingsFormContent>\n                <HeadingSection>\n                  <Title>\n                    <FormattedMessage id='doneTasks' defaultMessage='doneTasks' />\n                  </Title>\n                </HeadingSection>\n                <ButtonGroup>\n                  <RadioGroupThree\n                    items={state?.tasks.filter((task) => (task.isDone === true))}\n                    component={(task: any, index: any) => (\n                      <RadioCard\n                        id={index}\n                        key={index}\n                        title={task.description}\n                        content={task.description}\n                        checked={task.isDone}\n                        onChange={() => handleTaskChange(task, 'nothing')}\n                        name='contact'\n                        hasDelete={false}\n                        hasEdit={false}\n                      />\n                    )}\n                  />\n                </ButtonGroup>\n              </SettingsFormContent>\n            </Col>\n          </Row>\n\n        </Col>\n      </SettingsFormContent>\n    </SettingsForm>\n  );\n};\n\nexport default WorkContent;\n"]},"metadata":{},"sourceType":"module"}