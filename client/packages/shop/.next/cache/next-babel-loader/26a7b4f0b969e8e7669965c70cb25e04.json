{"ast":null,"code":"import moment from \"moment\";\nexport const getSensorWithoutNumber = settingType => {\n  if (!isNaN(Number(settingType[settingType.length - 1]))) {\n    return settingType.substring(0, settingType.length - 2);\n  }\n\n  console.log('didnt work');\n};\nexport const getLastNumOfSensor = settingType => {\n  if (!isNaN(Number(settingType[settingType.length - 1]))) {\n    return Number(settingType.substring(settingType.length, settingType.length - 1));\n  }\n\n  console.log('didnt work 2');\n};\nexport const checkIfSensorIsOnline = lastTimeStamp => {\n  const currentTimeMoment = moment(new Date().toLocaleString('en-US', {\n    timeZone: 'America/Argentina/Buenos_Aires'\n  }));\n  const lastTimeStampMoment = moment(new Date(lastTimeStamp));\n  const lastTimestampInMins = currentTimeMoment === null || currentTimeMoment === void 0 ? void 0 : currentTimeMoment.diff(lastTimeStampMoment, 'minutes'); // if it hasnt pass more than 30 mins, we dont log anything basically\n\n  if (lastTimestampInMins < 1) return setting;\n  return true;\n};","map":{"version":3,"sources":["/Users/estebanmuruzabal/work/ditto/client/packages/shop/src/utils/ditto-bot.ts"],"names":["moment","getSensorWithoutNumber","settingType","isNaN","Number","length","substring","console","log","getLastNumOfSensor","checkIfSensorIsOnline","lastTimeStamp","currentTimeMoment","Date","toLocaleString","timeZone","lastTimeStampMoment","lastTimestampInMins","diff","setting"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,QAAnB;AAGA,OAAO,MAAMC,sBAAsB,GAAIC,WAAD,IAAwC;AAC1E,MAAI,CAACC,KAAK,CAACC,MAAM,CAACF,WAAW,CAACA,WAAW,CAACG,MAAZ,GAAqB,CAAtB,CAAZ,CAAP,CAAV,EAAyD;AACrD,WAAOH,WAAW,CAACI,SAAZ,CAAsB,CAAtB,EAAyBJ,WAAW,CAACG,MAAZ,GAAqB,CAA9C,CAAP;AACH;;AACDE,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACH,CALM;AAOP,OAAO,MAAMC,kBAAkB,GAAIP,WAAD,IAAwC;AACtE,MAAI,CAACC,KAAK,CAACC,MAAM,CAACF,WAAW,CAACA,WAAW,CAACG,MAAZ,GAAqB,CAAtB,CAAZ,CAAP,CAAV,EAAyD;AACrD,WAAOD,MAAM,CAACF,WAAW,CAACI,SAAZ,CAAsBJ,WAAW,CAACG,MAAlC,EAA0CH,WAAW,CAACG,MAAZ,GAAqB,CAA/D,CAAD,CAAb;AACH;;AACDE,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACH,CALM;AAQP,OAAO,MAAME,qBAAqB,GAAIC,aAAD,IAA2B;AAExD,QAAMC,iBAAiB,GAAGZ,MAAM,CAAC,IAAIa,IAAJ,GAAWC,cAAX,CAA0B,OAA1B,EAAmC;AAAEC,IAAAA,QAAQ,EAAE;AAAZ,GAAnC,CAAD,CAAhC;AACA,QAAMC,mBAAmB,GAAGhB,MAAM,CAAC,IAAIa,IAAJ,CAASF,aAAT,CAAD,CAAlC;AACA,QAAMM,mBAAmB,GAAGL,iBAAH,aAAGA,iBAAH,uBAAGA,iBAAiB,CAAEM,IAAnB,CAAwBF,mBAAxB,EAA6C,SAA7C,CAA5B,CAJwD,CAMxD;;AACA,MAAIC,mBAAmB,GAAG,CAA1B,EAA6B,OAAOE,OAAP;AAEjC,SAAO,IAAP;AACH,CAVM","sourcesContent":["import moment from \"moment\";\nimport { SensorsTypes } from \"./constant\";\n\nexport const getSensorWithoutNumber = (settingType: SensorsTypes) : string => {\n    if (!isNaN(Number(settingType[settingType.length - 1]))) {\n        return settingType.substring(0, settingType.length - 2);\n    }\n    console.log('didnt work')\n};\n\nexport const getLastNumOfSensor = (settingType: SensorsTypes) : number => {\n    if (!isNaN(Number(settingType[settingType.length - 1]))) {\n        return Number(settingType.substring(settingType.length, settingType.length - 1));\n    }\n    console.log('didnt work 2')\n};\n\n\nexport const checkIfSensorIsOnline = (lastTimeStamp: string) => {\n\n        const currentTimeMoment = moment(new Date().toLocaleString('en-US', { timeZone: 'America/Argentina/Buenos_Aires' }));\n        const lastTimeStampMoment = moment(new Date(lastTimeStamp));\n        const lastTimestampInMins = currentTimeMoment?.diff(lastTimeStampMoment, 'minutes');\n\n        // if it hasnt pass more than 30 mins, we dont log anything basically\n        if (lastTimestampInMins < 1) return setting;\n\n    return true;\n}"]},"metadata":{},"sourceType":"module"}