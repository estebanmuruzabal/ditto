{"ast":null,"code":"var _jsxFileName = \"/Users/estebanmuruzabal/work/ditto/client/packages/shop/src/features/your-plants/your-plants.tsx\";\nvar __jsx = React.createElement;\nimport React, { useState, useContext } from 'react';\nimport Link from 'next/link';\nimport { Col } from 'react-styled-flexboxgrid';\nimport { useMutation, useQuery } from '@apollo/react-hooks';\nimport { HumiditySensorMode } from 'utils/constant';\nimport ErrorMessage from 'components/error-message/error-message';\nimport { Label } from 'components/forms/label';\nimport { OrderReceivedContainer, OrderDetails, BlockTitle, Text, ListItem, ListTitle, ListDes, ButtonText, Row, InputUpper, PlantPageWrapper } from './your-plants.style';\nimport { FormattedMessage } from 'react-intl';\nimport { GET_LOGGED_IN_USER } from 'graphql/query/customer.query';\nimport { OrderListWrapper } from 'features/your-plants/your-plants.style';\nimport { Button } from 'components/button/button';\nimport { ADD_PLANT, UPDATE_PLANT_SETTINGS } from 'graphql/query/plants.query';\nimport Select from 'react-select';\nimport { Input } from 'components/forms/input';\nimport { ProfileContext } from 'contexts/profile/profile.context';\nimport { SuccessMsg } from 'features/user-profile/settings/settings.style';\n\nconst YourPlants = ({\n  deviceType\n}) => {\n  const {\n    state,\n    dispatch\n  } = useContext(ProfileContext);\n  const {\n    data,\n    error,\n    loading\n  } = useQuery(GET_LOGGED_IN_USER); // const router = useRouter();\n  // const intl = useIntl();\n\n  const {\n    0: name,\n    1: setPlantName\n  } = useState('');\n  const {\n    0: controllerId,\n    1: setControllerID\n  } = useState('');\n  const {\n    0: userinfoMsg,\n    1: setUserinfoMsg\n  } = useState('');\n  const [addPlant] = useMutation(ADD_PLANT);\n  const [updatePlantSettings] = useMutation(UPDATE_PLANT_SETTINGS);\n  const {\n    plants\n  } = state;\n\n  if (loading) {\n    return __jsx(ErrorMessage, {\n      message: 'Cargando...',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 12\n      }\n    });\n  }\n\n  ;\n\n  if (error) {\n    return __jsx(ErrorMessage, {\n      message: error.message,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }\n    });\n  }\n\n  ;\n\n  const handleHumiditySettings1Change = (plant, field, value) => {\n    dispatch({\n      type: 'HANDLE_HUMIDITY_1_SETTINGS_CHANGE',\n      payload: {\n        plant,\n        value,\n        field\n      }\n    });\n    handleSettingsSaveClick(plant, field, value);\n    setUserinfoMsg('Update user info successfully');\n    setTimeout(function () {\n      setUserinfoMsg('');\n    }, 8000);\n  };\n\n  const handleHumiditySettings2Change = (plant, field, value) => {\n    dispatch({\n      type: 'HANDLE_HUMIDITY_2_SETTINGS_CHANGE',\n      payload: {\n        plant,\n        value,\n        field\n      }\n    });\n    handleSettingsSaveClick(plant, field, value);\n    setUserinfoMsg('Update user info successfully');\n    setTimeout(function () {\n      setUserinfoMsg('');\n    }, 8000);\n  };\n\n  const handleAddClick = () => {\n    var _data$getUser;\n\n    addPlant({\n      variables: {\n        id: data === null || data === void 0 ? void 0 : (_data$getUser = data.getUser) === null || _data$getUser === void 0 ? void 0 : _data$getUser.id,\n        name,\n        controllerId: Number(controllerId)\n      }\n    });\n  };\n\n  const handleSettingsSaveClick = (plant, fieldName, fieldValue) => {\n    var _data$getUser2;\n\n    console.log(plant, fieldName, fieldValue);\n    updatePlantSettings({\n      variables: {\n        id: data === null || data === void 0 ? void 0 : (_data$getUser2 = data.getUser) === null || _data$getUser2 === void 0 ? void 0 : _data$getUser2.id,\n        [fieldName]: fieldValue,\n        plant\n      }\n    });\n  };\n\n  const modeOptions = [{\n    value: HumiditySensorMode.SEEDS_POOL_IRRIGATION,\n    label: 'Semillero'\n  }, {\n    value: HumiditySensorMode.MANUAL,\n    label: 'Manual'\n  }, {\n    value: HumiditySensorMode.IRRIGATE_ON_DEMAND,\n    label: 'A demanda'\n  }, {\n    value: HumiditySensorMode.SCHEDULE,\n    label: 'Calendario'\n  }, {\n    value: HumiditySensorMode.NONE,\n    label: 'NONE'\n  }];\n  return __jsx(PlantPageWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 5\n    }\n  }, __jsx(OrderReceivedContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }\n  }, __jsx(Link, {\n    href: \"/profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }, __jsx(\"a\", {\n    className: \"home-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"backProfileBtn\",\n    defaultMessage: \"Back to Profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }))), __jsx(OrderDetails, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }, __jsx(BlockTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"yourPlants\",\n    defaultMessage: \"Your Plants\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  })), (plants === null || plants === void 0 ? void 0 : plants.length) < 1 && __jsx(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 36\n    }\n  }, \"No tienes plantas registradas\"), plants === null || plants === void 0 ? void 0 : plants.map((plant, i) => {\n    var _plant$soilHumiditySe2, _plant$soilHumiditySe3, _plant$soilHumiditySe4;\n\n    const selectValue = modeOptions.find(option => {\n      var _plant$soilHumiditySe;\n\n      return option.value === (plant === null || plant === void 0 ? void 0 : (_plant$soilHumiditySe = plant.soilHumiditySettings1) === null || _plant$soilHumiditySe === void 0 ? void 0 : _plant$soilHumiditySe.mode);\n    });\n    return __jsx(OrderListWrapper, {\n      key: i + '-orderList',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }\n    }, __jsx(ListItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 19\n      }\n    }, __jsx(ListTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 21\n      }\n    }, __jsx(Text, {\n      bold: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 23\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"plantName\",\n      defaultMessage: \"plantName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 25\n      }\n    }))), __jsx(ListDes, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    }, __jsx(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 23\n      }\n    }, plant === null || plant === void 0 ? void 0 : plant.name, \" \"))), __jsx(ListItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 21\n      }\n    }, __jsx(ListTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 23\n      }\n    }, __jsx(Text, {\n      bold: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 25\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"humedadSensor1Id\",\n      defaultMessage: \"humedadSensor1Id\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 27\n      }\n    }))), __jsx(ListDes, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 23\n      }\n    }, __jsx(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 25\n      }\n    }, plant === null || plant === void 0 ? void 0 : plant.soilHumidity1, \" \"))), __jsx(ListItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 21\n      }\n    }, __jsx(ListTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 23\n      }\n    }, __jsx(Text, {\n      bold: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 25\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"modoId\",\n      defaultMessage: \"modoId\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 27\n      }\n    }))), __jsx(ListDes, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 23\n      }\n    }, __jsx(Select, {\n      name: 'mode' // labelText={'labelText'}\n      ,\n      onChange: handleHumidityModeSettings1Change,\n      value: selectValue,\n      options: modeOptions,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 25\n      }\n    }))), (plant === null || plant === void 0 ? void 0 : (_plant$soilHumiditySe2 = plant.soilHumiditySettings1) === null || _plant$soilHumiditySe2 === void 0 ? void 0 : _plant$soilHumiditySe2.mode) !== HumiditySensorMode.NONE && __jsx(React.Fragment, null, __jsx(ListItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 23\n      }\n    }, __jsx(ListTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 25\n      }\n    }, __jsx(Text, {\n      bold: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 27\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"maxHumidityId\",\n      defaultMessage: \"maxHumidityId\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 29\n      }\n    }))), __jsx(ListDes, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 25\n      }\n    }, __jsx(Input, {\n      type: \"number\",\n      name: \"maxWarning\",\n      value: plant === null || plant === void 0 ? void 0 : plant.soilHumiditySettings1.maxWarning,\n      onChange: e => handleHumiditySettings1Change(plant, 'maxWarning', e.value),\n      backgroundColor: \"#F7F7F7\",\n      marginBottom: \"10px\" // intlInputLabelId=\"profileEmailField\"\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 27\n      }\n    }))), __jsx(ListItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 23\n      }\n    }, __jsx(ListTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 25\n      }\n    }, __jsx(Text, {\n      bold: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 27\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"minHumidityId\",\n      defaultMessage: \"minHumidityId\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 29\n      }\n    }))), __jsx(ListDes, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 25\n      }\n    }, __jsx(InputUpper, {\n      type: \"number\",\n      name: \"minWarning\",\n      value: plant === null || plant === void 0 ? void 0 : (_plant$soilHumiditySe3 = plant.soilHumiditySettings1) === null || _plant$soilHumiditySe3 === void 0 ? void 0 : _plant$soilHumiditySe3.minWarning,\n      onChange: e => handleHumiditySettings1Change(plant, 'minWarning', e.value),\n      backgroundColor: \"#F7F7F7\",\n      height: \"48px\",\n      marginBottom: \"10px\" // intlInputLabelId=\"profileNameField\"\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 27\n      }\n    })))), __jsx(OrderListWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 19\n      }\n    }, __jsx(ListItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 21\n      }\n    }, __jsx(ListTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 23\n      }\n    }, __jsx(Text, {\n      bold: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 25\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"humedadSensor2Id\",\n      defaultMessage: \"humedadSensor2Id\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 27\n      }\n    }))), __jsx(ListDes, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 23\n      }\n    }, __jsx(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 25\n      }\n    }, plant === null || plant === void 0 ? void 0 : plant.soilHumidity2, \" \"))), __jsx(ListItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 21\n      }\n    }, __jsx(ListTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 23\n      }\n    }, __jsx(Text, {\n      bold: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 25\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"modoId\",\n      defaultMessage: \"modoId\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 27\n      }\n    }))), __jsx(ListDes, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 23\n      }\n    }, __jsx(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 25\n      }\n    }, plant === null || plant === void 0 ? void 0 : (_plant$soilHumiditySe4 = plant.soilHumiditySettings2) === null || _plant$soilHumiditySe4 === void 0 ? void 0 : _plant$soilHumiditySe4.mode, \" \")))), __jsx(OrderListWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 19\n      }\n    }, __jsx(ListItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 21\n      }\n    }, __jsx(ListTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 23\n      }\n    }, __jsx(Text, {\n      bold: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 25\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"tempSensorId\",\n      defaultMessage: \"tempSensorId\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 27\n      }\n    }))), __jsx(ListDes, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 23\n      }\n    }, __jsx(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 25\n      }\n    }, plant === null || plant === void 0 ? void 0 : plant.tempeture, \" \")))), __jsx(OrderListWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 19\n      }\n    }, __jsx(ListItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 21\n      }\n    }, __jsx(ListTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 23\n      }\n    }, __jsx(Text, {\n      bold: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 25\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"humedadSensorId\",\n      defaultMessage: \"humedadSensorId\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 27\n      }\n    }))), __jsx(ListDes, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 23\n      }\n    }, __jsx(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 25\n      }\n    }, plant === null || plant === void 0 ? void 0 : plant.airHumidity, \" \")))));\n  }), __jsx(Col, {\n    xs: 12,\n    sm: 2,\n    md: 2,\n    lg: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 11\n    }\n  }, __jsx(Button, {\n    size: \"big\",\n    style: {\n      width: '100%',\n      marginBottom: '10px'\n    },\n    onClick: handleSettingsSaveClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 13\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"profileSaveBtn\",\n    defaultMessage: \"Save\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 15\n    }\n  }))), userinfoMsg && __jsx(SuccessMsg, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 15\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"userInfoSuccess\",\n    defaultMessage: userinfoMsg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 17\n    }\n  })), __jsx(BlockTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 11\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"addController\",\n    defaultMessage: \"Your Plants\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 13\n    }\n  })), __jsx(Row, {\n    style: {\n      alignItems: 'flex-end',\n      marginBottom: '50px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 11\n    }\n  }, __jsx(Col, {\n    xs: 12,\n    sm: 5,\n    md: 5,\n    lg: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 13\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 15\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"plantNameField\",\n    defaultMessage: \"Name of the plant\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 17\n    }\n  })), __jsx(InputUpper, {\n    type: \"text\",\n    label: \"Name\",\n    name: \"name\",\n    value: name,\n    onChange: e => setPlantName(e.target.value),\n    backgroundColor: \"#F7F7F7\",\n    height: \"48px\",\n    marginBottom: \"10px\" // intlInputLabelId=\"profileNameField\"\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 15\n    }\n  })), __jsx(Col, {\n    xs: 12,\n    sm: 5,\n    md: 5,\n    lg: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 14\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 15\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"controllerIdField\",\n    defaultMessage: \"ID of the controller\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 17\n    }\n  })), __jsx(InputUpper, {\n    type: \"number\",\n    label: \"Controller ID\",\n    name: \"controllerId\",\n    value: controllerId,\n    onChange: e => setControllerID(e.target.value),\n    backgroundColor: \"#F7F7F7\",\n    height: \"48px\",\n    marginBottom: \"10px\" // intlInputLabelId=\"profileNameField\"\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 15\n    }\n  }))), __jsx(Button, {\n    className: \"cart-button\",\n    variant: \"secondary\",\n    borderRadius: 100,\n    onClick: handleAddClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 11\n    }\n  }, __jsx(ButtonText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 13\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"addPlantButton\",\n    defaultMessage: \"Add plant\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 15\n    }\n  }))))));\n};\n\nexport default YourPlants;","map":{"version":3,"sources":["/Users/estebanmuruzabal/work/ditto/client/packages/shop/src/features/your-plants/your-plants.tsx"],"names":["React","useState","useContext","Link","Col","useMutation","useQuery","HumiditySensorMode","ErrorMessage","Label","OrderReceivedContainer","OrderDetails","BlockTitle","Text","ListItem","ListTitle","ListDes","ButtonText","Row","InputUpper","PlantPageWrapper","FormattedMessage","GET_LOGGED_IN_USER","OrderListWrapper","Button","ADD_PLANT","UPDATE_PLANT_SETTINGS","Select","Input","ProfileContext","SuccessMsg","YourPlants","deviceType","state","dispatch","data","error","loading","name","setPlantName","controllerId","setControllerID","userinfoMsg","setUserinfoMsg","addPlant","updatePlantSettings","plants","message","handleHumiditySettings1Change","plant","field","value","type","payload","handleSettingsSaveClick","setTimeout","handleHumiditySettings2Change","handleAddClick","variables","id","getUser","Number","fieldName","fieldValue","console","log","modeOptions","SEEDS_POOL_IRRIGATION","label","MANUAL","IRRIGATE_ON_DEMAND","SCHEDULE","NONE","length","map","i","selectValue","find","option","soilHumiditySettings1","mode","soilHumidity1","handleHumidityModeSettings1Change","maxWarning","e","minWarning","soilHumidity2","soilHumiditySettings2","tempeture","airHumidity","width","marginBottom","alignItems","target"],"mappings":"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","sourcesContent":["import React,  { useState, useEffect, useContext } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router'\nimport { Col } from 'react-styled-flexboxgrid';\nimport moment from 'moment';\nimport { useMutation, useQuery } from '@apollo/react-hooks';\nimport { GET_ORDERS } from 'graphql/query/order.query';\nimport { CURRENCY, HumiditySensorMode } from 'utils/constant';\nimport ErrorMessage from 'components/error-message/error-message';\nimport { Modal } from '@redq/reuse-modal';\nimport { Label } from 'components/forms/label';\n  \nimport OrderReceivedWrapper, {\n  OrderReceivedContainer,\n  OrderInfo,\n  OrderDetails,\n  TotalAmount,\n  BlockTitle,\n  Text,\n  InfoBlockWrapper,\n  InfoBlock,\n  ListItem,\n  ListTitle,\n  ListDes,\n  ButtonText,\n  Row,\n  InputUpper,\n  PlantPageWrapper\n} from './your-plants.style';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { GET_LOGGED_IN_USER } from 'graphql/query/customer.query';\nimport { OrderListWrapper } from 'features/your-plants/your-plants.style';\nimport ErrorMessageTwo from 'components/error-message/error-message-two';\nimport { Button } from 'components/button/button';\nimport { ADD_PLANT, UPDATE_PLANT_SETTINGS } from 'graphql/query/plants.query';\nimport Select from 'react-select';\nimport { Input } from 'components/forms/input';\nimport { ProfileContext } from 'contexts/profile/profile.context';\nimport { SuccessMsg } from 'features/user-profile/settings/settings.style';\n  \n\ntype YourPlantsProps = {\n  data?: any;\n  index?: Number;\n  Router?: any;\n  deviceType?: {\n    mobile: boolean;\n    tablet: boolean;\n    desktop: boolean;\n  };\n};\n\nconst YourPlants: React.FC<YourPlantsProps> = ({ deviceType }) => {\n  const { state, dispatch } = useContext(ProfileContext);\n  const { data, error, loading } = useQuery(GET_LOGGED_IN_USER);\n  // const router = useRouter();\n  // const intl = useIntl();\n  const [name, setPlantName] = useState('');\n  const [controllerId, setControllerID] = useState('');\n  const [userinfoMsg, setUserinfoMsg] = useState('');\n  const [addPlant] = useMutation(ADD_PLANT);\n  const [updatePlantSettings] = useMutation(UPDATE_PLANT_SETTINGS);\n  const { plants } = state;\n\n  if (loading) {\n    return <ErrorMessage message={'Cargando...'} />\n  };\n\n  if (error) {\n    return (\n      <ErrorMessage message={error.message} />\n    );\n  };\n\n  const handleHumiditySettings1Change = (plant: any, field: string, value: string) => {\n    dispatch({\n      type: 'HANDLE_HUMIDITY_1_SETTINGS_CHANGE',\n      payload: { plant, value, field },\n    });\n\n    handleSettingsSaveClick(plant, field, value);\n\n    setUserinfoMsg('Update user info successfully');\n    setTimeout(function () {\n      setUserinfoMsg('');\n    }, 8000)\n  };\n\n  const handleHumiditySettings2Change = (plant: any, field: string, value: string) => {\n    dispatch({\n      type: 'HANDLE_HUMIDITY_2_SETTINGS_CHANGE',\n      payload: { plant, value, field },\n    });\n\n    handleSettingsSaveClick(plant, field, value);\n\n    setUserinfoMsg('Update user info successfully');\n    setTimeout(function () {\n      setUserinfoMsg('');\n    }, 8000)\n  };\n  \n  const handleAddClick = () => {\n    addPlant({\n      variables: {\n        id: data?.getUser?.id,\n        name,\n        controllerId: Number(controllerId)\n      },\n    });\n  };\n\n    \n  const handleSettingsSaveClick = (plant: any, fieldName: string, fieldValue: string) => {\n    console.log(plant, fieldName, fieldValue);\n    updatePlantSettings({\n      variables: {\n        id: data?.getUser?.id,\n        [fieldName]: fieldValue,\n        plant\n      },\n    });\n  };\n\n  const modeOptions = [\n    { value: HumiditySensorMode.SEEDS_POOL_IRRIGATION, label: 'Semillero' },\n    { value: HumiditySensorMode.MANUAL, label: 'Manual' },\n    { value: HumiditySensorMode.IRRIGATE_ON_DEMAND, label: 'A demanda' },\n    { value: HumiditySensorMode.SCHEDULE, label: 'Calendario' },\n    { value: HumiditySensorMode.NONE, label: 'NONE' }\n  ]\n  return (\n    <PlantPageWrapper>\n      <OrderReceivedContainer>\n        <Link href=\"/profile\">\n          <a className=\"home-btn\">\n            <FormattedMessage id=\"backProfileBtn\" defaultMessage=\"Back to Profile\" />\n          </a>\n        </Link>\n\n        <OrderDetails>\n          <BlockTitle>\n            <FormattedMessage\n              id=\"yourPlants\"\n              defaultMessage=\"Your Plants\"\n            />\n          </BlockTitle>\n\n          { plants?.length < 1 && (<Text>No tienes plantas registradas</Text>) }\n          { plants?.map((plant, i: number) => {\n            const selectValue = modeOptions.find((option) => option.value === plant?.soilHumiditySettings1?.mode);\n              return (\n                <OrderListWrapper key={i + '-orderList'}>\n                  <ListItem>\n                    <ListTitle>\n                      <Text bold>\n                        <FormattedMessage\n                          id=\"plantName\"\n                          defaultMessage=\"plantName\"\n                        />\n                      </Text>\n                    </ListTitle>\n                    <ListDes>\n                      <Text>{plant?.name} </Text>\n                    </ListDes>\n                  </ListItem>\n                \n\n                    <ListItem>\n                      <ListTitle>\n                        <Text bold>\n                          <FormattedMessage\n                            id=\"humedadSensor1Id\"\n                            defaultMessage=\"humedadSensor1Id\"\n                          />\n                        </Text>\n                      </ListTitle>\n                      <ListDes>\n                        <Text>{plant?.soilHumidity1} </Text>\n                      </ListDes>\n                    </ListItem>\n                    <ListItem>\n                      <ListTitle>\n                        <Text bold>\n                          <FormattedMessage\n                            id=\"modoId\"\n                            defaultMessage=\"modoId\"\n                          />\n                        </Text>\n                      </ListTitle>\n                      <ListDes>\n                        <Select \n                          name={'mode'}\n                          // labelText={'labelText'}\n                          onChange={handleHumidityModeSettings1Change}\n                          value={selectValue}\n                          options={modeOptions}\n                        />\n                      </ListDes>\n                    </ListItem>\n                  \n                  { plant?.soilHumiditySettings1?.mode !== HumiditySensorMode.NONE && (\n                    <>\n                      <ListItem>\n                        <ListTitle>\n                          <Text bold>\n                            <FormattedMessage\n                              id='maxHumidityId'\n                              defaultMessage='maxHumidityId'\n                            />\n                          </Text>\n                        </ListTitle>\n                        <ListDes>\n                          <Input\n                            type='number'\n                            name='maxWarning'\n                            value={plant?.soilHumiditySettings1.maxWarning}\n                            onChange={(e: any) => handleHumiditySettings1Change(plant, 'maxWarning', e.value)}\n                            backgroundColor='#F7F7F7'\n                            marginBottom='10px'\n                            // intlInputLabelId=\"profileEmailField\"\n                          />\n                        </ListDes>\n                      </ListItem>\n\n                      <ListItem>\n                        <ListTitle>\n                          <Text bold>\n                            <FormattedMessage\n                               id='minHumidityId'\n                               defaultMessage='minHumidityId'\n                            />\n                          </Text>\n                        </ListTitle>\n                        <ListDes>\n                          <InputUpper\n                            type='number'\n                            name='minWarning'\n                            value={plant?.soilHumiditySettings1?.minWarning}\n                            onChange={(e: any) => handleHumiditySettings1Change(plant, 'minWarning', e.value)}\n                            backgroundColor='#F7F7F7'\n                            height='48px'\n                            marginBottom='10px'\n                            // intlInputLabelId=\"profileNameField\"\n                          />\n                        </ListDes>\n                      </ListItem>\n    \n                    </>\n                  )}\n                  \n                  <OrderListWrapper>\n                    <ListItem>\n                      <ListTitle>\n                        <Text bold>\n                          <FormattedMessage\n                            id=\"humedadSensor2Id\"\n                            defaultMessage=\"humedadSensor2Id\"\n                          />\n                        </Text>\n                      </ListTitle>\n                      <ListDes>\n                        <Text>{plant?.soilHumidity2} </Text>\n                      </ListDes>\n                    </ListItem>\n                    <ListItem>\n                      <ListTitle>\n                        <Text bold>\n                          <FormattedMessage\n                            id=\"modoId\"\n                            defaultMessage=\"modoId\"\n                          />\n                        </Text>\n                      </ListTitle>\n                      <ListDes>\n                        <Text>{plant?.soilHumiditySettings2?.mode} </Text>\n                      </ListDes>\n                    </ListItem>\n                  </OrderListWrapper>\n\n                  <OrderListWrapper>\n                    <ListItem>\n                      <ListTitle>\n                        <Text bold>\n                          <FormattedMessage\n                            id=\"tempSensorId\"\n                            defaultMessage=\"tempSensorId\"\n                          />\n                        </Text>\n                      </ListTitle>\n                      <ListDes>\n                        <Text>{plant?.tempeture} </Text>\n                      </ListDes>\n                    </ListItem>\n                  </OrderListWrapper>\n\n                  <OrderListWrapper>\n                    <ListItem>\n                      <ListTitle>\n                        <Text bold>\n                          <FormattedMessage\n                            id=\"humedadSensorId\"\n                            defaultMessage=\"humedadSensorId\"\n                          />\n                        </Text>\n                      </ListTitle>\n                      <ListDes>\n                        <Text>{plant?.airHumidity} </Text>\n                      </ListDes>\n                    </ListItem>\n                  </OrderListWrapper>\n\n                </OrderListWrapper>\n              )\n            })\n          }\n\n          <Col xs={12} sm={2} md={2} lg={2}>\n            <Button size='big' style={{ width: '100%', marginBottom: '10px' }} onClick={handleSettingsSaveClick}>\n              <FormattedMessage id='profileSaveBtn' defaultMessage='Save' />\n            </Button>\n          </Col>\n          {userinfoMsg && (\n              <SuccessMsg>\n                <FormattedMessage\n                  id='userInfoSuccess'\n                  defaultMessage={userinfoMsg}\n                />\n              </SuccessMsg>\n          )}\n\n          <BlockTitle>\n            <FormattedMessage\n              id=\"addController\"\n              defaultMessage=\"Your Plants\"\n            />\n          </BlockTitle>\n          <Row style={{ alignItems: 'flex-end', marginBottom: '50px' }}>\n            <Col xs={12} sm={5} md={5} lg={5}>\n              <Label>\n                <FormattedMessage\n                  id='plantNameField'\n                  defaultMessage='Name of the plant'\n                />\n              </Label>\n              <InputUpper\n                type='text'\n                label='Name'\n                name='name'\n                value={name}\n                onChange={(e) => setPlantName(e.target.value)}\n                backgroundColor='#F7F7F7'\n                height='48px'\n                marginBottom='10px'\n                // intlInputLabelId=\"profileNameField\"\n              />\n            </Col>\n\n             <Col xs={12} sm={5} md={5} lg={5}>\n              <Label>\n                <FormattedMessage\n                  id='controllerIdField'\n                  defaultMessage='ID of the controller'\n                />\n              </Label>\n              <InputUpper\n                type='number'\n                label='Controller ID'\n                name='controllerId'\n                value={controllerId}\n                onChange={(e) => setControllerID(e.target.value)}\n                backgroundColor='#F7F7F7'\n                height='48px'\n                marginBottom='10px'\n                // intlInputLabelId=\"profileNameField\"\n              />\n            </Col>\n          </Row>\n\n          <Button className=\"cart-button\" variant=\"secondary\" borderRadius={100} onClick={handleAddClick}>\n            <ButtonText>\n              <FormattedMessage id={\"addPlantButton\"} defaultMessage=\"Add plant\" />\n            </ButtonText>\n          </Button>\n        </OrderDetails>\n      </OrderReceivedContainer>\n    </PlantPageWrapper>\n  );\n};\n\nexport default YourPlants;\n"]},"metadata":{},"sourceType":"module"}