{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/virginiamuruzabal/work/ditto/client/packages/shop/src/features/checkouts/checkout-two/checkout-two.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useContext, useState, useEffect } from 'react';\nimport Router from 'next/router';\nimport Link from 'next/link';\nimport { Button } from 'components/button/button';\nimport RadioCard from 'components/radio-card/radio-card';\nimport RadioGroupTwo from 'components/radio-group/radio-group-two';\nimport RadioGroupThree from 'components/radio-group/radio-group-three';\nimport RadioCardTWO from 'components/radio-card/radio-card-two';\nimport PaymentGroup from 'components/payment-group/payment-group';\nimport UpdateContact from 'components/contact-card/contact-card';\nimport { DELETE_ADDRESS, SETPRIMARY_ADDRESS } from 'graphql/mutation/address';\nimport { DELETE_PHONENUMBER, SETPRIMARY_PHONENUMBER } from 'graphql/mutation/phone';\nimport { CREAT_ORDER } from 'graphql/mutation/order';\nimport { GET_COUPON } from 'graphql/query/coupon';\nimport { DELETE_CARD } from 'graphql/mutation/card';\nimport { DELETE_CONTACT } from 'graphql/mutation/contact';\nimport { CURRENCY, DeliveryMethodsConstants } from 'utils/constant';\nimport { openModal } from '@redq/reuse-modal';\nimport { useMutation } from '@apollo/react-hooks';\nimport { Scrollbars } from 'react-custom-scrollbars';\nimport CheckoutWrapper, { CheckoutContainer, CheckoutInformation, InformationBox, DeliverySchedule, Heading, ButtonGroup, CheckoutSubmit, ErrorMsg, TermConditionText, TermConditionLink, CartWrapper, CalculationWrapper, OrderInfo, Title, ItemsWrapper, Items, Quantity, ItemInfo, Price, TextWrapper, Text, Bold, NoProductMsg, NoProductImg, IconWrapper, DeliveryTypesOptions } from './checkout-two.style';\nimport { Plus } from 'assets/icons/PlusMinus';\nimport { NoCartBag } from 'assets/icons/NoCartBag';\nimport Sticky from 'react-stickynode';\nimport { ProfileContext } from 'contexts/profile/profile.context';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { useCart } from 'contexts/cart/use-cart';\nimport { useLocale } from 'contexts/language/language.provider';\nimport { useWindowSize } from 'utils/useWindowSize';\nimport UpdateAddressTwo from 'components/address-card/address-card-two';\nimport moment from 'moment';\nimport { calculateDeliveryCharge, capitalizeFirstLetter } from 'utils/shop-helper';\nimport DeliverySelection from 'features/checkouts/checkout-two-sections/delivery-selection';\n\nvar OrderItem = function OrderItem(_ref) {\n  _s();\n\n  var product = _ref.product;\n  var name = product.name,\n      images = product.images,\n      price = product.price,\n      salePrice = product.salePrice,\n      unit = product.unit,\n      _product$quantity = product.quantity,\n      quantity = _product$quantity === void 0 ? 0 : _product$quantity,\n      _product$recicledQuan = product.recicledQuantity,\n      recicledQuantity = _product$recicledQuan === void 0 ? 0 : _product$recicledQuan,\n      packagePrice = product.packagePrice,\n      id = product.id;\n  var recicledPrice = price - packagePrice;\n  var totalQuantity = quantity + recicledQuantity;\n  var displayPrice = salePrice || price;\n  var nonRecicledTotalPrice = displayPrice * quantity;\n  var recicledTotalPrice = recicledPrice * recicledQuantity;\n  var totalPrice = nonRecicledTotalPrice + recicledTotalPrice;\n  var intl = useIntl();\n  return __jsx(Items, {\n    key: id,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }\n  }, __jsx(ItemInfo, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, recicledQuantity > 0 && __jsx(React.Fragment, null, __jsx(Quantity, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, name), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }), recicledQuantity, \" X \", CURRENCY, recicledPrice, __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  })), quantity > 0 && __jsx(React.Fragment, null, __jsx(Quantity, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, name), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }), quantity, \" X \", CURRENCY, price)), __jsx(Price, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, CURRENCY, totalPrice.toFixed(2)));\n};\n\n_s(OrderItem, \"rlSgSjbewJ1PrR/Ile8g/kr050o=\", false, function () {\n  return [useIntl];\n});\n\n_c = OrderItem;\n\nvar CheckoutWithSidebar = function CheckoutWithSidebar(_ref2) {\n  _s2();\n\n  var _deliveryMethods$find, _calculateCCCharge;\n\n  var token = _ref2.token,\n      deviceType = _ref2.deviceType;\n\n  var _useState = useState(false),\n      hasCoupon = _useState[0],\n      setHasCoupon = _useState[1];\n\n  var _useState2 = useState(''),\n      couponCode = _useState2[0],\n      setCouponCode = _useState2[1];\n\n  var _useState3 = useState(''),\n      couponError = _useState3[0],\n      setError = _useState3[1];\n\n  var _useState4 = useState(''),\n      orderError = _useState4[0],\n      setOrderError = _useState4[1];\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      deliveryMethodTypeSelected = _React$useState2[0],\n      setDeliveryMethodType = _React$useState2[1];\n\n  var _useState5 = useState(''),\n      checkoutError = _useState5[0],\n      setCheckoutError = _useState5[1];\n\n  var _useContext = useContext(ProfileContext),\n      state = _useContext.state,\n      dispatch = _useContext.dispatch;\n\n  var _useLocale = useLocale(),\n      isRtl = _useLocale.isRtl;\n\n  var _useCart = useCart(),\n      items = _useCart.items,\n      removeCoupon = _useCart.removeCoupon,\n      coupon = _useCart.coupon,\n      applyCoupon = _useCart.applyCoupon,\n      clearCart = _useCart.clearCart,\n      cartItemsCount = _useCart.cartItemsCount,\n      calculatePrice = _useCart.calculatePrice,\n      calculateDiscount = _useCart.calculateDiscount,\n      calculateSubTotalPrice = _useCart.calculateSubTotalPrice,\n      isRestaurant = _useCart.isRestaurant,\n      toggleRestaurant = _useCart.toggleRestaurant;\n\n  var intl = useIntl();\n  var cartProduct = null;\n\n  if (items.length > 0) {\n    cartProduct = items.map(function (item, index) {\n      return {\n        product_id: item.id,\n        unit: item.unit,\n        quantity: Number(item.quantity) || 0,\n        recicledQuantity: Number(item.recicledQuantity) || 0,\n        sale_price: item.sale_price,\n        // price: (Number(item.quantity || 0) * item.price) + (Number(item.recicledQuantity || 0) * (item.price - (item.packagePrice || 0))),\n        price: item.price,\n        image: item.images[0],\n        name: item.name\n      };\n    });\n  }\n\n  var _useState6 = useState(false),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var _useState7 = useState(false),\n      isValid = _useState7[0],\n      setIsValid = _useState7[1];\n\n  var _useState8 = useState({\n    contact_number: '',\n    payment_option_id: '',\n    payment_option_type: '',\n    delivery_method_id: '',\n    delivery_schedule: '',\n    coupon_code: '',\n    delivery_address: null,\n    products: null\n  }),\n      submitResult = _useState8[0],\n      setSubmitResult = _useState8[1];\n\n  var user_delivery_addresses = state.delivery_address,\n      contact = state.contact,\n      paymentMethods = state.paymentMethods,\n      phones = state.phones,\n      name = state.name,\n      email = state.email,\n      id = state.id,\n      deliveryMethods = state.deliveryMethods; //set mututions\n\n  var _useMutation = useMutation(SETPRIMARY_ADDRESS),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      setprimaryAddressMutation = _useMutation2[0];\n\n  var _useMutation3 = useMutation(DELETE_ADDRESS),\n      _useMutation4 = _slicedToArray(_useMutation3, 1),\n      deleteAddressMutation = _useMutation4[0];\n\n  var _useMutation5 = useMutation(SETPRIMARY_PHONENUMBER),\n      _useMutation6 = _slicedToArray(_useMutation5, 1),\n      setprimaryPhoneNumberMutation = _useMutation6[0];\n\n  var _useMutation7 = useMutation(DELETE_PHONENUMBER),\n      _useMutation8 = _slicedToArray(_useMutation7, 1),\n      deletePhoneNumberMutation = _useMutation8[0];\n\n  var _useMutation9 = useMutation(CREAT_ORDER),\n      _useMutation10 = _slicedToArray(_useMutation9, 1),\n      setOrderMutation = _useMutation10[0];\n\n  var _useMutation11 = useMutation(DELETE_CONTACT),\n      _useMutation12 = _slicedToArray(_useMutation11, 1),\n      deleteContactMutation = _useMutation12[0];\n\n  var _useMutation13 = useMutation(DELETE_CARD),\n      _useMutation14 = _slicedToArray(_useMutation13, 1),\n      deletePaymentCardMutation = _useMutation14[0];\n\n  var size = useWindowSize();\n\n  var _React$useState3 = React.useState(),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      deliveryMethodSelected = _React$useState4[0],\n      setDeliveryMethodsSelected = _React$useState4[1]; // useEffect(() => {\n  //   if (getCookie(deliveryMethodCookieKeyName) && !deliveryMethodSelected) {\n  //     const deliveryMethodSelected: any = JSON.parse(getCookie(deliveryMethodCookieKeyName));\n  //     setDeliveryMethodsSelected(deliveryMethodSelected)\n  //     console.log('seyed: deliveryMethodSelected', deliveryMethodSelected)\n  //     setSubmitResult({\n  //       ...submitResult,\n  //       delivery_method_id: deliveryMethodSelected?.id || '', \n  //     })\n  //   }\n  // }, [deliveryMethodSelected]);\n\n\n  var resetDeliveryMethodAndDeleteSavedCookie = function resetDeliveryMethodAndDeleteSavedCookie() {\n    setDeliveryMethodsSelected(null); // setCookie(deliveryMethodCookieKeyName, null);\n  };\n\n  var setDeliverySchedule = function setDeliverySchedule(scheduleSelected) {\n    var _scheduleSelected$det, _scheduleSelected$det2, _scheduleSelected$det3;\n\n    // const delivery_date_text = ;\n    // const deliveryDateAndTime = `${getDeliverySchedule(deliveryMethodSelected?.details)} - ${moment(deliveryDate).format('DD MMM')}`;\n    // setCookie(deliveryMethodCookieKeyName, methodSelected);\n    setSubmitResult(_objectSpread(_objectSpread({}, submitResult), {}, {\n      delivery_schedule: (scheduleSelected === null || scheduleSelected === void 0 ? void 0 : scheduleSelected.isPickUp) ? scheduleSelected === null || scheduleSelected === void 0 ? void 0 : (_scheduleSelected$det = scheduleSelected.details.split(\"|\")[1]) === null || _scheduleSelected$det === void 0 ? void 0 : _scheduleSelected$det.trim() : \"\".concat(scheduleSelected === null || scheduleSelected === void 0 ? void 0 : (_scheduleSelected$det2 = scheduleSelected.details.split(\"|\")[0]) === null || _scheduleSelected$det2 === void 0 ? void 0 : _scheduleSelected$det2.trim(), \" \").concat(scheduleSelected === null || scheduleSelected === void 0 ? void 0 : (_scheduleSelected$det3 = scheduleSelected.details.split(\"|\")[1]) === null || _scheduleSelected$det3 === void 0 ? void 0 : _scheduleSelected$det3.trim())\n    }));\n  };\n\n  var setDeliveryMethod = function setDeliveryMethod(methodSelected, addressAlreadyAddedSelected) {\n    var _methodSelected$deliv;\n\n    setDeliveryMethodsSelected(methodSelected);\n    setSubmitResult(_objectSpread(_objectSpread({}, submitResult), {}, {\n      delivery_method_id: methodSelected.id,\n      delivery_address: (_methodSelected$deliv = methodSelected.deliveryAddress) === null || _methodSelected$deliv === void 0 ? void 0 : _methodSelected$deliv.split(\",\")[0]\n    }));\n\n    if (!methodSelected.isPickUp && !addressAlreadyAddedSelected) {\n      var _methodSelected$deliv2, _methodSelected$deliv3;\n\n      handleModal(UpdateAddressTwo, {\n        item: {\n          address: (_methodSelected$deliv2 = methodSelected.deliveryAddress) === null || _methodSelected$deliv2 === void 0 ? void 0 : _methodSelected$deliv2.split(\",\")[0],\n          location: (_methodSelected$deliv3 = methodSelected.deliveryAddress) === null || _methodSelected$deliv3 === void 0 ? void 0 : _methodSelected$deliv3.split(\",\")[1]\n        },\n        id: id\n      }, 'add-address-modal');\n    } // handleEditDelete(addressValue, null, 'edit', 'address');\n\n  };\n\n  var _useMutation15 = useMutation(GET_COUPON),\n      _useMutation16 = _slicedToArray(_useMutation15, 1),\n      appliedCoupon = _useMutation16[0];\n\n  var deliveryCharge = 0;\n  var selectedAddress = user_delivery_addresses && user_delivery_addresses.find(function (item) {\n    return item.is_primary === true;\n  });\n  var selectedContact = phones.find(function (item) {\n    return item.is_primary === true;\n  });\n  var pickUpAddress = (_deliveryMethods$find = deliveryMethods.find(function (deliveryMethod) {\n    return submitResult.delivery_method_id === deliveryMethod.id;\n  })) === null || _deliveryMethods$find === void 0 ? void 0 : _deliveryMethods$find.pickUpAddress;\n\n  var calculateCCCharge = function calculateCCCharge() {\n    var _paymentOptionSelecte, _paymentOptionSelecte2;\n\n    var paymentOptionSelected = paymentMethods.find(function (paymentMethod) {\n      return (submitResult === null || submitResult === void 0 ? void 0 : submitResult.payment_option_id) === (paymentMethod === null || paymentMethod === void 0 ? void 0 : paymentMethod.id);\n    });\n    var total = Number(calculateSubTotalPrice());\n\n    if ((paymentOptionSelected === null || paymentOptionSelected === void 0 ? void 0 : (_paymentOptionSelecte = paymentOptionSelected.name) === null || _paymentOptionSelecte === void 0 ? void 0 : _paymentOptionSelecte.toLowerCase().includes('tarjeta')) || (paymentOptionSelected === null || paymentOptionSelected === void 0 ? void 0 : (_paymentOptionSelecte2 = paymentOptionSelected.name) === null || _paymentOptionSelecte2 === void 0 ? void 0 : _paymentOptionSelecte2.toLowerCase().includes('card'))) {\n      var _paymentOptionSelecte3;\n\n      var ccCharge = paymentOptionSelected === null || paymentOptionSelected === void 0 ? void 0 : (_paymentOptionSelecte3 = paymentOptionSelected.name) === null || _paymentOptionSelecte3 === void 0 ? void 0 : _paymentOptionSelecte3.replace(/\\D/g, '');\n      var result = total * (ccCharge / 100);\n      return result;\n    }\n\n    return 0;\n  };\n\n  var calculateIfCashDiscount = function calculateIfCashDiscount() {\n    var _paymentOptionSelecte4;\n\n    var paymentOptionSelected = paymentMethods.find(function (paymentMethod) {\n      return (submitResult === null || submitResult === void 0 ? void 0 : submitResult.payment_option_id) === (paymentMethod === null || paymentMethod === void 0 ? void 0 : paymentMethod.id);\n    });\n    var total = Number(calculateSubTotalPrice());\n\n    if (paymentOptionSelected === null || paymentOptionSelected === void 0 ? void 0 : (_paymentOptionSelecte4 = paymentOptionSelected.name) === null || _paymentOptionSelecte4 === void 0 ? void 0 : _paymentOptionSelecte4.toLowerCase().includes('efectivo')) {\n      var cashDiscount = 5;\n      var result = total * (cashDiscount / 100);\n      return result;\n    }\n\n    return 0;\n  };\n\n  var selectedAddressText = (selectedAddress === null || selectedAddress === void 0 ? void 0 : selectedAddress.address) ? \"\".concat(selectedAddress && capitalizeFirstLetter(selectedAddress.title), \" - \").concat(selectedAddress && capitalizeFirstLetter(selectedAddress.address), \", \").concat(selectedAddress && selectedAddress.instructions) : null;\n  useEffect(function () {\n    removeCoupon();\n    setHasCoupon(false);\n    deliveryCharge = calculateDeliveryCharge(deliveryMethodSelected === null || deliveryMethodSelected === void 0 ? void 0 : deliveryMethodSelected.name);\n    var deliveryAddress = pickUpOptionSelected ? pickUpAddress : selectedAddressText; // console.log('here',deliveryMethodSelected?.deliveryAddress)\n\n    setSubmitResult(_objectSpread(_objectSpread({}, submitResult), {}, {\n      delivery_address: deliveryMethodSelected === null || deliveryMethodSelected === void 0 ? void 0 : deliveryMethodSelected.deliveryAddress,\n      // delivery_method_id: deliveryMethodSelected?.id,\n      products: cartProduct,\n      contact_number: selectedContact.number\n    }));\n\n    if (calculatePrice() > 0 && cartItemsCount > 0 && ((submitResult === null || submitResult === void 0 ? void 0 : submitResult.delivery_method_id) || pickUpAddress) && phones.length && deliveryMethods.length) {\n      setIsValid(true);\n    }\n  }, [state, deliveryMethodSelected]); // Add or edit modal\n\n  var handleModal = function handleModal(modalComponent) {\n    var modalProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var className = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'add-address-modal';\n    openModal({\n      show: true,\n      config: {\n        width: 360,\n        height: 'auto',\n        enableResizing: false,\n        disableDragging: true,\n        className: className\n      },\n      closeOnClickOutside: true,\n      component: modalComponent,\n      componentProps: {\n        item: modalProps\n      }\n    });\n  };\n\n  var handleEditDelete = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(item, index, type, name) {\n      var modalComponent;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(type === 'edit')) {\n                _context.next = 5;\n                break;\n              }\n\n              modalComponent = name === 'address' ? UpdateAddressTwo : UpdateContact;\n              handleModal(modalComponent, {\n                item: item,\n                id: id\n              });\n              _context.next = 25;\n              break;\n\n            case 5:\n              _context.t0 = name;\n              _context.next = _context.t0 === 'contact' ? 8 : _context.t0 === 'address' ? 16 : 24;\n              break;\n\n            case 8:\n              if (!(phones.length > 1)) {\n                _context.next = 15;\n                break;\n              }\n\n              dispatch({\n                type: 'DELETE_CONTACT',\n                payload: item.id\n              });\n              _context.next = 12;\n              return deletePhoneNumberMutation({\n                variables: {\n                  id: id,\n                  phoneId: item.id\n                }\n              });\n\n            case 12:\n              return _context.abrupt(\"return\", _context.sent);\n\n            case 15:\n              return _context.abrupt(\"return\", null);\n\n            case 16:\n              if (!(user_delivery_addresses.length >= 1)) {\n                _context.next = 23;\n                break;\n              }\n\n              dispatch({\n                type: 'DELETE_ADDRESS',\n                payload: item.id\n              });\n              _context.next = 20;\n              return deleteAddressMutation({\n                variables: {\n                  id: id,\n                  addressId: item.id\n                }\n              });\n\n            case 20:\n              return _context.abrupt(\"return\", _context.sent);\n\n            case 23:\n              return _context.abrupt(\"return\", null);\n\n            case 24:\n              return _context.abrupt(\"return\", false);\n\n            case 25:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleEditDelete(_x, _x2, _x3, _x4) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handlePrimary = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(item, name) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.t0 = name;\n              _context2.next = _context2.t0 === 'contact' ? 3 : _context2.t0 === 'address' ? 7 : 11;\n              break;\n\n            case 3:\n              dispatch({\n                type: 'SET_PRIMARY_CONTACT',\n                payload: item.id\n              });\n              _context2.next = 6;\n              return setprimaryPhoneNumberMutation({\n                variables: {\n                  id: id,\n                  phoneId: item.id\n                }\n              });\n\n            case 6:\n              return _context2.abrupt(\"return\", _context2.sent);\n\n            case 7:\n              dispatch({\n                type: 'SET_PRIMARY_ADDRESS',\n                payload: item.id\n              });\n              _context2.next = 10;\n              return setprimaryAddressMutation({\n                variables: {\n                  id: id,\n                  addressId: item.id\n                }\n              });\n\n            case 10:\n              return _context2.abrupt(\"return\", _context2.sent);\n\n            case 11:\n              return _context2.abrupt(\"return\", false);\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handlePrimary(_x5, _x6) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var handleApplyCoupon = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var _yield$appliedCoupon, data, errors;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (couponCode) {\n                _context3.next = 3;\n                break;\n              }\n\n              setError('Invalid Coupon');\n              return _context3.abrupt(\"return\", null);\n\n            case 3:\n              _context3.next = 5;\n              return appliedCoupon({\n                variables: {\n                  code: couponCode\n                }\n              });\n\n            case 5:\n              _yield$appliedCoupon = _context3.sent;\n              data = _yield$appliedCoupon.data;\n              errors = _yield$appliedCoupon.errors;\n\n              if (!(!data.getCoupon.coupon && data.getCoupon.message && !data.getCoupon.message.status)) {\n                _context3.next = 11;\n                break;\n              }\n\n              setError('Invalid Coupon');\n              return _context3.abrupt(\"return\", null);\n\n            case 11:\n              if (!errors) {\n                _context3.next = 14;\n                break;\n              }\n\n              setError('Invalid Coupon');\n              return _context3.abrupt(\"return\", null);\n\n            case 14:\n              if (data.getCoupon.coupon && data.getCoupon.coupon.percentage) {\n                applyCoupon(data.getCoupon.coupon);\n                setSubmitResult(_objectSpread(_objectSpread({}, submitResult), {}, {\n                  coupon_code: couponCode,\n                  products: cartProduct\n                }));\n                setCouponCode('');\n              } else {\n                setError('Invalid Coupon');\n              }\n\n            case 15:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleApplyCoupon() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var handleOnUpdate = function handleOnUpdate(e) {\n    setCouponCode(e.currentTarget.value);\n  };\n\n  var setErrorFor5Sec = function setErrorFor5Sec(messageId) {\n    var error = intl.formatMessage({\n      id: messageId,\n      defaultMessage: 'Please check the form'\n    });\n    setCheckoutError(error);\n    setTimeout(function () {\n      return setCheckoutError(null);\n    }, 3500);\n    return null;\n  };\n\n  var getDeliveryDate = function getDeliveryDate() {\n    // moment.locale('es');\n    var orderDay = moment(new Date(), 'MM/D/YYYY').day();\n    var orderHour = moment(new Date(), 'MM/D/YYYY').hour();\n    var deliveryDate = moment(new Date());\n    var lunes = 1;\n    var martes = 2;\n    var miercoles = 3;\n    var jueves = 4;\n    var viernes = 5;\n    var sabado = 6;\n    var domingo = 7;\n    var lastOrderTime = 12;\n\n    switch (orderDay) {\n      case viernes:\n      case sabado:\n      case domingo:\n      case lunes:\n        deliveryDate.add(1, 'days');\n        break;\n\n      case martes:\n        if (orderHour >= lastOrderTime) {\n          deliveryDate.add(2, 'days');\n        }\n\n        break;\n\n      case miercoles:\n        // deliveryDate.add(1, 'days');\n        break;\n\n      case jueves:\n        if (orderHour >= lastOrderTime) {\n          deliveryDate.add(5, 'days');\n        }\n\n        break;\n\n      default:\n        break;\n    }\n\n    return moment(deliveryDate).format('dddd DD MMM');\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var deliveryCharge, ccCharge, cashDiscount, otherSubmitResult, contact_number, payment_option_id, payment_option_type, delivery_method_id, user_delivery_addresses, delivery_schedule, coupon_code, products, customer_id, sub_total, total, discount_amount, _yield$setOrderMutati, orderCreateError, _orderCreateError$;\n\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              deliveryCharge = calculateDeliveryCharge(deliveryMethodSelected === null || deliveryMethodSelected === void 0 ? void 0 : deliveryMethodSelected.name);\n              ccCharge = calculateCCCharge();\n              cashDiscount = calculateIfCashDiscount();\n              otherSubmitResult = {\n                customer_id: id,\n                sub_total: Number(calculateSubTotalPrice()),\n                total: Number(calculatePrice(deliveryCharge + ccCharge)),\n                discount_amount: Number(calculateDiscount())\n              };\n              contact_number = submitResult.contact_number, payment_option_id = submitResult.payment_option_id, payment_option_type = submitResult.payment_option_type, delivery_method_id = submitResult.delivery_method_id, user_delivery_addresses = submitResult.user_delivery_addresses, delivery_schedule = submitResult.delivery_schedule, coupon_code = submitResult.coupon_code, products = submitResult.products;\n              customer_id = otherSubmitResult.customer_id, sub_total = otherSubmitResult.sub_total, total = otherSubmitResult.total, discount_amount = otherSubmitResult.discount_amount;\n              console.log('delivery_method_id', delivery_method_id);\n\n              if (delivery_method_id) {\n                _context4.next = 10;\n                break;\n              }\n\n              setErrorFor5Sec('checkoutDeliveryMethodInvalid');\n              return _context4.abrupt(\"return\");\n\n            case 10:\n              if (!(!(deliveryMethodSelected === null || deliveryMethodSelected === void 0 ? void 0 : deliveryMethodSelected.isPickUp) && !selectedAddress)) {\n                _context4.next = 13;\n                break;\n              }\n\n              setErrorFor5Sec('checkoutDeliveryAddressNotComplete');\n              return _context4.abrupt(\"return\");\n\n            case 13:\n              if (contact_number) {\n                _context4.next = 16;\n                break;\n              }\n\n              setErrorFor5Sec('checkoutContactNumberInvalid');\n              return _context4.abrupt(\"return\");\n\n            case 16:\n              if (payment_option_id) {\n                _context4.next = 19;\n                break;\n              }\n\n              setErrorFor5Sec(pickUpAddress ? 'checkoutPaymentMethodInvalidOption3' : 'checkoutPaymentMethodInvalidOption4');\n              return _context4.abrupt(\"return\");\n\n            case 19:\n              if (!(!customer_id || !products)) {\n                _context4.next = 22;\n                break;\n              }\n\n              setCheckoutError('Please place a valid order!');\n              return _context4.abrupt(\"return\", null);\n\n            case 22:\n              setLoading(true); // if (confirm('Are you sure? You want to place this order?')) {\n\n              _context4.prev = 23;\n              _context4.next = 26;\n              return setOrderMutation({\n                variables: {\n                  input: {\n                    customer_id: customer_id,\n                    contact_number: contact_number,\n                    payment_option_id: payment_option_id,\n                    delivery_method_id: delivery_method_id,\n                    delivery_date: delivery_schedule,\n                    delivery_address: delivery_address,\n                    sub_total: sub_total,\n                    total: total,\n                    coupon_code: coupon_code,\n                    discount_amount: discount_amount,\n                    products: products,\n                    payment_option_type: payment_option_type,\n                    isWhatsappPurchase: false,\n                    lenguageLocale: intl.locale\n                  }\n                }\n              });\n\n            case 26:\n              _yield$setOrderMutati = _context4.sent;\n              orderCreateError = _yield$setOrderMutati.errors;\n\n              if (!orderCreateError) {\n                if (isValid) {\n                  clearCart();\n                  removeCoupon();\n                  setHasCoupon(false);\n                  Router.push({\n                    pathname: '/order-received',\n                    query: {\n                      itemId: id\n                    }\n                  });\n                }\n\n                setLoading(false);\n                setIsValid(false);\n              }\n\n              if (orderCreateError) {\n                setOrderError(((_orderCreateError$ = orderCreateError[0]) === null || _orderCreateError$ === void 0 ? void 0 : _orderCreateError$.message) || 'Somehting went wrong');\n                setLoading(false);\n              }\n\n              _context4.next = 36;\n              break;\n\n            case 32:\n              _context4.prev = 32;\n              _context4.t0 = _context4[\"catch\"](23);\n              console.log(_context4.t0);\n\n              if (confirm('Algo salió mal! Te pedimos disculpas y que por favor, comiences de vuelta tu compra.')) {\n                console.log(_context4.t0);\n                setLoading(false);\n                startAllOver();\n              }\n\n            case 36:\n              setLoading(false); // }\n\n            case 37:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[23, 32]]);\n    }));\n\n    return function handleSubmit() {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  var startAllOver = function startAllOver() {\n    clearCart();\n    removeCoupon();\n    setHasCoupon(false);\n    Router.push({\n      pathname: '/'\n    });\n  };\n\n  var pickedUpOptionIds = deliveryMethods.map(function (deliveryMethod) {\n    return deliveryMethod.isPickUp ? deliveryMethod.id : null;\n  });\n  var deliveryOptionIds = deliveryMethods.map(function (deliveryMethod) {\n    return !deliveryMethod.isPickUp ? deliveryMethod.id : null;\n  });\n  var pickUpOptionSelected = pickedUpOptionIds.includes(submitResult.delivery_method_id);\n  console.log('submitResult,', submitResult);\n  console.log('deliveryMethodSelected,', deliveryMethodSelected);\n  console.log('user_delivery_addresses,', user_delivery_addresses);\n  return __jsx(\"form\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 598,\n      columnNumber: 5\n    }\n  }, __jsx(CheckoutWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 599,\n      columnNumber: 7\n    }\n  }, __jsx(CheckoutContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 600,\n      columnNumber: 9\n    }\n  }, __jsx(CheckoutInformation, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 601,\n      columnNumber: 11\n    }\n  }, __jsx(InformationBox, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 604,\n      columnNumber: 13\n    }\n  }, __jsx(Heading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 605,\n      columnNumber: 13\n    }\n  }, __jsx(DeliveryTypesOptions, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 606,\n      columnNumber: 17\n    }\n  }), __jsx(FormattedMessage, {\n    id: deliveryMethodSelected ? 'selectDeliveryMethodSelected' : 'selectDeliveryMethod',\n    defaultMessage: \"Select Your Delivery Type\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 607,\n      columnNumber: 17\n    }\n  })), __jsx(DeliverySchedule, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 612,\n      columnNumber: 15\n    }\n  }, deliveryMethodSelected ? __jsx(ButtonGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 614,\n      columnNumber: 20\n    }\n  }, __jsx(RadioGroupThree, {\n    items: [deliveryMethodSelected],\n    component: function component(item, index) {\n      return __jsx(RadioCard, {\n        id: item.id,\n        key: item.id,\n        title: (deliveryMethodSelected === null || deliveryMethodSelected === void 0 ? void 0 : deliveryMethodSelected.isPickUp) ? \"PICKUP \".concat(item.name) : \"DELIVERY\" //  ${item.name} ${deliveryMethodSelected?.deliveryAddress?.split(\",\")[0]}\n        // title={item.name}\n        ,\n        details: item.details,\n        link: item.isPickUp && item.pickUpAddress ? item.pickUpAddress : null,\n        name: \"schedule\",\n        checked: true,\n        withActionButtons: false,\n        onClick: function onClick() {\n          return setSubmitResult(_objectSpread(_objectSpread({}, submitResult), {}, {\n            delivery_method_id: item.id,\n            products: cartProduct\n          }));\n        },\n        onChange: function onChange() {\n          return dispatch({\n            type: 'SET_PRIMARY_SCHEDULE',\n            payload: item.id.toString()\n          });\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 618,\n          columnNumber: 25\n        }\n      });\n    },\n    secondaryComponent: deliveryMethodSelected ? __jsx(Button, {\n      className: \"changeButton\",\n      variant: \"text\",\n      type: \"button\",\n      onClick: resetDeliveryMethodAndDeleteSavedCookie,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 643,\n        columnNumber: 23\n      }\n    }, __jsx(IconWrapper, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 649,\n        columnNumber: 25\n      }\n    }, __jsx(Plus, {\n      width: \"10px\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 650,\n        columnNumber: 29\n      }\n    })), __jsx(FormattedMessage, {\n      id: \"changeDeliveryMethod\",\n      defaultMessage: \"changeDeliveryMethod\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 652,\n        columnNumber: 25\n      }\n    })) : null,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 615,\n      columnNumber: 20\n    }\n  })) : __jsx(DeliverySelection, {\n    setDeliveryMethod: setDeliveryMethod,\n    deliveryMethodTypeSelected: deliveryMethodTypeSelected,\n    setDeliveryMethodType: setDeliveryMethodType,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 659,\n      columnNumber: 19\n    }\n  }), (user_delivery_addresses === null || user_delivery_addresses === void 0 ? void 0 : user_delivery_addresses.length) > 0 && deliveryMethodTypeSelected === DeliveryMethodsConstants.DELIVERY && __jsx(ButtonGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 667,\n      columnNumber: 19\n    }\n  }, \"o selecciona una direccion\", __jsx(RadioGroupTwo, {\n    items: user_delivery_addresses,\n    component: function component(item, index) {\n      return __jsx(RadioCardTWO, {\n        id: index,\n        key: index,\n        address: item.address,\n        location: item.location,\n        instructions: item.instructions,\n        title: item.title,\n        name: \"address\",\n        isChecked: item.id === (deliveryMethodSelected === null || deliveryMethodSelected === void 0 ? void 0 : deliveryMethodSelected.id),\n        onClick: function onClick() {\n          var _item$address, _item$address2;\n\n          setSubmitResult(_objectSpread(_objectSpread({}, submitResult), {}, {\n            delivery_address: \"\".concat(item.title, \" -\\n                              \").concat((_item$address = item.address) === null || _item$address === void 0 ? void 0 : _item$address.split(\",\")[0], \" \").concat((_item$address2 = item.address) === null || _item$address2 === void 0 ? void 0 : _item$address2.split(\",\")[1], \", \").concat(item.location, \", \").concat(item.instructions, \"\\n                              \"),\n            products: cartProduct\n          }));\n          setDeliveryMethod(item, true);\n        } // onEdit={() => handleEditDelete(item, index, 'edit', 'address')}\n        // onDelete={() =>\n        //   handleEditDelete(item, index, 'delete', 'address')\n        // }\n        ,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 672,\n          columnNumber: 27\n        }\n      });\n    },\n    secondaryComponent: selectedAddress ? null : __jsx(Button, {\n      className: \"addButton\",\n      variant: \"text\",\n      type: \"button\",\n      onClick: function onClick() {\n        return resetDeliveryMethodAndDeleteSavedCookie();\n      } // onClick={() =>\n      //   handleModal(UpdateAddressTwo,\n      //     {\n      //       item:{ address: deliveryMethodSelected?.deliveryAddress },\n      //       id\n      //     },\n      //     'add-address-modal')\n      // }\n      ,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 695,\n        columnNumber: 26\n      }\n    }, __jsx(IconWrapper, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 709,\n        columnNumber: 25\n      }\n    }, __jsx(Plus, {\n      width: \"10px\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 710,\n        columnNumber: 27\n      }\n    })), __jsx(FormattedMessage, {\n      id: \"completeAddress\",\n      defaultMessage: \"Add New\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 712,\n        columnNumber: 25\n      }\n    })),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 669,\n      columnNumber: 21\n    }\n  })))), __jsx(DeliverySchedule, {\n    schedulesOfDeliveryMethodSelected: deliveryMethodSelected,\n    setDeliverySchedule: setDeliverySchedule,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 722,\n      columnNumber: 13\n    }\n  }), __jsx(InformationBox, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 728,\n      columnNumber: 13\n    }\n  }, __jsx(Heading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 729,\n      columnNumber: 15\n    }\n  }, __jsx(DeliveryTypesOptions, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 730,\n      columnNumber: 15\n    }\n  }), __jsx(FormattedMessage, {\n    id: \"contactNumberText\",\n    defaultMessage: \"Select Your Contact Number\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 731,\n      columnNumber: 17\n    }\n  })), __jsx(ButtonGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 736,\n      columnNumber: 15\n    }\n  }, __jsx(RadioGroupThree, {\n    items: phones,\n    component: function component(item, index) {\n      return __jsx(RadioCard, {\n        id: index,\n        key: index,\n        title: item.is_primary ? intl.formatMessage({\n          id: 'primaryId',\n          defaultMessage: 'Primary'\n        }) : intl.formatMessage({\n          id: 'secundaryId',\n          defaultMessage: 'Secondary'\n        }),\n        details: item.number,\n        checked: item.is_primary === true,\n        onChange: function onChange() {\n          return handlePrimary(item, 'contact');\n        },\n        onClick: function onClick() {\n          return setSubmitResult(_objectSpread(_objectSpread({}, submitResult), {}, {\n            contact_number: item.number,\n            products: cartProduct\n          }));\n        },\n        name: \"contact\",\n        onEdit: function onEdit() {\n          return handleEditDelete(item, index, 'edit', 'contact');\n        },\n        onDelete: function onDelete() {\n          return handleEditDelete(item, index, 'delete', 'contact');\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 740,\n          columnNumber: 21\n        }\n      });\n    },\n    secondaryComponent: __jsx(Button, {\n      className: \"addButton\",\n      variant: \"text\",\n      type: \"button\",\n      onClick: function onClick() {\n        return handleModal(UpdateContact, {\n          item: {},\n          id: id\n        }, 'add-contact-modal');\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 760,\n        columnNumber: 21\n      }\n    }, __jsx(IconWrapper, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 775,\n        columnNumber: 23\n      }\n    }, __jsx(Plus, {\n      width: \"10px\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 776,\n        columnNumber: 25\n      }\n    })), __jsx(FormattedMessage, {\n      id: \"addContactBtn\",\n      defaultMessage: \"Add Contact\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 778,\n        columnNumber: 23\n      }\n    })),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 737,\n      columnNumber: 17\n    }\n  }))), __jsx(InformationBox, {\n    className: \"paymentBox\",\n    style: {\n      paddingBottom: 30\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 844,\n      columnNumber: 13\n    }\n  }, __jsx(Heading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 848,\n      columnNumber: 15\n    }\n  }, __jsx(DeliveryTypesOptions, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 849,\n      columnNumber: 17\n    }\n  }), __jsx(FormattedMessage, {\n    id: \"selectPaymentText\",\n    defaultMessage: \"Select Payment Option\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 850,\n      columnNumber: 17\n    }\n  })), __jsx(PaymentGroup, {\n    name: \"payment\",\n    deviceType: deviceType,\n    items: paymentMethods,\n    onEditDeleteField: function onEditDeleteField(item, type) {\n      return null;\n    },\n    onClick: function onClick(item) {\n      setSubmitResult(_objectSpread(_objectSpread({}, submitResult), {}, {\n        payment_option_id: item.id,\n        payment_option_type: item.type,\n        products: cartProduct\n      }));\n      return null;\n    },\n    onChange: function onChange(item) {\n      return dispatch({\n        type: 'SET_PRIMARY_CARD',\n        payload: item.id.toString()\n      });\n    },\n    handleAddNewCard: function handleAddNewCard() {\n      return null;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 857,\n      columnNumber: 15\n    }\n  }), __jsx(TermConditionText, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 933,\n      columnNumber: 15\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"termAndConditionHelper\",\n    defaultMessage: \"By making this purchase you agree to our\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 934,\n      columnNumber: 17\n    }\n  }), __jsx(Link, {\n    href: \"#\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 938,\n      columnNumber: 17\n    }\n  }, __jsx(TermConditionLink, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 939,\n      columnNumber: 19\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"termAndCondition\",\n    defaultMessage: \"terms and conditions.\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 940,\n      columnNumber: 21\n    }\n  })))), checkoutError && __jsx(ErrorMsg, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 950,\n      columnNumber: 25\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"checkoutError\",\n    defaultMessage: checkoutError,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 951,\n      columnNumber: 29\n    }\n  })), __jsx(CheckoutSubmit, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 958,\n      columnNumber: 15\n    }\n  }, __jsx(Button, {\n    type: \"button\",\n    onClick: handleSubmit,\n    disabled: loading,\n    size: \"big\",\n    loading: loading,\n    style: {\n      width: '100%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 959,\n      columnNumber: 17\n    }\n  }, __jsx(FormattedMessage, {\n    id: loading ? 'processesingCheckout' : 'processCheckout',\n    defaultMessage: \"Proceed to Checkout\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 967,\n      columnNumber: 19\n    }\n  }), \". (\", CURRENCY, calculatePrice(calculateDeliveryCharge(deliveryMethodSelected === null || deliveryMethodSelected === void 0 ? void 0 : deliveryMethodSelected.name) + calculateCCCharge()), \")\")), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 974,\n      columnNumber: 17\n    }\n  }, orderError && __jsx(ErrorMsg, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 977,\n      columnNumber: 25\n    }\n  }, __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 978,\n      columnNumber: 29\n    }\n  }, orderError))))), __jsx(CartWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 985,\n      columnNumber: 11\n    }\n  }, __jsx(Sticky, {\n    enabled: size.width >= 768 ? true : false,\n    top: 120,\n    innerZ: 999,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 987,\n      columnNumber: 13\n    }\n  }, __jsx(OrderInfo, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 992,\n      columnNumber: 15\n    }\n  }, __jsx(Title, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 993,\n      columnNumber: 17\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"cartTitle\",\n    defaultMessage: \"Your Orderdfd\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 994,\n      columnNumber: 19\n    }\n  })), __jsx(Scrollbars, {\n    universal: true,\n    autoHide: true,\n    autoHeight: true,\n    autoHeightMax: \"390px\",\n    renderView: function renderView(props) {\n      return __jsx(\"div\", _extends({}, props, {\n        style: _objectSpread(_objectSpread({}, props.style), {}, {\n          marginLeft: isRtl ? props.style.marginRight : 0,\n          marginRight: isRtl ? 0 : props.style.marginRight,\n          paddingLeft: isRtl ? 15 : 0,\n          paddingRight: isRtl ? 0 : 15\n        }),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1006,\n          columnNumber: 21\n        }\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1000,\n      columnNumber: 17\n    }\n  }, __jsx(ItemsWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1018,\n      columnNumber: 19\n    }\n  }, cartItemsCount > 0 ? items.map(function (item) {\n    return __jsx(OrderItem, {\n      key: \"cartItem-\".concat(item.id),\n      product: item,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1021,\n        columnNumber: 25\n      }\n    });\n  }) : __jsx(React.Fragment, null, __jsx(NoProductImg, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1025,\n      columnNumber: 25\n    }\n  }, __jsx(NoCartBag, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1026,\n      columnNumber: 27\n    }\n  })), __jsx(NoProductMsg, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1029,\n      columnNumber: 25\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"noProductFound\",\n    defaultMessage: \"No products found\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1030,\n      columnNumber: 27\n    }\n  }))))), __jsx(CalculationWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1040,\n      columnNumber: 17\n    }\n  }, __jsx(TextWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1041,\n      columnNumber: 19\n    }\n  }, __jsx(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1042,\n      columnNumber: 21\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"subTotal\",\n    defaultMessage: \"Subtotal\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1043,\n      columnNumber: 23\n    }\n  })), __jsx(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1045,\n      columnNumber: 21\n    }\n  }, CURRENCY, \" \", calculateSubTotalPrice())), __jsx(TextWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1050,\n      columnNumber: 19\n    }\n  }, __jsx(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1051,\n      columnNumber: 21\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"discountText\",\n    defaultMessage: \"Discount\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1052,\n      columnNumber: 23\n    }\n  })), __jsx(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1054,\n      columnNumber: 21\n    }\n  }, CURRENCY, \" \", calculateDiscount())), calculateCCCharge() > 0 && __jsx(TextWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1060,\n      columnNumber: 21\n    }\n  }, __jsx(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1061,\n      columnNumber: 23\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"ccrChargeText\",\n    defaultMessage: \"Card charge\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1062,\n      columnNumber: 25\n    }\n  })), __jsx(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1064,\n      columnNumber: 23\n    }\n  }, CURRENCY, \" \", (_calculateCCCharge = calculateCCCharge()) === null || _calculateCCCharge === void 0 ? void 0 : _calculateCCCharge.toFixed(2))), __jsx(TextWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1070,\n      columnNumber: 19\n    }\n  }, __jsx(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1071,\n      columnNumber: 21\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"deliveryChargeText\",\n    defaultMessage: \"Delivery charge\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1072,\n      columnNumber: 23\n    }\n  })), __jsx(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1074,\n      columnNumber: 21\n    }\n  }, CURRENCY, \" \", calculateDeliveryCharge(deliveryMethodSelected === null || deliveryMethodSelected === void 0 ? void 0 : deliveryMethodSelected.name))), __jsx(TextWrapper, {\n    style: {\n      marginTop: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1079,\n      columnNumber: 19\n    }\n  }, __jsx(Bold, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1080,\n      columnNumber: 21\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"totalText\",\n    defaultMessage: \"Total\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1081,\n      columnNumber: 23\n    }\n  }), ' '), __jsx(Bold, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1083,\n      columnNumber: 21\n    }\n  }, CURRENCY, \" \", calculatePrice(calculateDeliveryCharge(deliveryMethodSelected === null || deliveryMethodSelected === void 0 ? void 0 : deliveryMethodSelected.name) + calculateCCCharge()))))))))));\n};\n\n_s2(CheckoutWithSidebar, \"WQfWaSPszpPGw8H6QeBlXVe3ivo=\", false, function () {\n  return [useLocale, useCart, useIntl, useMutation, useMutation, useMutation, useMutation, useMutation, useMutation, useMutation, useWindowSize, useMutation];\n});\n\n_c2 = CheckoutWithSidebar;\nexport default CheckoutWithSidebar;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"OrderItem\");\n$RefreshReg$(_c2, \"CheckoutWithSidebar\");","map":{"version":3,"sources":["/Users/virginiamuruzabal/work/ditto/client/packages/shop/src/features/checkouts/checkout-two/checkout-two.tsx"],"names":["React","useContext","useState","useEffect","Router","Link","Button","RadioCard","RadioGroupTwo","RadioGroupThree","RadioCardTWO","PaymentGroup","UpdateContact","DELETE_ADDRESS","SETPRIMARY_ADDRESS","DELETE_PHONENUMBER","SETPRIMARY_PHONENUMBER","CREAT_ORDER","GET_COUPON","DELETE_CARD","DELETE_CONTACT","CURRENCY","DeliveryMethodsConstants","openModal","useMutation","Scrollbars","CheckoutWrapper","CheckoutContainer","CheckoutInformation","InformationBox","DeliverySchedule","Heading","ButtonGroup","CheckoutSubmit","ErrorMsg","TermConditionText","TermConditionLink","CartWrapper","CalculationWrapper","OrderInfo","Title","ItemsWrapper","Items","Quantity","ItemInfo","Price","TextWrapper","Text","Bold","NoProductMsg","NoProductImg","IconWrapper","DeliveryTypesOptions","Plus","NoCartBag","Sticky","ProfileContext","FormattedMessage","useIntl","useCart","useLocale","useWindowSize","UpdateAddressTwo","moment","calculateDeliveryCharge","capitalizeFirstLetter","DeliverySelection","OrderItem","product","name","images","price","salePrice","unit","quantity","recicledQuantity","packagePrice","id","recicledPrice","totalQuantity","displayPrice","nonRecicledTotalPrice","recicledTotalPrice","totalPrice","intl","toFixed","CheckoutWithSidebar","token","deviceType","hasCoupon","setHasCoupon","couponCode","setCouponCode","couponError","setError","orderError","setOrderError","deliveryMethodTypeSelected","setDeliveryMethodType","checkoutError","setCheckoutError","state","dispatch","isRtl","items","removeCoupon","coupon","applyCoupon","clearCart","cartItemsCount","calculatePrice","calculateDiscount","calculateSubTotalPrice","isRestaurant","toggleRestaurant","cartProduct","length","map","item","index","product_id","Number","sale_price","image","loading","setLoading","isValid","setIsValid","contact_number","payment_option_id","payment_option_type","delivery_method_id","delivery_schedule","coupon_code","delivery_address","products","submitResult","setSubmitResult","user_delivery_addresses","contact","paymentMethods","phones","email","deliveryMethods","setprimaryAddressMutation","deleteAddressMutation","setprimaryPhoneNumberMutation","deletePhoneNumberMutation","setOrderMutation","deleteContactMutation","deletePaymentCardMutation","size","deliveryMethodSelected","setDeliveryMethodsSelected","resetDeliveryMethodAndDeleteSavedCookie","setDeliverySchedule","scheduleSelected","isPickUp","details","split","trim","setDeliveryMethod","methodSelected","addressAlreadyAddedSelected","deliveryAddress","handleModal","address","location","appliedCoupon","deliveryCharge","selectedAddress","find","is_primary","selectedContact","pickUpAddress","deliveryMethod","calculateCCCharge","paymentOptionSelected","paymentMethod","total","toLowerCase","includes","ccCharge","replace","result","calculateIfCashDiscount","cashDiscount","selectedAddressText","title","instructions","pickUpOptionSelected","number","modalComponent","modalProps","className","show","config","width","height","enableResizing","disableDragging","closeOnClickOutside","component","componentProps","handleEditDelete","type","payload","variables","phoneId","addressId","handlePrimary","handleApplyCoupon","code","data","errors","getCoupon","message","status","percentage","handleOnUpdate","e","currentTarget","value","setErrorFor5Sec","messageId","error","formatMessage","defaultMessage","setTimeout","getDeliveryDate","orderDay","Date","day","orderHour","hour","deliveryDate","lunes","martes","miercoles","jueves","viernes","sabado","domingo","lastOrderTime","add","format","handleSubmit","otherSubmitResult","customer_id","sub_total","discount_amount","console","log","input","delivery_date","isWhatsappPurchase","lenguageLocale","locale","orderCreateError","push","pathname","query","itemId","confirm","startAllOver","pickedUpOptionIds","deliveryOptionIds","toString","DELIVERY","paddingBottom","props","style","marginLeft","marginRight","paddingLeft","paddingRight","marginTop"],"mappings":";;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,MAAT,QAAuB,0BAAvB;AACA,OAAOC,SAAP,MAAsB,kCAAtB;AAEA,OAAOC,aAAP,MAA0B,wCAA1B;AACA,OAAOC,eAAP,MAA4B,0CAA5B;AACA,OAAOC,YAAP,MAAyB,sCAAzB;AACA,OAAOC,YAAP,MAAyB,wCAAzB;AACA,OAAOC,aAAP,MAA0B,sCAA1B;AACA,SAASC,cAAT,EAAyBC,kBAAzB,QAAmD,0BAAnD;AACA,SAASC,kBAAT,EAA6BC,sBAA7B,QAA2D,wBAA3D;AACA,SAASC,WAAT,QAA4B,wBAA5B;AACA,SAASC,UAAT,QAA2B,sBAA3B;AAEA,SAASC,WAAT,QAA4B,uBAA5B;AACA,SAASC,cAAT,QAA+B,0BAA/B;AACA,SAA4BC,QAA5B,EAA+FC,wBAA/F,QAA+H,gBAA/H;AACA,SAASC,SAAT,QAA0B,mBAA1B;AACA,SAASC,WAAT,QAAsC,qBAAtC;AACA,SAASC,UAAT,QAA2B,yBAA3B;AACA,OAAOC,eAAP,IACEC,iBADF,EAEEC,mBAFF,EAGEC,cAHF,EAIEC,gBAJF,EAKEC,OALF,EAMEC,WANF,EAOEC,cAPF,EAcEC,QAdF,EAeEC,iBAfF,EAgBEC,iBAhBF,EAiBEC,WAjBF,EAkBEC,kBAlBF,EAmBEC,SAnBF,EAoBEC,KApBF,EAqBEC,YArBF,EAsBEC,KAtBF,EAuBEC,QAvBF,EAyBEC,QAzBF,EA0BEC,KA1BF,EA2BEC,WA3BF,EA4BEC,IA5BF,EA6BEC,IA7BF,EA+BEC,YA/BF,EAgCEC,YAhCF,EAiCEC,WAjCF,EAkCEC,oBAlCF,QAmCO,sBAnCP;AAsCA,SAASC,IAAT,QAAqB,wBAArB;AACA,SAASC,SAAT,QAA0B,wBAA1B;AAEA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,SAASC,cAAT,QAA+B,kCAA/B;AACA,SAASC,gBAAT,EAA2BC,OAA3B,QAA0C,YAA1C;AACA,SAASC,OAAT,QAAwB,wBAAxB;AAEA,SAASC,SAAT,QAA0B,qCAA1B;AACA,SAASC,aAAT,QAA8B,qBAA9B;AAGA,OAAOC,gBAAP,MAA6B,0CAA7B;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,uBAAT,EAAkCC,qBAAlC,QAA+D,mBAA/D;AACA,OAAOC,iBAAP,MAA8B,6DAA9B;;AAeA,IAAMC,SAAkC,GAAG,SAArCA,SAAqC,OAAiB;AAAA;;AAAA,MAAdC,OAAc,QAAdA,OAAc;AAAA,MAClDC,IADkD,GAC6CD,OAD7C,CAClDC,IADkD;AAAA,MAC5CC,MAD4C,GAC6CF,OAD7C,CAC5CE,MAD4C;AAAA,MACpCC,KADoC,GAC6CH,OAD7C,CACpCG,KADoC;AAAA,MAC7BC,SAD6B,GAC6CJ,OAD7C,CAC7BI,SAD6B;AAAA,MAClBC,IADkB,GAC6CL,OAD7C,CAClBK,IADkB;AAAA,0BAC6CL,OAD7C,CACZM,QADY;AAAA,MACZA,QADY,kCACD,CADC;AAAA,8BAC6CN,OAD7C,CACEO,gBADF;AAAA,MACEA,gBADF,sCACqB,CADrB;AAAA,MACwBC,YADxB,GAC6CR,OAD7C,CACwBQ,YADxB;AAAA,MACsCC,EADtC,GAC6CT,OAD7C,CACsCS,EADtC;AAE1D,MAAMC,aAAa,GAAGP,KAAK,GAAGK,YAA9B;AACA,MAAMG,aAAa,GAAGL,QAAQ,GAAGC,gBAAjC;AACA,MAAMK,YAAY,GAAGR,SAAS,IAAID,KAAlC;AACA,MAAMU,qBAAqB,GAAGD,YAAY,GAAGN,QAA7C;AACA,MAAMQ,kBAAkB,GAAGJ,aAAa,GAAGH,gBAA3C;AACA,MAAMQ,UAAU,GAAGF,qBAAqB,GAAGC,kBAA3C;AAEA,MAAME,IAAI,GAAG1B,OAAO,EAApB;AACA,SACE,MAAC,KAAD;AAAO,IAAA,GAAG,EAAEmB,EAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE,MAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACIF,gBAAgB,GAAG,CAAnB,IACA,4BACE,MAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAWN,IAAX,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGGM,gBAHH,SAGwBtD,QAHxB,EAGkCyD,aAHlC,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CAFJ,EASIJ,QAAQ,GAAG,CAAX,IACA,4BACE,MAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAWL,IAAX,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGGK,QAHH,SAGgBrD,QAHhB,EAG0BkD,KAH1B,CAVJ,CAFF,EAmBE,MAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGlD,QADH,EAEI8D,UAAD,CAAaE,OAAb,CAAqB,CAArB,CAFH,CAnBF,CADF;AA0BD,CApCD;;GAAMlB,S;UASST,O;;;KATTS,S;;AAsCN,IAAMmB,mBAA0C,GAAG,SAA7CA,mBAA6C,QAA2B;AAAA;;AAAA;;AAAA,MAAxBC,KAAwB,SAAxBA,KAAwB;AAAA,MAAjBC,UAAiB,SAAjBA,UAAiB;;AAAA,kBAE1CtF,QAAQ,CAAC,KAAD,CAFkC;AAAA,MAErEuF,SAFqE;AAAA,MAE1DC,YAF0D;;AAAA,mBAGxCxF,QAAQ,CAAC,EAAD,CAHgC;AAAA,MAGrEyF,UAHqE;AAAA,MAGzDC,aAHyD;;AAAA,mBAI5C1F,QAAQ,CAAC,EAAD,CAJoC;AAAA,MAIrE2F,WAJqE;AAAA,MAIxDC,QAJwD;;AAAA,mBAKxC5F,QAAQ,CAAC,EAAD,CALgC;AAAA,MAKrE6F,UALqE;AAAA,MAKzDC,aALyD;;AAAA,wBAMhBhG,KAAK,CAACE,QAAN,EANgB;AAAA;AAAA,MAMrE+F,0BANqE;AAAA,MAMzCC,qBANyC;;AAAA,mBAOlChG,QAAQ,CAAC,EAAD,CAP0B;AAAA,MAOrEiG,aAPqE;AAAA,MAOtDC,gBAPsD;;AAAA,oBAQhDnG,UAAU,CAACuD,cAAD,CARsC;AAAA,MAQpE6C,KARoE,eAQpEA,KARoE;AAAA,MAQ7DC,QAR6D,eAQ7DA,QAR6D;;AAAA,mBAS1D1C,SAAS,EATiD;AAAA,MASpE2C,KAToE,cASpEA,KAToE;;AAAA,iBAsBxE5C,OAAO,EAtBiE;AAAA,MAW1E6C,KAX0E,YAW1EA,KAX0E;AAAA,MAY1EC,YAZ0E,YAY1EA,YAZ0E;AAAA,MAa1EC,MAb0E,YAa1EA,MAb0E;AAAA,MAc1EC,WAd0E,YAc1EA,WAd0E;AAAA,MAe1EC,SAf0E,YAe1EA,SAf0E;AAAA,MAgB1EC,cAhB0E,YAgB1EA,cAhB0E;AAAA,MAiB1EC,cAjB0E,YAiB1EA,cAjB0E;AAAA,MAkB1EC,iBAlB0E,YAkB1EA,iBAlB0E;AAAA,MAmB1EC,sBAnB0E,YAmB1EA,sBAnB0E;AAAA,MAoB1EC,YApB0E,YAoB1EA,YApB0E;AAAA,MAqB1EC,gBArB0E,YAqB1EA,gBArB0E;;AAuB5E,MAAM9B,IAAI,GAAG1B,OAAO,EAApB;AAEA,MAAIyD,WAAW,GAAE,IAAjB;;AAEA,MAAIX,KAAK,CAACY,MAAN,GAAe,CAAnB,EAAsB;AACpBD,IAAAA,WAAW,GAAGX,KAAK,CAACa,GAAN,CAAU,UAACC,IAAD,EAAYC,KAAZ;AAAA,aACtB;AACAC,QAAAA,UAAU,EAAEF,IAAI,CAACzC,EADjB;AAEAJ,QAAAA,IAAI,EAAE6C,IAAI,CAAC7C,IAFX;AAGAC,QAAAA,QAAQ,EAAE+C,MAAM,CAACH,IAAI,CAAC5C,QAAN,CAAN,IAAyB,CAHnC;AAIAC,QAAAA,gBAAgB,EAAE8C,MAAM,CAACH,IAAI,CAAC3C,gBAAN,CAAN,IAAiC,CAJnD;AAKA+C,QAAAA,UAAU,EAAEJ,IAAI,CAACI,UALjB;AAMA;AACAnD,QAAAA,KAAK,EAAE+C,IAAI,CAAC/C,KAPZ;AAQAoD,QAAAA,KAAK,EAAEL,IAAI,CAAChD,MAAL,CAAY,CAAZ,CARP;AASAD,QAAAA,IAAI,EAAEiD,IAAI,CAACjD;AATX,OADsB;AAAA,KAAV,CAAd;AAYD;;AAxC2E,mBAyC9CnE,QAAQ,CAAC,KAAD,CAzCsC;AAAA,MAyCrE0H,OAzCqE;AAAA,MAyC5DC,UAzC4D;;AAAA,mBA0C9C3H,QAAQ,CAAC,KAAD,CA1CsC;AAAA,MA0CrE4H,OA1CqE;AAAA,MA0C5DC,UA1C4D;;AAAA,mBA4CpC7H,QAAQ,CAAC;AAC/C8H,IAAAA,cAAc,EAAE,EAD+B;AAE/CC,IAAAA,iBAAiB,EAAE,EAF4B;AAG/CC,IAAAA,mBAAmB,EAAE,EAH0B;AAI/CC,IAAAA,kBAAkB,EAAE,EAJ2B;AAK/CC,IAAAA,iBAAiB,EAAE,EAL4B;AAM/CC,IAAAA,WAAW,EAAE,EANkC;AAO/CC,IAAAA,gBAAgB,EAAE,IAP6B;AAQ/CC,IAAAA,QAAQ,EAAE;AARqC,GAAD,CA5C4B;AAAA,MA4CrEC,YA5CqE;AAAA,MA4CvDC,eA5CuD;;AAAA,MAwDxDC,uBAxDwD,GAgExErC,KAhEwE,CAwD1EiC,gBAxD0E;AAAA,MAyD1EK,OAzD0E,GAgExEtC,KAhEwE,CAyD1EsC,OAzD0E;AAAA,MA0D1EC,cA1D0E,GAgExEvC,KAhEwE,CA0D1EuC,cA1D0E;AAAA,MA2D1EC,MA3D0E,GAgExExC,KAhEwE,CA2D1EwC,MA3D0E;AAAA,MA4D1ExE,IA5D0E,GAgExEgC,KAhEwE,CA4D1EhC,IA5D0E;AAAA,MA6D1EyE,KA7D0E,GAgExEzC,KAhEwE,CA6D1EyC,KA7D0E;AAAA,MA8D1EjE,EA9D0E,GAgExEwB,KAhEwE,CA8D1ExB,EA9D0E;AAAA,MA+D1EkE,eA/D0E,GAgExE1C,KAhEwE,CA+D1E0C,eA/D0E,EAkE5E;;AAlE4E,qBAmExCvH,WAAW,CAACV,kBAAD,CAnE6B;AAAA;AAAA,MAmErEkI,yBAnEqE;;AAAA,sBAoE5CxH,WAAW,CAACX,cAAD,CApEiC;AAAA;AAAA,MAoErEoI,qBApEqE;;AAAA,sBAqEpCzH,WAAW,CAACR,sBAAD,CArEyB;AAAA;AAAA,MAqErEkI,6BArEqE;;AAAA,sBAsExC1H,WAAW,CAACT,kBAAD,CAtE6B;AAAA;AAAA,MAsErEoI,yBAtEqE;;AAAA,sBAuEjD3H,WAAW,CAACP,WAAD,CAvEsC;AAAA;AAAA,MAuErEmI,gBAvEqE;;AAAA,uBAyE5C5H,WAAW,CAACJ,cAAD,CAzEiC;AAAA;AAAA,MAyErEiI,qBAzEqE;;AAAA,uBA0ExC7H,WAAW,CAACL,WAAD,CA1E6B;AAAA;AAAA,MA0ErEmI,yBA1EqE;;AA2E5E,MAAMC,IAAI,GAAG1F,aAAa,EAA1B;;AA3E4E,yBA4Ef7D,KAAK,CAACE,QAAN,EA5Ee;AAAA;AAAA,MA4ErEsJ,sBA5EqE;AAAA,MA4E7CC,0BA5E6C,wBA8E5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,MAAMC,uCAAuC,GAAI,SAA3CA,uCAA2C,GAAM;AACrDD,IAAAA,0BAA0B,CAAC,IAAD,CAA1B,CADqD,CAErD;AACD,GAHD;;AAKA,MAAME,mBAAmB,GAAI,SAAvBA,mBAAuB,CAACC,gBAAD,EAAsB;AAAA;;AACjD;AACA;AACA;AACAnB,IAAAA,eAAe,iCACVD,YADU;AAEbJ,MAAAA,iBAAiB,EAAE,CAAAwB,gBAAgB,SAAhB,IAAAA,gBAAgB,WAAhB,YAAAA,gBAAgB,CAAEC,QAAlB,IAA6BD,gBAA7B,aAA6BA,gBAA7B,gDAA6BA,gBAAgB,CAAEE,OAAlB,CAA0BC,KAA1B,CAAgC,GAAhC,EAAqC,CAArC,CAA7B,0DAA6B,sBAAyCC,IAAzC,EAA7B,aAAkFJ,gBAAlF,aAAkFA,gBAAlF,iDAAkFA,gBAAgB,CAAEE,OAAlB,CAA0BC,KAA1B,CAAgC,GAAhC,EAAqC,CAArC,CAAlF,2DAAkF,uBAAyCC,IAAzC,EAAlF,cAAqIJ,gBAArI,aAAqIA,gBAArI,iDAAqIA,gBAAgB,CAAEE,OAAlB,CAA0BC,KAA1B,CAAgC,GAAhC,EAAqC,CAArC,CAArI,2DAAqI,uBAAyCC,IAAzC,EAArI;AAFN,OAAf;AAID,GARD;;AAUA,MAAMC,iBAAiB,GAAI,SAArBA,iBAAqB,CAACC,cAAD,EAAiBC,2BAAjB,EAAiD;AAAA;;AAC1EV,IAAAA,0BAA0B,CAACS,cAAD,CAA1B;AACAzB,IAAAA,eAAe,iCACVD,YADU;AAEbL,MAAAA,kBAAkB,EAAE+B,cAAc,CAACrF,EAFtB;AAGbyD,MAAAA,gBAAgB,2BAAE4B,cAAc,CAACE,eAAjB,0DAAE,sBAAgCL,KAAhC,CAAsC,GAAtC,EAA2C,CAA3C;AAHL,OAAf;;AAMA,QAAI,CAACG,cAAc,CAACL,QAAhB,IAA4B,CAACM,2BAAjC,EAA8D;AAAA;;AAC5DE,MAAAA,WAAW,CAACvG,gBAAD,EAAoB;AAAEwD,QAAAA,IAAI,EAAC;AAAEgD,UAAAA,OAAO,4BAAEJ,cAAc,CAACE,eAAjB,2DAAE,uBAAgCL,KAAhC,CAAsC,GAAtC,EAA2C,CAA3C,CAAX;AAA0DQ,UAAAA,QAAQ,4BAAEL,cAAc,CAACE,eAAjB,2DAAE,uBAAgCL,KAAhC,CAAsC,GAAtC,EAA2C,CAA3C;AAApE,SAAP;AAA4HlF,QAAAA,EAAE,EAAFA;AAA5H,OAApB,EAAsJ,mBAAtJ,CAAX;AACD,KAVyE,CAY1E;;AACD,GAbD;;AAzG4E,uBAwHpDrD,WAAW,CAACN,UAAD,CAxHyC;AAAA;AAAA,MAwHrEsJ,aAxHqE;;AAyH5E,MAAIC,cAAc,GAAG,CAArB;AACA,MAAMC,eAAe,GAAGhC,uBAAuB,IAAIA,uBAAuB,CAACiC,IAAxB,CACjD,UAACrD,IAAD;AAAA,WAAUA,IAAI,CAACsD,UAAL,KAAoB,IAA9B;AAAA,GADiD,CAAnD;AAGA,MAAMC,eAAe,GAAEhC,MAAM,CAAC8B,IAAP,CACrB,UAACrD,IAAD;AAAA,WAAUA,IAAI,CAACsD,UAAL,KAAoB,IAA9B;AAAA,GADqB,CAAvB;AAIA,MAAME,aAAa,4BAAG/B,eAAe,CAAC4B,IAAhB,CAAqB,UAAAI,cAAc,EAAI;AAC3D,WAAOvC,YAAY,CAACL,kBAAb,KAAoC4C,cAAc,CAAClG,EAA1D;AACD,GAFqB,CAAH,0DAAG,sBAElBiG,aAFJ;;AAIA,MAAME,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAAA;;AAC9B,QAAMC,qBAAqB,GAAGrC,cAAc,CAAC+B,IAAf,CAAoB,UAAAO,aAAa,EAAI;AACjE,aAAO,CAAA1C,YAAY,SAAZ,IAAAA,YAAY,WAAZ,YAAAA,YAAY,CAAEP,iBAAd,OAAoCiD,aAApC,aAAoCA,aAApC,uBAAoCA,aAAa,CAAErG,EAAnD,CAAP;AACD,KAF6B,CAA9B;AAIA,QAAMsG,KAAK,GAAG1D,MAAM,CAACT,sBAAsB,EAAvB,CAApB;;AAEA,QAAI,CAAAiE,qBAAqB,SAArB,IAAAA,qBAAqB,WAArB,qCAAAA,qBAAqB,CAAE5G,IAAvB,gFAA6B+G,WAA7B,GAA2CC,QAA3C,CAAoD,SAApD,OAAkEJ,qBAAlE,aAAkEA,qBAAlE,iDAAkEA,qBAAqB,CAAE5G,IAAzF,2DAAkE,uBAA6B+G,WAA7B,GAA2CC,QAA3C,CAAoD,MAApD,CAAlE,CAAJ,EAAmI;AAAA;;AACjI,UAAMC,QAAQ,GAAGL,qBAAH,aAAGA,qBAAH,iDAAGA,qBAAqB,CAAE5G,IAA1B,2DAAG,uBAA6BkH,OAA7B,CAAqC,KAArC,EAA4C,EAA5C,CAAjB;AACA,UAAMC,MAAM,GAAGL,KAAK,IAAIG,QAAQ,GAAG,GAAf,CAApB;AACA,aAAOE,MAAP;AACD;;AACD,WAAO,CAAP;AACD,GAbD;;AAeA,MAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B,GAAM;AAAA;;AACpC,QAAMR,qBAAqB,GAAGrC,cAAc,CAAC+B,IAAf,CAAoB,UAAAO,aAAa,EAAI;AACjE,aAAO,CAAA1C,YAAY,SAAZ,IAAAA,YAAY,WAAZ,YAAAA,YAAY,CAAEP,iBAAd,OAAoCiD,aAApC,aAAoCA,aAApC,uBAAoCA,aAAa,CAAErG,EAAnD,CAAP;AACD,KAF6B,CAA9B;AAIA,QAAMsG,KAAK,GAAG1D,MAAM,CAACT,sBAAsB,EAAvB,CAApB;;AAEA,QAAIiE,qBAAJ,aAAIA,qBAAJ,iDAAIA,qBAAqB,CAAE5G,IAA3B,2DAAI,uBAA6B+G,WAA7B,GAA2CC,QAA3C,CAAoD,UAApD,CAAJ,EAAqE;AACnE,UAAMK,YAAY,GAAG,CAArB;AACA,UAAMF,MAAM,GAAGL,KAAK,IAAIO,YAAY,GAAG,GAAnB,CAApB;AACA,aAAOF,MAAP;AACD;;AACD,WAAO,CAAP;AACD,GAbD;;AAeA,MAAMG,mBAAmB,GAAG,CAAAjB,eAAe,SAAf,IAAAA,eAAe,WAAf,YAAAA,eAAe,CAAEJ,OAAjB,cAA8BI,eAAe,IAAIzG,qBAAqB,CAACyG,eAAe,CAACkB,KAAjB,CAAtE,gBAAmGlB,eAAe,IAAIzG,qBAAqB,CAACyG,eAAe,CAACJ,OAAjB,CAA3I,eAAyKI,eAAe,IAAIA,eAAe,CAACmB,YAA5M,IAA6N,IAAzP;AAEA1L,EAAAA,SAAS,CAAC,YAAM;AACdsG,IAAAA,YAAY;AACZf,IAAAA,YAAY,CAAC,KAAD,CAAZ;AAEA+E,IAAAA,cAAc,GAAGzG,uBAAuB,CAACwF,sBAAD,aAACA,sBAAD,uBAACA,sBAAsB,CAAEnF,IAAzB,CAAxC;AACA,QAAM+F,eAAe,GAAG0B,oBAAoB,GAAGhB,aAAH,GAAmBa,mBAA/D,CALc,CAMd;;AACAlD,IAAAA,eAAe,iCACVD,YADU;AAEbF,MAAAA,gBAAgB,EAAEkB,sBAAF,aAAEA,sBAAF,uBAAEA,sBAAsB,CAAEY,eAF7B;AAGb;AACA7B,MAAAA,QAAQ,EAAEpB,WAJG;AAKba,MAAAA,cAAc,EAAE6C,eAAe,CAACkB;AALnB,OAAf;;AAOA,QACEjF,cAAc,KAAK,CAAnB,IACAD,cAAc,GAAG,CADjB,KAEC,CAAA2B,YAAY,SAAZ,IAAAA,YAAY,WAAZ,YAAAA,YAAY,CAAEL,kBAAd,KAAoC2C,aAFrC,KAGAjC,MAAM,CAACzB,MAHP,IAIA2B,eAAe,CAAC3B,MALlB,EAME;AACAW,MAAAA,UAAU,CAAC,IAAD,CAAV;AACD;AACF,GAvBQ,EAuBN,CAAC1B,KAAD,EAAQmD,sBAAR,CAvBM,CAAT,CArK4E,CA8L5E;;AACA,MAAMa,WAAW,GAAG,SAAdA,WAAc,CAClB2B,cADkB,EAIf;AAAA,QAFHC,UAEG,uEAFU,EAEV;AAAA,QADHC,SACG,uEADiB,mBACjB;AACH3K,IAAAA,SAAS,CAAC;AACR4K,MAAAA,IAAI,EAAE,IADE;AAERC,MAAAA,MAAM,EAAE;AACNC,QAAAA,KAAK,EAAE,GADD;AAENC,QAAAA,MAAM,EAAE,MAFF;AAGNC,QAAAA,cAAc,EAAE,KAHV;AAINC,QAAAA,eAAe,EAAE,IAJX;AAKNN,QAAAA,SAAS,EAAEA;AALL,OAFA;AASRO,MAAAA,mBAAmB,EAAE,IATb;AAURC,MAAAA,SAAS,EAAEV,cAVH;AAWRW,MAAAA,cAAc,EAAE;AAAErF,QAAAA,IAAI,EAAE2E;AAAR;AAXR,KAAD,CAAT;AAaD,GAlBD;;AAoBA,MAAMW,gBAAgB;AAAA,yEAAG,iBAAOtF,IAAP,EAAkBC,KAAlB,EAA8BsF,IAA9B,EAA4CxI,IAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACnBwI,IAAI,KAAK,MADU;AAAA;AAAA;AAAA;;AAEfb,cAAAA,cAFe,GAEE3H,IAAI,KAAK,SAAT,GAAqBP,gBAArB,GAAwClD,aAF1C;AAGrByJ,cAAAA,WAAW,CAAC2B,cAAD,EAAgB;AACzB1E,gBAAAA,IAAI,EAAJA,IADyB;AAEzBzC,gBAAAA,EAAE,EAAFA;AAFyB,eAAhB,CAAX;AAHqB;AAAA;;AAAA;AAAA,4BAQbR,IARa;AAAA,8CAed,SAfc,uBA2Bd,SA3Bc;AAAA;;AAAA;AAAA,oBAgBdwE,MAAM,CAACzB,MAAP,GAAgB,CAhBF;AAAA;AAAA;AAAA;;AAiBfd,cAAAA,QAAQ,CAAC;AAAEuG,gBAAAA,IAAI,EAAE,gBAAR;AAA0BC,gBAAAA,OAAO,EAAExF,IAAI,CAACzC;AAAxC,eAAD,CAAR;AAjBe;AAAA,qBAkBFsE,yBAAyB,CAAC;AACrC4D,gBAAAA,SAAS,EAAE;AACTlI,kBAAAA,EAAE,EAAFA,EADS;AAETmI,kBAAAA,OAAO,EAAE1F,IAAI,CAACzC;AAFL;AAD0B,eAAD,CAlBvB;;AAAA;AAAA;;AAAA;AAAA,+CAyBR,IAzBQ;;AAAA;AAAA,oBA4Bd6D,uBAAuB,CAACtB,MAAxB,IAAkC,CA5BpB;AAAA;AAAA;AAAA;;AA6BjBd,cAAAA,QAAQ,CAAC;AAAEuG,gBAAAA,IAAI,EAAE,gBAAR;AAA0BC,gBAAAA,OAAO,EAAExF,IAAI,CAACzC;AAAxC,eAAD,CAAR;AA7BiB;AAAA,qBA8BFoE,qBAAqB,CAAC;AACjC8D,gBAAAA,SAAS,EAAE;AACTlI,kBAAAA,EAAE,EAAFA,EADS;AAEToI,kBAAAA,SAAS,EAAE3F,IAAI,CAACzC;AAFP;AADsB,eAAD,CA9BnB;;AAAA;AAAA;;AAAA;AAAA,+CAqCR,IArCQ;;AAAA;AAAA,+CAwCV,KAxCU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAhB+H,gBAAgB;AAAA;AAAA;AAAA,KAAtB;;AA6CA,MAAMM,aAAa;AAAA,yEAAG,kBAAO5F,IAAP,EAAkBjD,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA,6BACZA,IADY;AAAA,gDAEb,SAFa,wBAUb,SAVa;AAAA;;AAAA;AAGhBiC,cAAAA,QAAQ,CAAC;AAAEuG,gBAAAA,IAAI,EAAE,qBAAR;AAA+BC,gBAAAA,OAAO,EAAExF,IAAI,CAACzC;AAA7C,eAAD,CAAR;AAHgB;AAAA,qBAIHqE,6BAA6B,CAAC;AACzC6D,gBAAAA,SAAS,EAAE;AACTlI,kBAAAA,EAAE,EAAFA,EADS;AAETmI,kBAAAA,OAAO,EAAE1F,IAAI,CAACzC;AAFL;AAD8B,eAAD,CAJ1B;;AAAA;AAAA;;AAAA;AAWhByB,cAAAA,QAAQ,CAAC;AAAEuG,gBAAAA,IAAI,EAAE,qBAAR;AAA+BC,gBAAAA,OAAO,EAAExF,IAAI,CAACzC;AAA7C,eAAD,CAAR;AAXgB;AAAA,qBAYDmE,yBAAyB,CAAC;AACrC+D,gBAAAA,SAAS,EAAE;AACTlI,kBAAAA,EAAE,EAAFA,EADS;AAEToI,kBAAAA,SAAS,EAAE3F,IAAI,CAACzC;AAFP;AAD0B,eAAD,CAZxB;;AAAA;AAAA;;AAAA;AAAA,gDAmBT,KAnBS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAbqI,aAAa;AAAA;AAAA;AAAA,KAAnB;;AAuBA,MAAMC,iBAAiB;AAAA,yEAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEpBxH,UAFoB;AAAA;AAAA;AAAA;;AAGtBG,cAAAA,QAAQ,CAAC,gBAAD,CAAR;AAHsB,gDAIf,IAJe;;AAAA;AAAA;AAAA,qBAOY0E,aAAa,CAAC;AAChDuC,gBAAAA,SAAS,EAAE;AAAEK,kBAAAA,IAAI,EAAEzH;AAAR;AADqC,eAAD,CAPzB;;AAAA;AAAA;AAOhB0H,cAAAA,IAPgB,wBAOhBA,IAPgB;AAOVC,cAAAA,MAPU,wBAOVA,MAPU;;AAAA,oBAWrB,CAACD,IAAI,CAACE,SAAL,CAAe7G,MAAhB,IAA0B2G,IAAI,CAACE,SAAL,CAAeC,OAAzC,IAAoD,CAACH,IAAI,CAACE,SAAL,CAAeC,OAAf,CAAuBC,MAXvD;AAAA;AAAA;AAAA;;AAYtB3H,cAAAA,QAAQ,CAAC,gBAAD,CAAR;AAZsB,gDAaf,IAbe;;AAAA;AAAA,mBAgBrBwH,MAhBqB;AAAA;AAAA;AAAA;;AAiBtBxH,cAAAA,QAAQ,CAAC,gBAAD,CAAR;AAjBsB,gDAkBf,IAlBe;;AAAA;AAqBxB,kBAAIuH,IAAI,CAACE,SAAL,CAAe7G,MAAf,IAAyB2G,IAAI,CAACE,SAAL,CAAe7G,MAAf,CAAsBgH,UAAnD,EAA+D;AAC7D/G,gBAAAA,WAAW,CAAC0G,IAAI,CAACE,SAAL,CAAe7G,MAAhB,CAAX;AACA+B,gBAAAA,eAAe,iCACVD,YADU;AAEbH,kBAAAA,WAAW,EAAE1C,UAFA;AAGb4C,kBAAAA,QAAQ,EAAEpB;AAHG,mBAAf;AAMAvB,gBAAAA,aAAa,CAAC,EAAD,CAAb;AACD,eATD,MASO;AACLE,gBAAAA,QAAQ,CAAC,gBAAD,CAAR;AACD;;AAhCuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAjBqH,iBAAiB;AAAA;AAAA;AAAA,KAAvB;;AAkCA,MAAMQ,cAA0D,GAAG,SAA7DA,cAA6D,CAACC,CAAD,EAAO;AACxEhI,IAAAA,aAAa,CAACgI,CAAC,CAACC,aAAF,CAAgBC,KAAjB,CAAb;AACD,GAFD;;AAIA,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,SAAD,EAAe;AACrC,QAAMC,KAAK,GAAG7I,IAAI,CAAC8I,aAAL,CAAmB;AAAErJ,MAAAA,EAAE,EAAEmJ,SAAN;AAAiBG,MAAAA,cAAc,EAAE;AAAjC,KAAnB,CAAd;AACE/H,IAAAA,gBAAgB,CAAC6H,KAAD,CAAhB;AACAG,IAAAA,UAAU,CAAC;AAAA,aAAMhI,gBAAgB,CAAC,IAAD,CAAtB;AAAA,KAAD,EAA+B,IAA/B,CAAV;AACA,WAAO,IAAP;AACH,GALD;;AAQA,MAAMiI,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5B;AACA,QAAIC,QAAQ,GAAGvK,MAAM,CAAC,IAAIwK,IAAJ,EAAD,EAAa,WAAb,CAAN,CAAgCC,GAAhC,EAAf;AACA,QAAMC,SAAS,GAAG1K,MAAM,CAAC,IAAIwK,IAAJ,EAAD,EAAa,WAAb,CAAN,CAAgCG,IAAhC,EAAlB;AACA,QAAIC,YAAY,GAAG5K,MAAM,CAAC,IAAIwK,IAAJ,EAAD,CAAzB;AACA,QAAMK,KAAK,GAAG,CAAd;AAAgB,QAAMC,MAAM,GAAG,CAAf;AAAiB,QAAMC,SAAS,GAAG,CAAlB;AAAoB,QAAMC,MAAM,GAAG,CAAf;AAAiB,QAAMC,OAAO,GAAG,CAAhB;AAAkB,QAAMC,MAAM,GAAG,CAAf;AAAiB,QAAMC,OAAO,GAAG,CAAhB;AAEzG,QAAMC,aAAa,GAAG,EAAtB;;AACA,YAAQb,QAAR;AACE,WAAKU,OAAL;AACA,WAAKC,MAAL;AACA,WAAKC,OAAL;AACA,WAAKN,KAAL;AACED,QAAAA,YAAY,CAACS,GAAb,CAAiB,CAAjB,EAAoB,MAApB;AACA;;AACF,WAAKP,MAAL;AACE,YAAIJ,SAAS,IAAIU,aAAjB,EAAgC;AAC5BR,UAAAA,YAAY,CAACS,GAAb,CAAiB,CAAjB,EAAoB,MAApB;AACH;;AACD;;AACF,WAAKN,SAAL;AACI;AACF;;AACF,WAAKC,MAAL;AACE,YAAIN,SAAS,IAAIU,aAAjB,EAAgC;AAC5BR,UAAAA,YAAY,CAACS,GAAb,CAAiB,CAAjB,EAAoB,MAApB;AACH;;AACD;;AACF;AACE;AArBJ;;AAuBA,WAAOrL,MAAM,CAAC4K,YAAD,CAAN,CAAqBU,MAArB,CAA4B,aAA5B,CAAP;AACD,GAhCD;;AAkCA,MAAMC,YAAY;AAAA,yEAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AACb7E,cAAAA,cADa,GACYzG,uBAAuB,CAACwF,sBAAD,aAACA,sBAAD,uBAACA,sBAAsB,CAAEnF,IAAzB,CADnC;AAEbiH,cAAAA,QAFa,GAEMN,iBAAiB,EAFvB;AAGbU,cAAAA,YAHa,GAGUD,uBAAuB,EAHjC;AAIb8D,cAAAA,iBAJa,GAIO;AACxBC,gBAAAA,WAAW,EAAE3K,EADW;AAExB4K,gBAAAA,SAAS,EAAEhI,MAAM,CAACT,sBAAsB,EAAvB,CAFO;AAGxBmE,gBAAAA,KAAK,EAAE1D,MAAM,CAACX,cAAc,CAAC2D,cAAc,GAACa,QAAhB,CAAf,CAHW;AAIxBoE,gBAAAA,eAAe,EAAEjI,MAAM,CAACV,iBAAiB,EAAlB;AAJC,eAJP;AAYjBiB,cAAAA,cAZiB,GAoBfQ,YApBe,CAYjBR,cAZiB,EAajBC,iBAbiB,GAoBfO,YApBe,CAajBP,iBAbiB,EAcjBC,mBAdiB,GAoBfM,YApBe,CAcjBN,mBAdiB,EAejBC,kBAfiB,GAoBfK,YApBe,CAejBL,kBAfiB,EAgBjBO,uBAhBiB,GAoBfF,YApBe,CAgBjBE,uBAhBiB,EAiBjBN,iBAjBiB,GAoBfI,YApBe,CAiBjBJ,iBAjBiB,EAkBjBC,WAlBiB,GAoBfG,YApBe,CAkBjBH,WAlBiB,EAmBjBE,QAnBiB,GAoBfC,YApBe,CAmBjBD,QAnBiB;AAuBjBiH,cAAAA,WAvBiB,GA2BfD,iBA3Be,CAuBjBC,WAvBiB,EAwBjBC,SAxBiB,GA2BfF,iBA3Be,CAwBjBE,SAxBiB,EAyBjBtE,KAzBiB,GA2BfoE,iBA3Be,CAyBjBpE,KAzBiB,EA0BjBuE,eA1BiB,GA2BfH,iBA3Be,CA0BjBG,eA1BiB;AA4BnBC,cAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAiCzH,kBAAjC;;AA5BmB,kBA6BdA,kBA7Bc;AAAA;AAAA;AAAA;;AA6BQ4F,cAAAA,eAAe,CAAC,+BAAD,CAAf;AA7BR;;AAAA;AAAA,oBA8Bf,EAACvE,sBAAD,aAACA,sBAAD,uBAACA,sBAAsB,CAAEK,QAAzB,KAAqC,CAACa,eA9BvB;AAAA;AAAA;AAAA;;AA8B0CqD,cAAAA,eAAe,CAAC,oCAAD,CAAf;AA9B1C;;AAAA;AAAA,kBA+Bd/F,cA/Bc;AAAA;AAAA;AAAA;;AA+BI+F,cAAAA,eAAe,CAAC,8BAAD,CAAf;AA/BJ;;AAAA;AAAA,kBAgCd9F,iBAhCc;AAAA;AAAA;AAAA;;AAgCO8F,cAAAA,eAAe,CAACjD,aAAa,GAAG,qCAAH,GAA2C,qCAAzD,CAAf;AAhCP;;AAAA;AAAA,oBAkCf,CAAC0E,WAAD,IAAgB,CAACjH,QAlCF;AAAA;AAAA;AAAA;;AAmCjBnC,cAAAA,gBAAgB,CAAC,6BAAD,CAAhB;AAnCiB,gDAoCV,IApCU;;AAAA;AAsCnByB,cAAAA,UAAU,CAAC,IAAD,CAAV,CAtCmB,CAuCnB;;AAvCmB;AAAA;AAAA,qBAyC0BuB,gBAAgB,CAAC;AACxD2D,gBAAAA,SAAS,EAAE;AACP8C,kBAAAA,KAAK,EAAE;AACHL,oBAAAA,WAAW,EAAXA,WADG;AAEHxH,oBAAAA,cAAc,EAAdA,cAFG;AAGHC,oBAAAA,iBAAiB,EAAjBA,iBAHG;AAIHE,oBAAAA,kBAAkB,EAAlBA,kBAJG;AAKH2H,oBAAAA,aAAa,EAAE1H,iBALZ;AAMHE,oBAAAA,gBAAgB,EAAhBA,gBANG;AAOHmH,oBAAAA,SAAS,EAATA,SAPG;AAQHtE,oBAAAA,KAAK,EAALA,KARG;AASH9C,oBAAAA,WAAW,EAAXA,WATG;AAUHqH,oBAAAA,eAAe,EAAfA,eAVG;AAWHnH,oBAAAA,QAAQ,EAARA,QAXG;AAYHL,oBAAAA,mBAAmB,EAAnBA,mBAZG;AAaH6H,oBAAAA,kBAAkB,EAAE,KAbjB;AAcHC,oBAAAA,cAAc,EAAE5K,IAAI,CAAC6K;AAdlB;AADA;AAD6C,eAAD,CAzC1C;;AAAA;AAAA;AAyCAC,cAAAA,gBAzCA,yBAyCR5C,MAzCQ;;AA8Df,kBAAI,CAAC4C,gBAAL,EAAuB;AACnB,oBAAIpI,OAAJ,EAAa;AACTlB,kBAAAA,SAAS;AACTH,kBAAAA,YAAY;AACZf,kBAAAA,YAAY,CAAC,KAAD,CAAZ;AACEtF,kBAAAA,MAAM,CAAC+P,IAAP,CAAY;AACVC,oBAAAA,QAAQ,EAAE,iBADA;AAEVC,oBAAAA,KAAK,EAAE;AAAEC,sBAAAA,MAAM,EAAEzL;AAAV;AAFG,mBAAZ;AAIL;;AACDgD,gBAAAA,UAAU,CAAC,KAAD,CAAV;AACAE,gBAAAA,UAAU,CAAC,KAAD,CAAV;AACH;;AAED,kBAAImI,gBAAJ,EAAsB;AACpBlK,gBAAAA,aAAa,CAAC,uBAAAkK,gBAAgB,CAAC,CAAD,CAAhB,0EAAqB1C,OAArB,KAAgC,sBAAjC,CAAb;AACA3F,gBAAAA,UAAU,CAAC,KAAD,CAAV;AACD;;AA/Ec;AAAA;;AAAA;AAAA;AAAA;AAiFf8H,cAAAA,OAAO,CAACC,GAAR;;AACA,kBAAIW,OAAO,CAAC,sFAAD,CAAX,EAAqG;AACnGZ,gBAAAA,OAAO,CAACC,GAAR;AACA/H,gBAAAA,UAAU,CAAC,KAAD,CAAV;AACA2I,gBAAAA,YAAY;AACb;;AAtFc;AAwFf3I,cAAAA,UAAU,CAAC,KAAD,CAAV,CAxFe,CAyFnB;;AAzFmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZyH,YAAY;AAAA;AAAA;AAAA,KAAlB;;AA4FA,MAAMkB,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzB5J,IAAAA,SAAS;AACTH,IAAAA,YAAY;AACZf,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACAtF,IAAAA,MAAM,CAAC+P,IAAP,CAAY;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAZ;AACD,GALD;;AAOA,MAAMK,iBAAiB,GAAG1H,eAAe,CAAC1B,GAAhB,CAAoB,UAAA0D,cAAc,EAAI;AAC9D,WAAOA,cAAc,CAAClB,QAAf,GAA0BkB,cAAc,CAAClG,EAAzC,GAA8C,IAArD;AACD,GAFyB,CAA1B;AAGA,MAAM6L,iBAAiB,GAAG3H,eAAe,CAAC1B,GAAhB,CAAoB,UAAA0D,cAAc,EAAI;AAC9D,WAAO,CAACA,cAAc,CAAClB,QAAhB,GAA2BkB,cAAc,CAAClG,EAA1C,GAA+C,IAAtD;AACD,GAFyB,CAA1B;AAGA,MAAMiH,oBAAoB,GAAG2E,iBAAiB,CAACpF,QAAlB,CAA2B7C,YAAY,CAACL,kBAAxC,CAA7B;AACAwH,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA4BpH,YAA5B;AACAmH,EAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAsCpG,sBAAtC;AACAmG,EAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAuClH,uBAAvC;AACA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGE,MAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,oBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,MAAC,gBAAD;AACG,IAAA,EAAE,EAAGc,sBAAD,GAA2B,8BAA3B,GAA4D,sBADnE;AAEG,IAAA,cAAc,EAAC,2BAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADA,EAQE,MAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACIA,sBAAsB,GACrB,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,MAAC,eAAD;AACG,IAAA,KAAK,EAAE,CAACA,sBAAD,CADV;AAEG,IAAA,SAAS,EAAE,mBAAClC,IAAD,EAAYC,KAAZ;AAAA,aACT,MAAC,SAAD;AACE,QAAA,EAAE,EAAED,IAAI,CAACzC,EADX;AAEE,QAAA,GAAG,EAAEyC,IAAI,CAACzC,EAFZ;AAGE,QAAA,KAAK,EAAE,CAAA2E,sBAAsB,SAAtB,IAAAA,sBAAsB,WAAtB,YAAAA,sBAAsB,CAAEK,QAAxB,qBAA6CvC,IAAI,CAACjD,IAAlD,cAHT,CAGgF;AAC9E;AAJF;AAKE,QAAA,OAAO,EAAEiD,IAAI,CAACwC,OALhB;AAME,QAAA,IAAI,EAAExC,IAAI,CAACuC,QAAL,IAAiBvC,IAAI,CAACwD,aAAtB,GAAsCxD,IAAI,CAACwD,aAA3C,GAA2D,IANnE;AAOE,QAAA,IAAI,EAAC,UAPP;AAQE,QAAA,OAAO,EAAE,IARX;AASE,QAAA,iBAAiB,EAAE,KATrB;AAUE,QAAA,OAAO,EAAE;AAAA,iBAAMrC,eAAe,iCACzBD,YADyB;AAE5BL,YAAAA,kBAAkB,EAAEb,IAAI,CAACzC,EAFG;AAG5B0D,YAAAA,QAAQ,EAAEpB;AAHkB,aAArB;AAAA,SAVX;AAeE,QAAA,QAAQ,EAAE,oBAAK;AACb,iBAAOb,QAAQ,CAAC;AACduG,YAAAA,IAAI,EAAE,sBADQ;AAEdC,YAAAA,OAAO,EAAExF,IAAI,CAACzC,EAAL,CAAQ8L,QAAR;AAFK,WAAD,CAAf;AAIC,SApBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADS;AAAA,KAFd;AA2BE,IAAA,kBAAkB,EAAGnH,sBAAsB,GAC1C,MAAC,MAAD;AACE,MAAA,SAAS,EAAC,cADZ;AAEE,MAAA,OAAO,EAAC,MAFV;AAGE,MAAA,IAAI,EAAC,QAHP;AAIE,MAAA,OAAO,EAAEE,uCAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAME,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,MAAC,IAAD;AAAM,MAAA,KAAK,EAAC,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CANF,EASE,MAAC,gBAAD;AAAkB,MAAA,EAAE,EAAC,sBAArB;AAA4C,MAAA,cAAc,EAAC,sBAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,CAD0C,GAYtC,IAvCP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,CADqB,GA8CtB,MAAC,iBAAD;AACE,IAAA,iBAAiB,EAAEO,iBADrB;AAEE,IAAA,0BAA0B,EAAEhE,0BAF9B;AAGE,IAAA,qBAAqB,EAAEC,qBAHzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA/CJ,EAsDI,CAAAwC,uBAAuB,SAAvB,IAAAA,uBAAuB,WAAvB,YAAAA,uBAAuB,CAAEtB,MAAzB,IAAkC,CAAlC,IAAuCnB,0BAA0B,KAAK3E,wBAAwB,CAACsP,QAA/F,IACA,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,4BADH,EAEE,MAAC,aAAD;AACE,IAAA,KAAK,EAAElI,uBADT;AAEI,IAAA,SAAS,EAAE,mBAACpB,IAAD,EAAYC,KAAZ;AAAA,aACT,MAAC,YAAD;AACE,QAAA,EAAE,EAAEA,KADN;AAEE,QAAA,GAAG,EAAEA,KAFP;AAGE,QAAA,OAAO,EAAED,IAAI,CAACgD,OAHhB;AAIE,QAAA,QAAQ,EAAEhD,IAAI,CAACiD,QAJjB;AAKE,QAAA,YAAY,EAAEjD,IAAI,CAACuE,YALrB;AAME,QAAA,KAAK,EAAEvE,IAAI,CAACsE,KANd;AAOE,QAAA,IAAI,EAAC,SAPP;AAQE,QAAA,SAAS,EAAEtE,IAAI,CAACzC,EAAL,MAAY2E,sBAAZ,aAAYA,sBAAZ,uBAAYA,sBAAsB,CAAE3E,EAApC,CARb;AASE,QAAA,OAAO,EAAE,mBAAM;AAAA;;AAAC4D,UAAAA,eAAe,iCAC1BD,YAD0B;AAE7BF,YAAAA,gBAAgB,YAAMhB,IAAI,CAACsE,KAAX,gEACdtE,IAAI,CAACgD,OADS,kDACd,cAAcP,KAAd,CAAoB,GAApB,EAAyB,CAAzB,CADc,gCACiBzC,IAAI,CAACgD,OADtB,mDACiB,eAAcP,KAAd,CAAoB,GAApB,EAAyB,CAAzB,CADjB,eACiDzC,IAAI,CAACiD,QADtD,eACmEjD,IAAI,CAACuE,YADxE,qCAFa;AAK7BtD,YAAAA,QAAQ,EAAEpB;AALmB,aAAf;AAMZ8C,UAAAA,iBAAiB,CAAC3C,IAAD,EAAO,IAAP,CAAjB;AAA+B,SAfrC,CAgBE;AACA;AACA;AACA;AAnBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADS;AAAA,KAFf;AAyBE,IAAA,kBAAkB,EAAGoD,eAAe,GAAG,IAAH,GACjC,MAAC,MAAD;AACD,MAAA,SAAS,EAAC,WADT;AAED,MAAA,OAAO,EAAC,MAFP;AAGD,MAAA,IAAI,EAAC,QAHJ;AAID,MAAA,OAAO,EAAE;AAAA,eAAMhB,uCAAuC,EAA7C;AAAA,OAJR,CAKD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAcD,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,IAAD;AAAM,MAAA,KAAK,EAAC,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAdC,EAiBD,MAAC,gBAAD;AAAkB,MAAA,EAAE,EAAC,iBAArB;AAAuC,MAAA,cAAc,EAAC,SAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAjBC,CA1BL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAvDJ,CARF,CAHF,EAyHE,MAAC,gBAAD;AACE,IAAA,iCAAiC,EAAEF,sBADrC;AAEE,IAAA,mBAAmB,EAAEG,mBAFvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzHF,EA+HE,MAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,MAAC,oBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,EAEE,MAAC,gBAAD;AACE,IAAA,EAAE,EAAC,mBADL;AAEE,IAAA,cAAc,EAAC,4BAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,EAQE,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,eAAD;AACE,IAAA,KAAK,EAAEd,MADT;AAEE,IAAA,SAAS,EAAE,mBAACvB,IAAD,EAAYC,KAAZ;AAAA,aACT,MAAC,SAAD;AACE,QAAA,EAAE,EAAEA,KADN;AAEE,QAAA,GAAG,EAAEA,KAFP;AAGE,QAAA,KAAK,EAAED,IAAI,CAACsD,UAAL,GAAkBxF,IAAI,CAAC8I,aAAL,CAAmB;AAAErJ,UAAAA,EAAE,EAAE,WAAN;AAAmBsJ,UAAAA,cAAc,EAAE;AAAnC,SAAnB,CAAlB,GAAuF/I,IAAI,CAAC8I,aAAL,CAAmB;AAAErJ,UAAAA,EAAE,EAAE,aAAN;AAAqBsJ,UAAAA,cAAc,EAAE;AAArC,SAAnB,CAHhG;AAIE,QAAA,OAAO,EAAE7G,IAAI,CAACyE,MAJhB;AAKE,QAAA,OAAO,EAAEzE,IAAI,CAACsD,UAAL,KAAoB,IAL/B;AAME,QAAA,QAAQ,EAAE;AAAA,iBAAKsC,aAAa,CAAC5F,IAAD,EAAO,SAAP,CAAlB;AAAA,SANZ;AAOE,QAAA,OAAO,EAAE;AAAA,iBAAMmB,eAAe,iCACzBD,YADyB;AAE5BR,YAAAA,cAAc,EAAEV,IAAI,CAACyE,MAFO;AAG5BxD,YAAAA,QAAQ,EAAEpB;AAHkB,aAArB;AAAA,SAPX;AAYE,QAAA,IAAI,EAAC,SAZP;AAaE,QAAA,MAAM,EAAE;AAAA,iBAAMyF,gBAAgB,CAACtF,IAAD,EAAOC,KAAP,EAAc,MAAd,EAAsB,SAAtB,CAAtB;AAAA,SAbV;AAcE,QAAA,QAAQ,EAAE;AAAA,iBACRqF,gBAAgB,CAACtF,IAAD,EAAOC,KAAP,EAAc,QAAd,EAAwB,SAAxB,CADR;AAAA,SAdZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADS;AAAA,KAFb;AAsBE,IAAA,kBAAkB,EAChB,MAAC,MAAD;AACE,MAAA,SAAS,EAAC,WADZ;AAEE,MAAA,OAAO,EAAC,MAFV;AAGE,MAAA,IAAI,EAAC,QAHP;AAIE,MAAA,OAAO,EAAE;AAAA,eACP8C,WAAW,CACTzJ,aADS,EAET;AACC0G,UAAAA,IAAI,EAAC,EADN;AAECzC,UAAAA,EAAE,EAAFA;AAFD,SAFS,EAMV,mBANU,CADJ;AAAA,OAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAeE,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,IAAD;AAAM,MAAA,KAAK,EAAC,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAfF,EAkBE,MAAC,gBAAD;AACE,MAAA,EAAE,EAAC,eADL;AAEE,MAAA,cAAc,EAAC,aAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlBF,CAvBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CARF,CA/HF,EAmPE,MAAC,cAAD;AACE,IAAA,SAAS,EAAC,YADZ;AAEE,IAAA,KAAK,EAAE;AAAEgM,MAAAA,aAAa,EAAE;AAAjB,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,oBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,MAAC,gBAAD;AACE,IAAA,EAAE,EAAC,mBADL;AAEE,IAAA,cAAc,EAAC,uBAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAJF,EAaE,MAAC,YAAD;AACE,IAAA,IAAI,EAAC,SADP;AAEE,IAAA,UAAU,EAAErL,UAFd;AAGE,IAAA,KAAK,EAAEoD,cAHT;AAIE,IAAA,iBAAiB,EAAE,2BAACtB,IAAD,EAAYuF,IAAZ;AAAA,aAA8B,IAA9B;AAAA,KAJrB;AAKE,IAAA,OAAO,EAAE,iBAACvF,IAAD,EAAe;AACrBmB,MAAAA,eAAe,iCACXD,YADW;AAEbP,QAAAA,iBAAiB,EAAEX,IAAI,CAACzC,EAFX;AAGdqD,QAAAA,mBAAmB,EAAEZ,IAAI,CAACuF,IAHZ;AAIdtE,QAAAA,QAAQ,EAAEpB;AAJI,SAAf;AAMD,aAAO,IAAP;AACC,KAbL;AAeE,IAAA,QAAQ,EAAE,kBAACG,IAAD,EAAc;AACtB,aAAOhB,QAAQ,CAAC;AACduG,QAAAA,IAAI,EAAE,kBADQ;AAEdC,QAAAA,OAAO,EAAExF,IAAI,CAACzC,EAAL,CAAQ8L,QAAR;AAFK,OAAD,CAAf;AAIC,KApBL;AAsBE,IAAA,gBAAgB,EAAE;AAAA,aAAM,IAAN;AAAA,KAtBpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbF,EAyFE,MAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,gBAAD;AACE,IAAA,EAAE,EAAC,wBADL;AAEE,IAAA,cAAc,EAAC,0CAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAKE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,gBAAD;AACE,IAAA,EAAE,EAAC,kBADL;AAEE,IAAA,cAAc,EAAC,uBAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CALF,CAzFF,EAyGGxK,aAAa,IACJ,MAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,gBAAD;AACI,IAAA,EAAE,EAAC,eADP;AAEI,IAAA,cAAc,EAAEA,aAFpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CA1GZ,EAkHE,MAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AACI,IAAA,IAAI,EAAC,QADT;AAEI,IAAA,OAAO,EAAEmJ,YAFb;AAGI,IAAA,QAAQ,EAAE1H,OAHd;AAII,IAAA,IAAI,EAAC,KAJT;AAKI,IAAA,OAAO,EAAEA,OALb;AAMI,IAAA,KAAK,EAAE;AAAEyE,MAAAA,KAAK,EAAE;AAAT,KANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQE,MAAC,gBAAD;AACE,IAAA,EAAE,EAAEzE,OAAO,GAAG,sBAAH,GAA4B,iBADzC;AAEE,IAAA,cAAc,EAAC,qBAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,SAYOvG,QAZP,EAYiByF,cAAc,CAAC9C,uBAAuB,CAACwF,sBAAD,aAACA,sBAAD,uBAACA,sBAAsB,CAAEnF,IAAzB,CAAvB,GAAsD2G,iBAAiB,EAAxE,CAZ/B,MADF,CAlHF,EAkII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEKjF,UAAU,IACP,MAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIA,UAAJ,CADJ,CAHR,CAlIJ,CAnPF,CADF,EAiYE,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE,MAAC,MAAD;AACE,IAAA,OAAO,EAAEwD,IAAI,CAAC8C,KAAL,IAAc,GAAd,GAAoB,IAApB,GAA2B,KADtC;AAEE,IAAA,GAAG,EAAE,GAFP;AAGE,IAAA,MAAM,EAAE,GAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,gBAAD;AACE,IAAA,EAAE,EAAC,WADL;AAEE,IAAA,cAAc,EAAC,eAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAQE,MAAC,UAAD;AACE,IAAA,SAAS,MADX;AAEE,IAAA,QAAQ,MAFV;AAGE,IAAA,UAAU,MAHZ;AAIE,IAAA,aAAa,EAAC,OAJhB;AAKE,IAAA,UAAU,EAAE,oBAACyE,KAAD;AAAA,aACV,0BACMA,KADN;AAEE,QAAA,KAAK,kCACAA,KAAK,CAACC,KADN;AAEHC,UAAAA,UAAU,EAAEzK,KAAK,GAAGuK,KAAK,CAACC,KAAN,CAAYE,WAAf,GAA6B,CAF3C;AAGHA,UAAAA,WAAW,EAAE1K,KAAK,GAAG,CAAH,GAAOuK,KAAK,CAACC,KAAN,CAAYE,WAHlC;AAIHC,UAAAA,WAAW,EAAE3K,KAAK,GAAG,EAAH,GAAQ,CAJvB;AAKH4K,UAAAA,YAAY,EAAE5K,KAAK,GAAG,CAAH,GAAO;AALvB,UAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADU;AAAA,KALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAkBE,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGM,cAAc,GAAG,CAAjB,GACCL,KAAK,CAACa,GAAN,CAAU,UAACC,IAAD;AAAA,WACR,MAAC,SAAD;AAAW,MAAA,GAAG,qBAAcA,IAAI,CAACzC,EAAnB,CAAd;AAAuC,MAAA,OAAO,EAAEyC,IAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADQ;AAAA,GAAV,CADD,GAKC,4BACE,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAKE,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,gBAAD;AACE,IAAA,EAAE,EAAC,gBADL;AAEE,IAAA,cAAc,EAAC,mBAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CALF,CANJ,CAlBF,CARF,EAgDE,MAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,gBAAD;AAAkB,IAAA,EAAE,EAAC,UAArB;AAAgC,IAAA,cAAc,EAAC,UAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGjG,QADH,OACc2F,sBAAsB,EADpC,CAJF,CADF,EAUE,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,gBAAD;AAAkB,IAAA,EAAE,EAAC,cAArB;AAAoC,IAAA,cAAc,EAAC,UAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG3F,QADH,OACc0F,iBAAiB,EAD/B,CAJF,CAVF,EAmBGiE,iBAAiB,KAAK,CAAtB,IACC,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,gBAAD;AAAkB,IAAA,EAAE,EAAC,eAArB;AAAqC,IAAA,cAAc,EAAC,aAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG3J,QADH,6BACc2J,iBAAiB,EAD/B,uDACc,mBAAqB3F,OAArB,CAA6B,CAA7B,CADd,CAJF,CApBJ,EA8BE,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,gBAAD;AAAkB,IAAA,EAAE,EAAC,oBAArB;AAA0C,IAAA,cAAc,EAAC,iBAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGhE,QADH,OACc2C,uBAAuB,CAACwF,sBAAD,aAACA,sBAAD,uBAACA,sBAAsB,CAAEnF,IAAzB,CADrC,CAJF,CA9BF,EAuCE,MAAC,WAAD;AAAa,IAAA,KAAK,EAAE;AAAE+M,MAAAA,SAAS,EAAE;AAAb,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,gBAAD;AAAkB,IAAA,EAAE,EAAC,WAArB;AAAiC,IAAA,cAAc,EAAC,OAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAC6D,GAD7D,CADF,EAIE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG/P,QADH,OACcyF,cAAc,CAAC9C,uBAAuB,CAACwF,sBAAD,aAACA,sBAAD,uBAACA,sBAAsB,CAAEnF,IAAzB,CAAvB,GAAsD2G,iBAAiB,EAAxE,CAD5B,CAJF,CAvCF,CAhDF,CALF,CAFF,CAjYF,CADF,CADF,CADF;AAkfD,CAt8BD;;IAAM1F,mB;UASc1B,S,EAadD,O,EACSD,O,EA4CuBlC,W,EACJA,W,EACQA,W,EACJA,W,EACTA,W,EAEKA,W,EACIA,W,EACvBqC,a,EA6CWrC,W;;;MAxHpB8D,mB;AAw8BN,eAAeA,mBAAf","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport Router from 'next/router';\nimport Link from 'next/link';\nimport { Button } from 'components/button/button';\nimport RadioCard from 'components/radio-card/radio-card';\nimport RadioGroup from 'components/radio-group/radio-group';\nimport RadioGroupTwo from 'components/radio-group/radio-group-two';\nimport RadioGroupThree from 'components/radio-group/radio-group-three';\nimport RadioCardTWO from 'components/radio-card/radio-card-two';\nimport PaymentGroup from 'components/payment-group/payment-group';\nimport UpdateContact from 'components/contact-card/contact-card';\nimport { DELETE_ADDRESS, SETPRIMARY_ADDRESS } from 'graphql/mutation/address';\nimport { DELETE_PHONENUMBER, SETPRIMARY_PHONENUMBER } from 'graphql/mutation/phone';\nimport { CREAT_ORDER } from 'graphql/mutation/order';\nimport { GET_COUPON } from 'graphql/query/coupon';\nimport { DELIVERY_METHOD } from 'graphql/query/delivery';\nimport { DELETE_CARD } from 'graphql/mutation/card';\nimport { DELETE_CONTACT } from 'graphql/mutation/contact';\nimport { CC_PAYMENT_OPTION, CURRENCY, deliveryCarrySelectOptions, deliveryMethodCookieKeyName, DeliveryMethodsConstants } from 'utils/constant';\nimport { openModal } from '@redq/reuse-modal';\nimport { useMutation, useQuery } from '@apollo/react-hooks';\nimport { Scrollbars } from 'react-custom-scrollbars';\nimport CheckoutWrapper, {\n  CheckoutContainer,\n  CheckoutInformation,\n  InformationBox,\n  DeliverySchedule,\n  Heading,\n  ButtonGroup,\n  CheckoutSubmit,\n  HaveCoupon,\n  CouponBoxWrapper,\n  CouponInputBox,\n  HeadingWider,\n  CouponCode,\n  RemoveCoupon,\n  ErrorMsg,\n  TermConditionText,\n  TermConditionLink,\n  CartWrapper,\n  CalculationWrapper,\n  OrderInfo,\n  Title,\n  ItemsWrapper,\n  Items,\n  Quantity,\n  Multiplier,\n  ItemInfo,\n  Price,\n  TextWrapper,\n  Text,\n  Bold,\n  Small,\n  NoProductMsg,\n  NoProductImg,\n  IconWrapper,\n  DeliveryTypesOptions,\n} from './checkout-two.style';\nimport CouponBox from 'components/coupon-box/coupon-box';\n\nimport { Plus } from 'assets/icons/PlusMinus';\nimport { NoCartBag } from 'assets/icons/NoCartBag';\n\nimport Sticky from 'react-stickynode';\nimport { ProfileContext } from 'contexts/profile/profile.context';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { useCart } from 'contexts/cart/use-cart';\nimport { APPLY_COUPON } from 'graphql/mutation/coupon';\nimport { useLocale } from 'contexts/language/language.provider';\nimport { useWindowSize } from 'utils/useWindowSize';\n\n\nimport UpdateAddressTwo from 'components/address-card/address-card-two';\nimport moment from 'moment';\nimport { calculateDeliveryCharge, capitalizeFirstLetter } from 'utils/shop-helper';\nimport DeliverySelection from 'features/checkouts/checkout-two-sections/delivery-selection';\nimport { getCookie, setCookie } from 'utils/session';\nimport { DeliveryIcon } from 'assets/icons/DeliveryIcon';\n\n\n// The type of props Checkout Form receives\ninterface MyFormProps {\n  token: string;\n  deviceType: any;\n}\n\ntype CartItemProps = {\n  product: any;\n};\n\nconst OrderItem: React.FC<CartItemProps> = ({ product }) => {\n  const { name, images, price, salePrice, unit, quantity = 0, recicledQuantity = 0, packagePrice, id } = product;\n  const recicledPrice = price - packagePrice;\n  const totalQuantity = quantity + recicledQuantity;\n  const displayPrice = salePrice || price;\n  const nonRecicledTotalPrice = displayPrice * quantity;\n  const recicledTotalPrice = recicledPrice * recicledQuantity;\n  const totalPrice = nonRecicledTotalPrice + recicledTotalPrice\n  \n  const intl = useIntl();\n  return (\n    <Items key={id}>\n      {/* <Multiplier>x</Multiplier> */}\n      <ItemInfo>\n        { recicledQuantity > 0 && (\n          <>\n            <Quantity>{name}</Quantity>\n            <br />\n            {recicledQuantity} X {CURRENCY}{recicledPrice}\n            <br />\n          </>\n        )}\n        { quantity > 0 && (\n          <>\n            <Quantity>{name}</Quantity>\n            <br />\n            {quantity} X {CURRENCY}{price}\n          </>\n        )}\n      </ItemInfo>\n      <Price>\n        {CURRENCY}\n        {(totalPrice).toFixed(2)}\n      </Price>\n    </Items>\n  );\n};\n\nconst CheckoutWithSidebar: React.FC<MyFormProps> = ({ token, deviceType }) => {\n\n  const [hasCoupon, setHasCoupon] = useState(false);\n  const [couponCode, setCouponCode] = useState('');\n  const [couponError, setError] = useState('');\n  const [orderError, setOrderError] = useState('');\n  const [deliveryMethodTypeSelected, setDeliveryMethodType] = React.useState();\n  const [checkoutError, setCheckoutError] = useState('');\n  const { state, dispatch } = useContext(ProfileContext);\n  const { isRtl } = useLocale();\n  const {\n    items,\n    removeCoupon,\n    coupon,\n    applyCoupon,\n    clearCart,\n    cartItemsCount,\n    calculatePrice,\n    calculateDiscount,\n    calculateSubTotalPrice,\n    isRestaurant,\n    toggleRestaurant,\n  } = useCart();\n  const intl = useIntl();\n\n  let cartProduct= null;\n\n  if (items.length > 0) {\n    cartProduct = items.map((item: any, index:any) => (\n      {\n      product_id: item.id,\n      unit: item.unit,\n      quantity: Number(item.quantity) || 0,\n      recicledQuantity: Number(item.recicledQuantity) || 0,\n      sale_price: item.sale_price,\n      // price: (Number(item.quantity || 0) * item.price) + (Number(item.recicledQuantity || 0) * (item.price - (item.packagePrice || 0))),\n      price: item.price,\n      image: item.images[0],\n      name: item.name,\n    }))\n  }\n  const [loading, setLoading] = useState(false);\n  const [isValid, setIsValid] = useState(false);\n  \n  const [submitResult, setSubmitResult] = useState({\n    contact_number: '',\n    payment_option_id: '',\n    payment_option_type: '',\n    delivery_method_id: '',\n    delivery_schedule: '', \n    coupon_code: '',\n    delivery_address: null,\n    products: null\n });\n\n  const {    \n    delivery_address: user_delivery_addresses, \n    contact, \n    paymentMethods, \n    phones,\n    name,\n    email,\n    id,\n    deliveryMethods\n  } = state;\n\n  //set mututions\n  const [setprimaryAddressMutation] = useMutation(SETPRIMARY_ADDRESS);\n  const [deleteAddressMutation] = useMutation(DELETE_ADDRESS);\n  const [setprimaryPhoneNumberMutation] = useMutation(SETPRIMARY_PHONENUMBER);\n  const [deletePhoneNumberMutation] = useMutation(DELETE_PHONENUMBER);\n  const [setOrderMutation] = useMutation(CREAT_ORDER);\n\n  const [deleteContactMutation] = useMutation(DELETE_CONTACT);\n  const [deletePaymentCardMutation] = useMutation(DELETE_CARD);\n  const size = useWindowSize();\n  const [deliveryMethodSelected, setDeliveryMethodsSelected] = React.useState();\n\n  // useEffect(() => {\n  //   if (getCookie(deliveryMethodCookieKeyName) && !deliveryMethodSelected) {\n  //     const deliveryMethodSelected: any = JSON.parse(getCookie(deliveryMethodCookieKeyName));\n  //     setDeliveryMethodsSelected(deliveryMethodSelected)\n  //     console.log('seyed: deliveryMethodSelected', deliveryMethodSelected)\n  //     setSubmitResult({\n  //       ...submitResult,\n  //       delivery_method_id: deliveryMethodSelected?.id || '', \n  //     })\n  //   }\n  // }, [deliveryMethodSelected]);\n\n  const resetDeliveryMethodAndDeleteSavedCookie =  () => {\n    setDeliveryMethodsSelected(null)\n    // setCookie(deliveryMethodCookieKeyName, null);\n  };\n\n  const setDeliverySchedule =  (scheduleSelected) => {\n    // const delivery_date_text = ;\n    // const deliveryDateAndTime = `${getDeliverySchedule(deliveryMethodSelected?.details)} - ${moment(deliveryDate).format('DD MMM')}`;\n    // setCookie(deliveryMethodCookieKeyName, methodSelected);\n    setSubmitResult({\n      ...submitResult,\n      delivery_schedule: scheduleSelected?.isPickUp ? scheduleSelected?.details.split(\"|\")[1]?.trim() : `${scheduleSelected?.details.split(\"|\")[0]?.trim()} ${scheduleSelected?.details.split(\"|\")[1]?.trim()}`\n    })\n  };\n\n  const setDeliveryMethod =  (methodSelected, addressAlreadyAddedSelected) => {\n    setDeliveryMethodsSelected(methodSelected)\n    setSubmitResult({\n      ...submitResult,\n      delivery_method_id: methodSelected.id, \n      delivery_address: methodSelected.deliveryAddress?.split(\",\")[0]\n    })\n\n    if (!methodSelected.isPickUp && !addressAlreadyAddedSelected) {\n      handleModal(UpdateAddressTwo,  { item:{ address: methodSelected.deliveryAddress?.split(\",\")[0], location: methodSelected.deliveryAddress?.split(\",\")[1] }, id }, 'add-address-modal');\n    } \n    \n    // handleEditDelete(addressValue, null, 'edit', 'address');\n  };\n\n  const [appliedCoupon] = useMutation(GET_COUPON);\n  let deliveryCharge = 0;\n  const selectedAddress = user_delivery_addresses && user_delivery_addresses.find(\n    (item) => item.is_primary === true\n  );\n  const selectedContact= phones.find(\n    (item) => item.is_primary === true\n  );\n\n  const pickUpAddress = deliveryMethods.find(deliveryMethod => {\n    return submitResult.delivery_method_id === deliveryMethod.id;\n  })?.pickUpAddress;\n\n  const calculateCCCharge = () => {\n    const paymentOptionSelected = paymentMethods.find(paymentMethod => {\n      return submitResult?.payment_option_id === paymentMethod?.id;\n    });\n\n    const total = Number(calculateSubTotalPrice());\n\n    if (paymentOptionSelected?.name?.toLowerCase().includes('tarjeta') || paymentOptionSelected?.name?.toLowerCase().includes('card')) {\n      const ccCharge = paymentOptionSelected?.name?.replace(/\\D/g, '');\n      const result = total * (ccCharge / 100);\n      return result;\n    }\n    return 0;\n  }\n\n  const calculateIfCashDiscount = () => {\n    const paymentOptionSelected = paymentMethods.find(paymentMethod => {\n      return submitResult?.payment_option_id === paymentMethod?.id;\n    });\n\n    const total = Number(calculateSubTotalPrice());\n\n    if (paymentOptionSelected?.name?.toLowerCase().includes('efectivo')) {\n      const cashDiscount = 5;\n      const result = total * (cashDiscount / 100);\n      return result;\n    }\n    return 0;\n  }\n\n  const selectedAddressText = selectedAddress?.address ? `${selectedAddress && capitalizeFirstLetter(selectedAddress.title)} - ${selectedAddress && capitalizeFirstLetter(selectedAddress.address)}, ${selectedAddress && selectedAddress.instructions}` : null;\n\n  useEffect(() => {\n    removeCoupon();\n    setHasCoupon(false);\n    \n    deliveryCharge = calculateDeliveryCharge(deliveryMethodSelected?.name);\n    const deliveryAddress = pickUpOptionSelected ? pickUpAddress : selectedAddressText;\n    // console.log('here',deliveryMethodSelected?.deliveryAddress)\n    setSubmitResult({\n      ...submitResult,\n      delivery_address: deliveryMethodSelected?.deliveryAddress,\n      // delivery_method_id: deliveryMethodSelected?.id,\n      products: cartProduct,\n      contact_number: selectedContact.number\n    })\n    if (\n      calculatePrice() > 0 &&\n      cartItemsCount > 0 &&\n      (submitResult?.delivery_method_id || pickUpAddress) &&\n      phones.length &&\n      deliveryMethods.length\n    ) {\n      setIsValid(true);\n    }\n  }, [state, deliveryMethodSelected]);\n\n  // Add or edit modal\n  const handleModal = (\n    modalComponent: any,\n    modalProps = {},\n    className: string = 'add-address-modal'\n  ) => {\n    openModal({\n      show: true,\n      config: {\n        width: 360,\n        height: 'auto',\n        enableResizing: false,\n        disableDragging: true,\n        className: className,\n      },\n      closeOnClickOutside: true,\n      component: modalComponent,\n      componentProps: { item: modalProps },\n    });\n  };\n\n  const handleEditDelete = async (item: any, index: any, type: string, name: string) => {\n    if (type === 'edit') {\n      const modalComponent = name === 'address' ? UpdateAddressTwo : UpdateContact;\n      handleModal(modalComponent,{\n        item,\n        id\n      });\n    } else {\n      switch (name) {\n       /* case 'payment':\n          dispatch({ type: 'DELETE_CARD', payload: item.id });\n          return await deletePaymentCardMutation({\n            variables: { cardId: JSON.stringify(item.id) },\n          });\n        */\n        case 'contact':\n          if(phones.length > 1){\n            dispatch({ type: 'DELETE_CONTACT', payload: item.id });\n            return await deletePhoneNumberMutation({\n              variables: { \n                id,\n                phoneId: item.id\n              },\n            });\n          }else{\n            return null\n          }\n        case 'address':\n          if(user_delivery_addresses.length >= 1){\n          dispatch({ type: 'DELETE_ADDRESS', payload: item.id });\n            return await deleteAddressMutation({\n              variables: { \n                id,\n                addressId: item.id\n              },\n            });\n          }else{\n            return null\n          }\n        default:\n          return false;\n      }\n    }\n  };\n\n  const handlePrimary = async (item: any, name: string) => {\n    switch (name) {\n      case 'contact':\n        dispatch({ type: 'SET_PRIMARY_CONTACT', payload: item.id });\n        return await setprimaryPhoneNumberMutation({\n          variables: { \n            id,\n            phoneId: item.id\n          },\n        });\n      case 'address':\n        dispatch({ type: 'SET_PRIMARY_ADDRESS', payload: item.id });\n          return await setprimaryAddressMutation({\n            variables: { \n              id,\n              addressId: item.id\n            },\n          });\n      default:\n        return false;\n    }\n  };\n\n  const handleApplyCoupon = async () => {\n\n    if(!couponCode){\n      setError('Invalid Coupon');\n      return null;\n    }\n\n    const { data, errors }: any = await appliedCoupon({\n      variables: { code: couponCode },\n    });\n\n    if(!data.getCoupon.coupon && data.getCoupon.message && !data.getCoupon.message.status){\n      setError('Invalid Coupon');\n      return null;\n    }\n\n    if(errors){\n      setError('Invalid Coupon');\n      return null;\n    }\n\n    if (data.getCoupon.coupon && data.getCoupon.coupon.percentage) {\n      applyCoupon(data.getCoupon.coupon);\n      setSubmitResult({\n        ...submitResult,\n        coupon_code: couponCode,\n        products: cartProduct\n      });\n\n      setCouponCode('');\n    } else {\n      setError('Invalid Coupon');\n    }\n  };\n  const handleOnUpdate: React.ChangeEventHandler<HTMLInputElement> = (e) => {\n    setCouponCode(e.currentTarget.value);\n  };\n\n  const setErrorFor5Sec = (messageId) => {\n    const error = intl.formatMessage({ id: messageId, defaultMessage: 'Please check the form' })\n      setCheckoutError(error);\n      setTimeout(() => setCheckoutError(null), 3500)\n      return null;\n  };\n\n\n  const getDeliveryDate = () => {\n    // moment.locale('es');\n    let orderDay = moment(new Date(), 'MM/D/YYYY').day();\n    const orderHour = moment(new Date(), 'MM/D/YYYY').hour();\n    let deliveryDate = moment(new Date());\n    const lunes = 1;const martes = 2;const miercoles = 3;const jueves = 4;const viernes = 5;const sabado = 6;const domingo = 7;\n\n    const lastOrderTime = 12;\n    switch (orderDay) {\n      case viernes:\n      case sabado:\n      case domingo:\n      case lunes:\n        deliveryDate.add(1, 'days');\n        break;\n      case martes:\n        if (orderHour >= lastOrderTime) {\n            deliveryDate.add(2, 'days');\n        }\n        break;\n      case miercoles:\n          // deliveryDate.add(1, 'days');\n        break;\n      case jueves:\n        if (orderHour >= lastOrderTime) {\n            deliveryDate.add(5, 'days');\n        }\n        break;\n      default:\n        break;\n    }\n    return moment(deliveryDate).format('dddd DD MMM');\n  }\n\n  const handleSubmit = async () => {\n    const deliveryCharge: number = calculateDeliveryCharge(deliveryMethodSelected?.name);\n    const ccCharge: number = calculateCCCharge();\n    const cashDiscount: number = calculateIfCashDiscount();\n    const otherSubmitResult = {\n      customer_id: id,\n      sub_total: Number(calculateSubTotalPrice()),\n      total: Number(calculatePrice(deliveryCharge+ccCharge)),\n      discount_amount: Number(calculateDiscount()),\n    }\n\n    const {\n      contact_number,\n      payment_option_id,\n      payment_option_type,\n      delivery_method_id,\n      user_delivery_addresses,\n      delivery_schedule,\n      coupon_code,\n      products\n    } = submitResult;\n\n    const {\n      customer_id,\n      sub_total,\n      total,\n      discount_amount\n    } = otherSubmitResult;\n    console.log('delivery_method_id',delivery_method_id)\n    if (!delivery_method_id) { setErrorFor5Sec('checkoutDeliveryMethodInvalid');return; }\n    if (!deliveryMethodSelected?.isPickUp && !selectedAddress) { setErrorFor5Sec('checkoutDeliveryAddressNotComplete');return; }\n    if (!contact_number) { setErrorFor5Sec('checkoutContactNumberInvalid');return; }\n    if (!payment_option_id) { setErrorFor5Sec(pickUpAddress ? 'checkoutPaymentMethodInvalidOption3' : 'checkoutPaymentMethodInvalidOption4');return; }\n\n    if (!customer_id || !products) {\n      setCheckoutError('Please place a valid order!');\n      return null;\n    }\n    setLoading(true);\n    // if (confirm('Are you sure? You want to place this order?')) {\n      try {\n        const {errors: orderCreateError} = await setOrderMutation({\n          variables: {\n              input: {\n                  customer_id,\n                  contact_number,\n                  payment_option_id,\n                  delivery_method_id,\n                  delivery_date: delivery_schedule,\n                  delivery_address,\n                  sub_total,\n                  total,\n                  coupon_code,\n                  discount_amount,\n                  products,\n                  payment_option_type,\n                  isWhatsappPurchase: false,\n                  lenguageLocale: intl.locale\n              }\n            }\n        });\n\n        if (!orderCreateError) {\n            if (isValid) {\n                clearCart();\n                removeCoupon();\n                setHasCoupon(false);\n                  Router.push({\n                    pathname: '/order-received',\n                    query: { itemId: id }\n                  })\n            }\n            setLoading(false);\n            setIsValid(false);\n        }\n\n        if (orderCreateError) {\n          setOrderError(orderCreateError[0]?.message || 'Somehting went wrong')\n          setLoading(false);\n        }\n      } catch (error) {\n        console.log(error)\n        if (confirm('Algo salió mal! Te pedimos disculpas y que por favor, comiences de vuelta tu compra.')) {\n          console.log(error)\n          setLoading(false);\n          startAllOver();\n        }\n      }\n        setLoading(false);\n    // }\n  };\n\n  const startAllOver = () => {\n    clearCart();\n    removeCoupon();\n    setHasCoupon(false);\n    Router.push({ pathname: '/' })\n  }\n\n  const pickedUpOptionIds = deliveryMethods.map(deliveryMethod => {\n    return deliveryMethod.isPickUp ? deliveryMethod.id : null;\n  });\n  const deliveryOptionIds = deliveryMethods.map(deliveryMethod => {\n    return !deliveryMethod.isPickUp ? deliveryMethod.id : null;\n  });\n  const pickUpOptionSelected = pickedUpOptionIds.includes(submitResult.delivery_method_id)\n  console.log('submitResult,',submitResult)\n  console.log('deliveryMethodSelected,',deliveryMethodSelected)\n  console.log('user_delivery_addresses,',user_delivery_addresses)\n  return (\n    <form>\n      <CheckoutWrapper>\n        <CheckoutContainer>\n          <CheckoutInformation>\n\n            {/* DeliverySchedule */}\n            <InformationBox>\n            <Heading>\n                <DeliveryTypesOptions />\n                <FormattedMessage\n                   id={(deliveryMethodSelected) ? 'selectDeliveryMethodSelected' : 'selectDeliveryMethod'}\n                   defaultMessage='Select Your Delivery Type'\n                />\n              </Heading>\n              <DeliverySchedule>\n                { deliveryMethodSelected ? (\n                   <ButtonGroup>\n                   <RadioGroupThree\n                      items={[deliveryMethodSelected]}\n                      component={(item: any, index: any) => (\n                        <RadioCard\n                          id={item.id}\n                          key={item.id}\n                          title={deliveryMethodSelected?.isPickUp ? `PICKUP ${item.name}` : `DELIVERY`} //  ${item.name} ${deliveryMethodSelected?.deliveryAddress?.split(\",\")[0]}\n                          // title={item.name}\n                          details={item.details}\n                          link={item.isPickUp && item.pickUpAddress ? item.pickUpAddress : null}\n                          name='schedule'\n                          checked={true}\n                          withActionButtons={false}\n                          onClick={() => setSubmitResult({\n                            ...submitResult,\n                            delivery_method_id: item.id, \n                            products: cartProduct\n                          })}\n                          onChange={() =>{\n                            return(dispatch({\n                              type: 'SET_PRIMARY_SCHEDULE',\n                              payload: item.id.toString(),\n                            }))\n                            }\n                          }\n                        />\n                      )}\n                     secondaryComponent={ deliveryMethodSelected ? (\n                      <Button\n                        className='changeButton'\n                        variant='text'\n                        type='button'\n                        onClick={resetDeliveryMethodAndDeleteSavedCookie}\n                      >\n                        <IconWrapper>\n                            <Plus width='10px' />\n                          </IconWrapper>\n                        <FormattedMessage id='changeDeliveryMethod' defaultMessage='changeDeliveryMethod' />\n                      </Button>\n                     ) : (null)\n                     }\n                   />\n                 </ButtonGroup>\n                ) : (\n                  <DeliverySelection\n                    setDeliveryMethod={setDeliveryMethod}\n                    deliveryMethodTypeSelected={deliveryMethodTypeSelected}\n                    setDeliveryMethodType={setDeliveryMethodType}  \n                  />\n                )}\n              \n                { user_delivery_addresses?.length > 0 && deliveryMethodTypeSelected === DeliveryMethodsConstants.DELIVERY && (\n                  <ButtonGroup>\n                    {\"o selecciona una direccion\"}\n                    <RadioGroupTwo\n                      items={user_delivery_addresses}\n                        component={(item: any, index: any) => (\n                          <RadioCardTWO \n                            id={index}\n                            key={index}\n                            address={item.address}\n                            location={item.location}\n                            instructions={item.instructions}\n                            title={item.title}\n                            name='address'\n                            isChecked={item.id === deliveryMethodSelected?.id}\n                            onClick={() => {setSubmitResult({\n                              ...submitResult,\n                              delivery_address:  `${item.title} -\n                              ${item.address?.split(\",\")[0]} ${item.address?.split(\",\")[1]}, ${item.location}, ${item.instructions}\n                              `,\n                              products: cartProduct\n                            }); setDeliveryMethod(item, true);}}\n                            // onEdit={() => handleEditDelete(item, index, 'edit', 'address')}\n                            // onDelete={() =>\n                            //   handleEditDelete(item, index, 'delete', 'address')\n                            // }\n                          />\n                        )}\n                      secondaryComponent={ selectedAddress ? null :\n                        (<Button\n                        className='addButton'\n                        variant='text'\n                        type='button'\n                        onClick={() => resetDeliveryMethodAndDeleteSavedCookie()}\n                        // onClick={() =>\n                        //   handleModal(UpdateAddressTwo,\n                        //     {\n                        //       item:{ address: deliveryMethodSelected?.deliveryAddress },\n                        //       id\n                        //     },\n                        //     'add-address-modal')\n                        // }\n                      >\n                        <IconWrapper>\n                          <Plus width='10px' />\n                        </IconWrapper>\n                        <FormattedMessage id='completeAddress' defaultMessage='Add New' />\n                      </Button>)\n                      }\n                    />\n                  </ButtonGroup>\n                )}\n                \n              </DeliverySchedule>\n            </InformationBox>\n\n            <DeliverySchedule\n              schedulesOfDeliveryMethodSelected={deliveryMethodSelected}\n              setDeliverySchedule={setDeliverySchedule}  \n            />\n            \n            {/* Contact number */}\n            <InformationBox>\n              <Heading>\n              <DeliveryTypesOptions />\n                <FormattedMessage\n                  id='contactNumberText'\n                  defaultMessage='Select Your Contact Number'\n                />\n              </Heading>\n              <ButtonGroup>\n                <RadioGroupThree\n                  items={phones}\n                  component={(item: any, index: any ) => (\n                    <RadioCard\n                      id={index}\n                      key={index}\n                      title={item.is_primary ? intl.formatMessage({ id: 'primaryId', defaultMessage: 'Primary' }) : intl.formatMessage({ id: 'secundaryId', defaultMessage: 'Secondary' })}\n                      details={item.number}\n                      checked={item.is_primary === true}\n                      onChange={() =>handlePrimary(item, 'contact')}\n                      onClick={() => setSubmitResult({\n                        ...submitResult,\n                        contact_number: item.number,\n                        products: cartProduct\n                      })}\n                      name='contact'\n                      onEdit={() => handleEditDelete(item, index, 'edit', 'contact')}\n                      onDelete={() =>\n                        handleEditDelete(item, index, 'delete', 'contact')\n                      }\n                    />\n                  )}\n                  secondaryComponent={\n                    <Button\n                      className='addButton'\n                      variant='text'\n                      type='button'\n                      onClick={() =>\n                        handleModal(\n                          UpdateContact, \n                          {\n                           item:{},\n                           id\n                         }, \n                         'add-contact-modal'\n                         )\n                      }\n                    >\n                      <IconWrapper>\n                        <Plus width='10px' />\n                      </IconWrapper>\n                      <FormattedMessage\n                        id='addContactBtn'\n                        defaultMessage='Add Contact'\n                      />\n                    </Button>\n                  }\n                />\n              </ButtonGroup>\n            </InformationBox>\n            {/* PaymentOption */}\n            \n            {/* Own bag */}\n            {/* <InformationBox>\n              <Heading>\n                <FormattedMessage\n                  id='ownBagText'\n                  defaultMessage=''\n                />\n                <DeliveryTypesOptions />\n              </Heading>\n              <ButtonGroup>\n                   <RadioGroupThree\n                      items={deliveryCarrySelectOptions}\n                      component={(item: any, index: any) => (\n                        <RadioCard\n                          id={item.id}\n                          key={item.id}\n                          title={item.label}\n                          details={item.details}\n                          link={item.isPickUp && item.pickUpAddress ? item.pickUpAddress : null}\n                          name='schedule'\n                          checked={true}\n                          withActionButtons={false}\n                          onClick={() => setSubmitResult({\n                            ...submitResult,\n                            delivery_method_id: item.id, \n                            products: cartProduct\n                          })}\n                          onChange={() =>{\n                            return(dispatch({\n                              type: 'SET_PRIMARY_SCHEDULE',\n                              payload: item.id.toString(),\n                            }))\n                            }\n                          }\n                        />\n                      )}\n                     secondaryComponent={ deliveryMethodSelected ? (\n                      <Button\n                        className='changeButton'\n                        variant='text'\n                        type='button'\n                        onClick={resetDeliveryMethodAndDeleteSavedCookie}\n                      >\n                        <IconWrapper>\n                            <Plus width='10px' />\n                          </IconWrapper>\n                        <FormattedMessage id='changeDeliveryMethod' defaultMessage='changeDeliveryMethod' />\n                      </Button>\n                     ) : (null)\n                     }\n                   />\n                 </ButtonGroup>\n            </InformationBox> */}\n            {/* Own bag */}\n\n            <InformationBox\n              className='paymentBox'\n              style={{ paddingBottom: 30 }}\n            >\n              <Heading>\n                <DeliveryTypesOptions />\n                <FormattedMessage\n                  id='selectPaymentText'\n                  defaultMessage='Select Payment Option'\n                />\n                \n              </Heading>\n\n              <PaymentGroup\n                name='payment'\n                deviceType={deviceType}\n                items={paymentMethods}\n                onEditDeleteField={(item: any, type: string) =>  null }\n                onClick={(item: any) => {\n                   setSubmitResult({\n                    ...submitResult,\n                     payment_option_id: item.id,\n                    payment_option_type: item.type,\n                    products: cartProduct\n                  })\n                  return null\n                  }\n                }\n                onChange={(item: any) =>{\n                  return(dispatch({\n                    type: 'SET_PRIMARY_CARD',\n                    payload: item.id.toString(),\n                  }))\n                  }\n                }\n                handleAddNewCard={() => null }\n              />\n\n              {/* Coupon start\n              {coupon ? (\n                <CouponBoxWrapper>\n                  <CouponCode>\n                    <FormattedMessage id='couponApplied' />\n                    <span>{coupon.code}</span>\n\n                    <RemoveCoupon\n                      onClick={(e) => {\n                        e.preventDefault();\n                        removeCoupon();\n                        setHasCoupon(false);\n                      }}\n                    >\n                      <FormattedMessage id='removeCoupon' />\n                    </RemoveCoupon>\n                  </CouponCode>\n                </CouponBoxWrapper>\n              ) : (\n                <CouponBoxWrapper>\n                  {!hasCoupon ? (\n                    <HaveCoupon onClick={() => setHasCoupon((prev) => !prev)}>\n                      <FormattedMessage\n                        id='specialCode'\n                        defaultMessage='Have a special code?'\n                      />\n                    </HaveCoupon>\n                  ) : (\n                    <>\n                      <CouponInputBox>\n                        <CouponBox\n                          onClick={handleApplyCoupon}\n                          value={couponCode}\n                          onChange={handleOnUpdate}\n                          className='normalCoupon'\n                        />\n                      </CouponInputBox>\n\n                      {couponError && (\n                        <ErrorMsg>\n                          <FormattedMessage\n                            id='couponError'\n                            defaultMessage={couponError}\n                          />\n                        </ErrorMsg>\n                      )}\n                    </>\n                  )}\n                </CouponBoxWrapper>\n              )} */}\n\n              <TermConditionText>\n                <FormattedMessage\n                  id='termAndConditionHelper'\n                  defaultMessage='By making this purchase you agree to our'\n                />\n                <Link href='#'>\n                  <TermConditionLink>\n                    <FormattedMessage\n                      id='termAndCondition'\n                      defaultMessage='terms and conditions.'\n                    />\n                  </TermConditionLink>\n                </Link>\n              </TermConditionText>\n\n              {/* CheckoutSubmit */}\n              {checkoutError && (\n                        <ErrorMsg>\n                            <FormattedMessage\n                                id='checkoutError'\n                                defaultMessage={checkoutError}\n                            />\n                        </ErrorMsg>\n                    )}\n\n              <CheckoutSubmit>\n                <Button\n                    type='button'\n                    onClick={handleSubmit}\n                    disabled={loading}\n                    size='big'\n                    loading={loading}\n                    style={{ width: '100%' }}\n                >\n                  <FormattedMessage\n                    id={loading ? 'processesingCheckout' : 'processCheckout'}\n                    defaultMessage='Proceed to Checkout'\n                  />\n                   . ({CURRENCY}{calculatePrice(calculateDeliveryCharge(deliveryMethodSelected?.name)+calculateCCCharge())})\n                </Button>\n              </CheckoutSubmit>\n                <div>\n                    \n                    {orderError && (\n                        <ErrorMsg>\n                            <p>{orderError}</p>\n                        </ErrorMsg>\n                    )}\n                </div>\n            </InformationBox>\n          </CheckoutInformation>\n\n          <CartWrapper>\n            {/* <Sticky enabled={true} top={totalHeight} innerZ={999}> */}\n            <Sticky\n              enabled={size.width >= 768 ? true : false}\n              top={120}\n              innerZ={999}\n            >\n              <OrderInfo>\n                <Title>\n                  <FormattedMessage\n                    id='cartTitle'\n                    defaultMessage='Your Orderdfd'\n                  />\n                </Title>\n\n                <Scrollbars\n                  universal\n                  autoHide\n                  autoHeight\n                  autoHeightMax='390px'\n                  renderView={(props) => (\n                    <div\n                      {...props}\n                      style={{\n                        ...props.style,\n                        marginLeft: isRtl ? props.style.marginRight : 0,\n                        marginRight: isRtl ? 0 : props.style.marginRight,\n                        paddingLeft: isRtl ? 15 : 0,\n                        paddingRight: isRtl ? 0 : 15,\n                      }}\n                    />\n                  )}\n                >\n                  <ItemsWrapper>\n                    {cartItemsCount > 0 ? (\n                      items.map((item) => (\n                        <OrderItem key={`cartItem-${item.id}`} product={item} />\n                      ))\n                    ) : (\n                      <>\n                        <NoProductImg>\n                          <NoCartBag />\n                        </NoProductImg>\n\n                        <NoProductMsg>\n                          <FormattedMessage\n                            id='noProductFound'\n                            defaultMessage='No products found'\n                          />\n                        </NoProductMsg>\n                      </>\n                    )}\n                  </ItemsWrapper>\n                </Scrollbars>\n\n                <CalculationWrapper>\n                  <TextWrapper>\n                    <Text>\n                      <FormattedMessage id='subTotal' defaultMessage='Subtotal' />\n                    </Text>\n                    <Text>\n                      {CURRENCY} {calculateSubTotalPrice()}\n                    </Text>\n                  </TextWrapper>\n\n                  <TextWrapper>\n                    <Text>\n                      <FormattedMessage id='discountText' defaultMessage='Discount' />\n                    </Text>\n                    <Text>\n                      {CURRENCY} {calculateDiscount()}\n                    </Text>\n                  </TextWrapper>\n\n                  {calculateCCCharge() > 0 && (\n                    <TextWrapper>\n                      <Text>\n                        <FormattedMessage id='ccrChargeText' defaultMessage='Card charge' />\n                      </Text>\n                      <Text>\n                        {CURRENCY} {calculateCCCharge()?.toFixed(2)}\n                      </Text>\n                    </TextWrapper>\n                  )}\n\n                  <TextWrapper>\n                    <Text>\n                      <FormattedMessage id='deliveryChargeText' defaultMessage='Delivery charge' />\n                    </Text>\n                    <Text>\n                      {CURRENCY} {calculateDeliveryCharge(deliveryMethodSelected?.name)}\n                    </Text>\n                  </TextWrapper>\n\n                  <TextWrapper style={{ marginTop: 20 }}>\n                    <Bold>\n                      <FormattedMessage id='totalText' defaultMessage='Total' />{' '}\n                    </Bold>\n                    <Bold>\n                      {CURRENCY} {calculatePrice(calculateDeliveryCharge(deliveryMethodSelected?.name)+calculateCCCharge())}\n                    </Bold>\n                  </TextWrapper>\n                </CalculationWrapper>\n              </OrderInfo>\n            </Sticky>\n          </CartWrapper>\n        </CheckoutContainer>\n      </CheckoutWrapper>\n    </form>\n  );\n};\n\nexport default CheckoutWithSidebar;\n"]},"metadata":{},"sourceType":"module"}