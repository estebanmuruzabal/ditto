{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/estebanmuruzabal/work/Mahdi-Fashion/client/packages/shop/src/features/user-profile/order/order-details/order-details.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Table from 'rc-table';\nimport Router from 'next/router';\nimport { DeliveryInfo, DeliveryAddress, Address, CostCalculation, PriceRow, Price, Contact, ProgressWrapper, OrderTableWrapper, OrderTable, StyledLink } from './order-details.style';\nimport Progress from 'components/progress-box/progress-box';\nimport { CURRENCY } from 'utils/constant';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { Title } from \"../order.style\";\nimport moment from 'moment';\nvar components = {\n  table: OrderTable\n};\n\nvar OrderDetails = function OrderDetails(_ref) {\n  _s();\n\n  var tableData = _ref.tableData,\n      columns = _ref.columns,\n      address = _ref.address,\n      number = _ref.number,\n      id = _ref.id,\n      progressStatus = _ref.progressStatus,\n      deliveryDate = _ref.deliveryDate,\n      progressData = _ref.progressData,\n      subtotal = _ref.subtotal,\n      discount = _ref.discount,\n      grandTotal = _ref.grandTotal,\n      deliveryMethod = _ref.deliveryMethod,\n      ref = _ref.ref;\n  var intl = useIntl();\n\n  var handleInvocie = function handleInvocie() {\n    Router.push({\n      pathname: '/order-received',\n      query: {\n        itemId: id\n      }\n    });\n    return false;\n  };\n\n  var calculateDeliveryCharge = function calculateDeliveryCharge() {\n    var _deliveryMethod$name, _charge;\n\n    if (!(deliveryMethod === null || deliveryMethod === void 0 ? void 0 : deliveryMethod.name)) return 0;\n    var charge = deliveryMethod === null || deliveryMethod === void 0 ? void 0 : (_deliveryMethod$name = deliveryMethod.name) === null || _deliveryMethod$name === void 0 ? void 0 : _deliveryMethod$name.split(\"$\");\n    var chargeFormatted = (_charge = charge[(charge === null || charge === void 0 ? void 0 : charge.length) - 1]) === null || _charge === void 0 ? void 0 : _charge.replace(/\\D/g, '');\n    return Number(chargeFormatted);\n  };\n\n  var getDeliverySchedule = function getDeliverySchedule(details) {\n    var word = 'Horario';\n    var index = details.indexOf(word); // 8\n\n    var length = word.length; // 7\n\n    return details.slice(index + length);\n  };\n\n  var deliveryDateAndTime = \"\".concat(getDeliverySchedule(deliveryMethod === null || deliveryMethod === void 0 ? void 0 : deliveryMethod.details), \" - \").concat(moment(deliveryDate).format('DD MMM'));\n  return __jsx(React.Fragment, null, __jsx(DeliveryInfo, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, __jsx(DeliveryAddress, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, __jsx(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"deliveryMethodTitle\",\n    defaultMessage: \"Delivery Method\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  })), __jsx(Contact, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, deliveryMethod === null || deliveryMethod === void 0 ? void 0 : deliveryMethod.name), __jsx(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"contactNumberTitle\",\n    defaultMessage: \"Contact Number\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  })), __jsx(Contact, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, number), (deliveryMethod === null || deliveryMethod === void 0 ? void 0 : deliveryMethod.isPickUp) ? __jsx(React.Fragment, null, __jsx(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }), __jsx(Contact, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }, deliveryDate || '-'), __jsx(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"deliveryAddressTitle\",\n    defaultMessage: \"Delivery Address\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  })), __jsx(Address, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }, address)) : __jsx(React.Fragment, null, __jsx(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"deliveryDateTitle\",\n    defaultMessage: \"Delivery Date\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  })), __jsx(Contact, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  }, deliveryDateAndTime || '-'), __jsx(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"deliveryAddressTitle\",\n    defaultMessage: \"Delivery Address\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  })), __jsx(Address, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 15\n    }\n  }, address))), __jsx(CostCalculation, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }, __jsx(PriceRow, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"subTotal\",\n    defaultMessage: \"Sub total\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }), __jsx(Price, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, CURRENCY, subtotal)), __jsx(PriceRow, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 11\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"intlOrderDetailsDiscount\",\n    defaultMessage: \"Discount\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }), __jsx(Price, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }, CURRENCY, discount !== null ? discount : 0)), __jsx(PriceRow, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 11\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"deliveryChargeText\",\n    defaultMessage: \"Delivery charge\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }), __jsx(Price, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, CURRENCY, calculateDeliveryCharge())), __jsx(PriceRow, {\n    className: \"grandTotal\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"totalText\",\n    defaultMessage: \"Total\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }\n  }), __jsx(Price, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, CURRENCY, grandTotal)))), __jsx(Title, {\n    style: {\n      padding: '0 20px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"orderTrackingText\",\n    defaultMessage: \"Order Tracking\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }\n  })), __jsx(ProgressWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }\n  }, __jsx(Progress, {\n    data: progressData,\n    status: progressStatus,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }\n  })), __jsx(OrderTableWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }\n  }, __jsx(Table, {\n    columns: columns,\n    data: tableData,\n    rowKey: function rowKey(record) {\n      return record.id;\n    },\n    components: components,\n    className: \"orderDetailsTable\" // scroll={{ y: 350 }}\n    ,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }\n  })), __jsx(StyledLink, {\n    onClick: handleInvocie,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }\n  }, intl.formatMessage({\n    id: 'getInvoiceId',\n    defaultMessage: 'Get invoice'\n  })));\n};\n\n_s(OrderDetails, \"rlSgSjbewJ1PrR/Ile8g/kr050o=\", false, function () {\n  return [useIntl];\n});\n\n_c = OrderDetails;\nexport default OrderDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderDetails\");","map":{"version":3,"sources":["/Users/estebanmuruzabal/work/Mahdi-Fashion/client/packages/shop/src/features/user-profile/order/order-details/order-details.tsx"],"names":["React","Table","Router","DeliveryInfo","DeliveryAddress","Address","CostCalculation","PriceRow","Price","Contact","ProgressWrapper","OrderTableWrapper","OrderTable","StyledLink","Progress","CURRENCY","FormattedMessage","useIntl","Title","moment","components","table","OrderDetails","tableData","columns","address","number","id","progressStatus","deliveryDate","progressData","subtotal","discount","grandTotal","deliveryMethod","ref","intl","handleInvocie","push","pathname","query","itemId","calculateDeliveryCharge","name","charge","split","chargeFormatted","length","replace","Number","getDeliverySchedule","details","word","index","indexOf","slice","deliveryDateAndTime","format","isPickUp","padding","record","formatMessage","defaultMessage"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Table from 'rc-table';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport {\n  DeliveryInfo,\n  DeliveryAddress,\n  Address,\n  CostCalculation,\n  PriceRow,\n  Price,\n  Contact,\n  ProgressWrapper,\n  OrderTableWrapper,\n  OrderTable,\n  StyledLink\n} from './order-details.style';\nimport Progress from 'components/progress-box/progress-box';\nimport { CURRENCY } from 'utils/constant';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport {Title} from \"../order.style\";\nimport moment from 'moment';\n\ntype OrderDetailsProps = {\n  id?: any;\n  tableData?: any;\n  columns?: any;\n  progressData?: any;\n  progressStatus?: any;\n  address?: string;\n  number?: string;\n  deliveryDate?: string;\n  subtotal?: number;\n  discount?: number;\n  grandTotal?: number;\n  ref?: any;\n  deliveryMethod?: any;\n};\n\nconst components = {\n  table: OrderTable,\n};\n\nconst OrderDetails: React.FC<OrderDetailsProps> = ({\n  tableData,\n  columns,\n  address,\n  number,\n  id,\n  progressStatus,\n  deliveryDate,\n  progressData,\n  subtotal,\n  discount,\n  grandTotal,\n  deliveryMethod,\n  ref\n}) => {\n  const intl = useIntl();\n  const handleInvocie = () => {\n    Router.push({\n      pathname: '/order-received',\n      query: { itemId: id }\n    })\n    return false\n  }\n\n  const calculateDeliveryCharge = () => {\n    if (!deliveryMethod?.name) return 0;\n    const charge = deliveryMethod?.name?.split(\"$\");\n    const chargeFormatted = charge[charge?.length -1]?.replace(/\\D/g,'');\n    return Number(chargeFormatted);\n  }\n\n  const getDeliverySchedule = (details) => {\n    const word = 'Horario';\n\n    const index = details.indexOf(word);   // 8\n    const length = word.length;\t\t\t// 7\n\n    return details.slice(index + length);\n  }\n  const deliveryDateAndTime = `${getDeliverySchedule(deliveryMethod?.details)} - ${moment(deliveryDate).format('DD MMM')}`\n\n  return (\n    <>\n      <DeliveryInfo>\n        <DeliveryAddress>\n          <h3>\n            <FormattedMessage\n              id=\"deliveryMethodTitle\"\n              defaultMessage=\"Delivery Method\"\n            />\n          </h3>\n          <Contact>{deliveryMethod?.name}</Contact>\n          <h3>\n            <FormattedMessage\n              id=\"contactNumberTitle\"\n              defaultMessage=\"Contact Number\"\n            />\n          </h3>\n          <Contact>{number}</Contact>\n          {deliveryMethod?.isPickUp ? (\n            <>\n              <h3>\n               \n              </h3>\n              <Contact>{deliveryDate || '-'}</Contact>\n              <h3>\n                <FormattedMessage\n                  id=\"deliveryAddressTitle\"\n                  defaultMessage=\"Delivery Address\"\n                />\n              </h3>\n              <Address>{address}</Address>\n            </>\n          ) : (\n            <>\n              <h3>\n                <FormattedMessage\n                  id=\"deliveryDateTitle\"\n                  defaultMessage=\"Delivery Date\"\n                />\n              </h3>\n              <Contact>{deliveryDateAndTime || '-'}</Contact>\n              <h3>\n                <FormattedMessage\n                  id=\"deliveryAddressTitle\"\n                  defaultMessage=\"Delivery Address\"\n                />\n              </h3>\n              <Address>{address}</Address>\n            </>\n          )}\n        </DeliveryAddress>\n\n        <CostCalculation>\n          <PriceRow>\n            <FormattedMessage id=\"subTotal\" defaultMessage=\"Sub total\" />\n            <Price>\n              {CURRENCY}\n              {subtotal}\n            </Price>\n          </PriceRow>\n          <PriceRow>\n            <FormattedMessage\n              id=\"intlOrderDetailsDiscount\"\n              defaultMessage=\"Discount\"\n            />\n            <Price>\n              {CURRENCY}\n              {discount !== null ? discount : 0}\n            </Price>\n          </PriceRow>\n          <PriceRow>\n            <FormattedMessage\n              id=\"deliveryChargeText\"\n              defaultMessage=\"Delivery charge\"\n            />\n            <Price>\n              {CURRENCY}\n              {calculateDeliveryCharge()}\n            </Price>\n          </PriceRow>\n          <PriceRow className=\"grandTotal\">\n            <FormattedMessage id=\"totalText\" defaultMessage=\"Total\" />\n            <Price>\n              {CURRENCY}\n              {grandTotal}\n            </Price>\n          </PriceRow>\n        </CostCalculation>\n      </DeliveryInfo>\n      <Title style={{ padding: '0 20px' }}>\n        <FormattedMessage\n            id=\"orderTrackingText\"\n            defaultMessage=\"Order Tracking\"\n        />\n      </Title>\n      <ProgressWrapper>\n        <Progress data={progressData} status={progressStatus} />\n      </ProgressWrapper>\n\n      <OrderTableWrapper>\n        <Table\n          columns={columns}\n          data={tableData}\n          rowKey={(record) => record.id}\n          components={components}\n          className=\"orderDetailsTable\"\n          // scroll={{ y: 350 }}\n        />\n     </OrderTableWrapper>\n      <StyledLink onClick={handleInvocie}>\n        {intl.formatMessage({ id: 'getInvoiceId', defaultMessage: 'Get invoice' })}\n      </StyledLink>\n     </>\n  );\n};\n\nexport default OrderDetails;\n"]},"metadata":{},"sourceType":"module"}