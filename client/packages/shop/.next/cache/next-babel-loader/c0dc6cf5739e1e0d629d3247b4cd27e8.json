{"ast":null,"code":"/* import React, { useState, useEffect } from 'react';\nimport Router, { useRouter } from 'next/router';\nimport { FormattedMessage } from 'react-intl';\nimport Popover from 'components/popover/popover';\nimport { useQuery } from '@apollo/react-hooks';\nimport Logo from 'layouts/logo/logo';\nimport { MenuDown } from 'assets/icons/MenuDown';\nimport { CATEGORY_MENU_ITEMS,CATEGORY_MENU } from 'site-settings/site-navigation';\nimport { GET_TYPE } from 'graphql/query/type.query';\nimport ErrorMessage from 'components/error-message/error-message';\nimport * as categoryMenuIcons from 'assets/icons/category-menu-icons';\nimport {\n  MainMenu,\n  MenuItem,\n  SelectedItem,\n  Icon,\n  Arrow,\n  LeftMenuBox,\n} from './left-menu.style';\n\nconst CategoryIcon = ({ name }) => {\n  const TagName = categoryMenuIcons[name];\n  return !!TagName ? <TagName /> : <p> </p>;\n};\n\nconst CategoryMenu = (props: any) => {\n\n  const [typeMenu, setTypeMenu] = useState([]);\n\n  const handleOnClick = (item) => {\n    if (item.dynamic) {\n      Router.push('/[type]', `${item.href}`);\n      props.onClick(item);\n      return;\n    }\n    Router.push(`${item.href}`);\n    props.onClick(item);\n  };\n\n  useEffect(() => {\n    CATEGORY_MENU().then((res) => {\n      setTypeMenu(res);\n    })\n    return;\n  }, []);\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column' }}>\n      {typeMenu.map((item) => {\n        return(\n        <MenuItem key={item.id} {...props} onClick={() => handleOnClick(item)}>\n          <CategoryIcon name={item.icon} />\n          <FormattedMessage id={item.id} defaultMessage={item.defaultMessage} />\n        </MenuItem>\n      )})}\n    </div>\n  );\n};\n\ntype Props = {\n  logo: string;\n};\n\nexport const LeftMenu: React.FC<Props> = ({ logo }) => {\n  const router = useRouter();\n  const { data, error, loading } = useQuery(\n    GET_TYPE,\n    {\n      variables: {\n        searchText: ''\n      }\n    }\n  );\n  if (loading) {\n    return <ErrorMessage message={'Loading...'} />\n  };\n\n  if (error) {\n    return (\n      <ErrorMessage message={error.message} />\n    );\n  };\n  const typeMenu = data.types.items.map((item) => {\n    console.log(data)\n    return({\n      id: item.id,\n      href: `/${item.slug}`,\n      defaultMessage: item.name,\n      icon: item.icon,\n      dynamic: true,\n    })\n  })\n  const initialMenu = typeMenu.find(\n    (item) => item.href == router.asPath);\n  \n  if(initialMenu){\n    if(localStorage.getItem('myMenu')){\n      localStorage.removeItem('myMenu');\n    }\n    localStorage.setItem('myMenu', JSON.stringify(initialMenu));\n  }\n\n  const [activeMenu, setActiveMenu] = React.useState(\n    initialMenu ?? CATEGORY_MENU_ITEMS[0]\n  );\n  \n  return(\n    <LeftMenuBox>\n      <Logo\n        imageUrl={logo}\n        alt={'Shop Logo'}\n        onClick={initialMenu ? initialMenu: CATEGORY_MENU_ITEMS[0]}\n      />\n      <MainMenu>\n        <Popover\n          className=\"right\"\n          handler={\n            <SelectedItem>\n              <span>\n                <Icon>\n                  <CategoryIcon name={activeMenu?.icon} />\n                </Icon>\n                <span>\n                  <FormattedMessage\n                    id={activeMenu?.id}\n                    defaultMessage={activeMenu?.defaultMessage}\n                  />\n                </span>\n              </span>\n              <Arrow>\n                <MenuDown />\n              </Arrow>\n            </SelectedItem>\n          }\n          content={<CategoryMenu onClick={setActiveMenu} />}\n        />\n      </MainMenu>\n    </LeftMenuBox>\n  );\n};\n\n\n */\n\n/*import React, { useState, useEffect } from 'react';\nimport Router, { useRouter } from 'next/router';\nimport { FormattedMessage } from 'react-intl';\nimport Popover from 'components/popover/popover';\nimport { useQuery } from '@apollo/react-hooks';\nimport Logo from 'layouts/logo/logo';\nimport { MenuDown } from 'assets/icons/MenuDown';\nimport { CATEGORY_MENU_ITEMS,CATEGORY_MENU } from 'site-settings/site-navigation';\nimport { GET_TYPE } from 'graphql/query/type.query';\nimport ErrorMessage from 'components/error-message/error-message';\nimport * as categoryMenuIcons from 'assets/icons/category-menu-icons';\nimport {\n  MainMenu,\n  MenuItem,\n  SelectedItem,\n  Icon,\n  Arrow,\n  LeftMenuBox,\n} from './left-menu.style';\n\nconst CategoryIcon = ({ name }) => {\n  const TagName = categoryMenuIcons[name];\n  return !!TagName ? <TagName /> : <p> </p>;\n};\n\nconst CategoryMenu = (props: any) => {\n\n  const [typeMenu, setTypeMenu] = useState([]);\n\n  const handleOnClick = (item) => {\n    if (item.dynamic) {\n      Router.push('/[type]', `${item.href}`);\n      props.onClick(item);\n      return;\n    }\n    Router.push(`${item.href}`);\n    props.onClick(item);\n  };\n\n  useEffect(() => {\n    CATEGORY_MENU().then((res) => {\n      setTypeMenu(res);\n    })\n    return;\n  }, []);\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column' }}>\n      {typeMenu.map((item) => {\n        return(\n        <MenuItem key={item.id} {...props} onClick={() => handleOnClick(item)}>\n          <CategoryIcon name={item.icon} />\n          <FormattedMessage id={item.id} defaultMessage={item.defaultMessage} />\n        </MenuItem>\n      )})}\n    </div>\n  );\n};\n\ntype Props = {\n  logo: string;\n};\n\nexport const LeftMenu: React.FC<Props> = ({ logo }) => {\n  const router = useRouter();\n  const { data, error, loading } = useQuery(\n    GET_TYPE,\n    {\n      variables: {\n        searchText: ''\n      }\n    }\n  );\n  if (loading) {\n    return <ErrorMessage message={'Loading...'} />\n  };\n\n  if (error) {\n    return (\n      <ErrorMessage message={error.message} />\n    );\n  };\n  const typeMenu = data.types.items.map((item) => {\n    return({\n      id: item.id,\n      href: `/${item.slug}`,\n      defaultMessage: item.name,\n      icon: item.icon,\n      dynamic: true,\n    })\n  })\n  const initialMenu = router.asPath == '/' ? typeMenu[0] : typeMenu.find((item) => item.href == router.asPath);\n  if(initialMenu){\n    if(localStorage.getItem('myMenu')){\n      localStorage.removeItem('myMenu');\n    }\n    localStorage.setItem('myMenu', JSON.stringify(initialMenu));\n  }\n\n  const [activeMenu, setActiveMenu] = React.useState(\n    initialMenu ?? JSON.parse(localStorage.getItem('myMenu'))\n  );\n  \n  return(\n    <LeftMenuBox>\n      <Logo\n        imageUrl={logo}\n        alt={'Shop Logo'}\n        onClick={initialMenu ? initialMenu: JSON.parse(localStorage.getItem('myMenu'))}\n      />\n      <MainMenu>\n        <Popover\n          className=\"right\"\n          handler={\n            <SelectedItem>\n              <span>\n                <Icon>\n                  <CategoryIcon name={activeMenu?.icon} />\n                </Icon>\n                <span>\n                  <FormattedMessage\n                    id={activeMenu?.id}\n                    defaultMessage={activeMenu?.defaultMessage}\n                  />\n                </span>\n              </span>\n              <Arrow>\n                <MenuDown />\n              </Arrow>\n            </SelectedItem>\n          }\n          content={<CategoryMenu onClick={setActiveMenu} />}\n        />\n      </MainMenu>\n    </LeftMenuBox>\n  );\n};\n*/","map":{"version":3,"sources":["/Users/estebanmuruzabal/work/Mahdi-Fashion/client/packages/shop/src/layouts/header/menu/left-menu/left-menu.tsx"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+IA","sourcesContent":["/* import React, { useState, useEffect } from 'react';\nimport Router, { useRouter } from 'next/router';\nimport { FormattedMessage } from 'react-intl';\nimport Popover from 'components/popover/popover';\nimport { useQuery } from '@apollo/react-hooks';\nimport Logo from 'layouts/logo/logo';\nimport { MenuDown } from 'assets/icons/MenuDown';\nimport { CATEGORY_MENU_ITEMS,CATEGORY_MENU } from 'site-settings/site-navigation';\nimport { GET_TYPE } from 'graphql/query/type.query';\nimport ErrorMessage from 'components/error-message/error-message';\nimport * as categoryMenuIcons from 'assets/icons/category-menu-icons';\nimport {\n  MainMenu,\n  MenuItem,\n  SelectedItem,\n  Icon,\n  Arrow,\n  LeftMenuBox,\n} from './left-menu.style';\n\nconst CategoryIcon = ({ name }) => {\n  const TagName = categoryMenuIcons[name];\n  return !!TagName ? <TagName /> : <p> </p>;\n};\n\nconst CategoryMenu = (props: any) => {\n\n  const [typeMenu, setTypeMenu] = useState([]);\n\n  const handleOnClick = (item) => {\n    if (item.dynamic) {\n      Router.push('/[type]', `${item.href}`);\n      props.onClick(item);\n      return;\n    }\n    Router.push(`${item.href}`);\n    props.onClick(item);\n  };\n\n  useEffect(() => {\n    CATEGORY_MENU().then((res) => {\n      setTypeMenu(res);\n    })\n    return;\n  }, []);\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column' }}>\n      {typeMenu.map((item) => {\n        return(\n        <MenuItem key={item.id} {...props} onClick={() => handleOnClick(item)}>\n          <CategoryIcon name={item.icon} />\n          <FormattedMessage id={item.id} defaultMessage={item.defaultMessage} />\n        </MenuItem>\n      )})}\n    </div>\n  );\n};\n\ntype Props = {\n  logo: string;\n};\n\nexport const LeftMenu: React.FC<Props> = ({ logo }) => {\n  const router = useRouter();\n  const { data, error, loading } = useQuery(\n    GET_TYPE,\n    {\n      variables: {\n        searchText: ''\n      }\n    }\n  );\n  if (loading) {\n    return <ErrorMessage message={'Loading...'} />\n  };\n\n  if (error) {\n    return (\n      <ErrorMessage message={error.message} />\n    );\n  };\n  const typeMenu = data.types.items.map((item) => {\n    console.log(data)\n    return({\n      id: item.id,\n      href: `/${item.slug}`,\n      defaultMessage: item.name,\n      icon: item.icon,\n      dynamic: true,\n    })\n  })\n  const initialMenu = typeMenu.find(\n    (item) => item.href == router.asPath);\n  \n  if(initialMenu){\n    if(localStorage.getItem('myMenu')){\n      localStorage.removeItem('myMenu');\n    }\n    localStorage.setItem('myMenu', JSON.stringify(initialMenu));\n  }\n\n  const [activeMenu, setActiveMenu] = React.useState(\n    initialMenu ?? CATEGORY_MENU_ITEMS[0]\n  );\n  \n  return(\n    <LeftMenuBox>\n      <Logo\n        imageUrl={logo}\n        alt={'Shop Logo'}\n        onClick={initialMenu ? initialMenu: CATEGORY_MENU_ITEMS[0]}\n      />\n      <MainMenu>\n        <Popover\n          className=\"right\"\n          handler={\n            <SelectedItem>\n              <span>\n                <Icon>\n                  <CategoryIcon name={activeMenu?.icon} />\n                </Icon>\n                <span>\n                  <FormattedMessage\n                    id={activeMenu?.id}\n                    defaultMessage={activeMenu?.defaultMessage}\n                  />\n                </span>\n              </span>\n              <Arrow>\n                <MenuDown />\n              </Arrow>\n            </SelectedItem>\n          }\n          content={<CategoryMenu onClick={setActiveMenu} />}\n        />\n      </MainMenu>\n    </LeftMenuBox>\n  );\n};\n\n\n */\n/*import React, { useState, useEffect } from 'react';\nimport Router, { useRouter } from 'next/router';\nimport { FormattedMessage } from 'react-intl';\nimport Popover from 'components/popover/popover';\nimport { useQuery } from '@apollo/react-hooks';\nimport Logo from 'layouts/logo/logo';\nimport { MenuDown } from 'assets/icons/MenuDown';\nimport { CATEGORY_MENU_ITEMS,CATEGORY_MENU } from 'site-settings/site-navigation';\nimport { GET_TYPE } from 'graphql/query/type.query';\nimport ErrorMessage from 'components/error-message/error-message';\nimport * as categoryMenuIcons from 'assets/icons/category-menu-icons';\nimport {\n  MainMenu,\n  MenuItem,\n  SelectedItem,\n  Icon,\n  Arrow,\n  LeftMenuBox,\n} from './left-menu.style';\n\nconst CategoryIcon = ({ name }) => {\n  const TagName = categoryMenuIcons[name];\n  return !!TagName ? <TagName /> : <p> </p>;\n};\n\nconst CategoryMenu = (props: any) => {\n\n  const [typeMenu, setTypeMenu] = useState([]);\n\n  const handleOnClick = (item) => {\n    if (item.dynamic) {\n      Router.push('/[type]', `${item.href}`);\n      props.onClick(item);\n      return;\n    }\n    Router.push(`${item.href}`);\n    props.onClick(item);\n  };\n\n  useEffect(() => {\n    CATEGORY_MENU().then((res) => {\n      setTypeMenu(res);\n    })\n    return;\n  }, []);\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column' }}>\n      {typeMenu.map((item) => {\n        return(\n        <MenuItem key={item.id} {...props} onClick={() => handleOnClick(item)}>\n          <CategoryIcon name={item.icon} />\n          <FormattedMessage id={item.id} defaultMessage={item.defaultMessage} />\n        </MenuItem>\n      )})}\n    </div>\n  );\n};\n\ntype Props = {\n  logo: string;\n};\n\nexport const LeftMenu: React.FC<Props> = ({ logo }) => {\n  const router = useRouter();\n  const { data, error, loading } = useQuery(\n    GET_TYPE,\n    {\n      variables: {\n        searchText: ''\n      }\n    }\n  );\n  if (loading) {\n    return <ErrorMessage message={'Loading...'} />\n  };\n\n  if (error) {\n    return (\n      <ErrorMessage message={error.message} />\n    );\n  };\n  const typeMenu = data.types.items.map((item) => {\n    return({\n      id: item.id,\n      href: `/${item.slug}`,\n      defaultMessage: item.name,\n      icon: item.icon,\n      dynamic: true,\n    })\n  })\n  const initialMenu = router.asPath == '/' ? typeMenu[0] : typeMenu.find((item) => item.href == router.asPath);\n  if(initialMenu){\n    if(localStorage.getItem('myMenu')){\n      localStorage.removeItem('myMenu');\n    }\n    localStorage.setItem('myMenu', JSON.stringify(initialMenu));\n  }\n\n  const [activeMenu, setActiveMenu] = React.useState(\n    initialMenu ?? JSON.parse(localStorage.getItem('myMenu'))\n  );\n  \n  return(\n    <LeftMenuBox>\n      <Logo\n        imageUrl={logo}\n        alt={'Shop Logo'}\n        onClick={initialMenu ? initialMenu: JSON.parse(localStorage.getItem('myMenu'))}\n      />\n      <MainMenu>\n        <Popover\n          className=\"right\"\n          handler={\n            <SelectedItem>\n              <span>\n                <Icon>\n                  <CategoryIcon name={activeMenu?.icon} />\n                </Icon>\n                <span>\n                  <FormattedMessage\n                    id={activeMenu?.id}\n                    defaultMessage={activeMenu?.defaultMessage}\n                  />\n                </span>\n              </span>\n              <Arrow>\n                <MenuDown />\n              </Arrow>\n            </SelectedItem>\n          }\n          content={<CategoryMenu onClick={setActiveMenu} />}\n        />\n      </MainMenu>\n    </LeftMenuBox>\n  );\n};\n*/"]},"metadata":{},"sourceType":"script"}