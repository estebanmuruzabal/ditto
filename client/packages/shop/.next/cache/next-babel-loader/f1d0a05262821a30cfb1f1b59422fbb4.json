{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/estebanmuruzabal/work/Mahdi-Fashion/client/packages/shop/src/components/product-details/product-details-three/product-details-three.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { Link, Element } from 'react-scroll';\nimport { Button } from 'components/button/button';\nimport { ProductDetailsWrapper, ProductPreview, RestaurantMeta, RestaurantNameAddress, RestaurantName, RestaurantAddress, RestaurantOtherInfos, InfoBlock, Label, Infos, DeliveryOpt, CategoriesWrapper, CategoriesInner, MainContent, MenuContainer, ItemCategoryWrapper, ItemCategoryName, ItemWrapper, ItemNameDetails, ItemName, ItemDetails, ItemNamePricing, HelpText, ItemPrice, CartWrapper } from './product-details-three.style';\nimport { CURRENCY } from 'utils/constant';\nimport FixedCart from 'features/carts/fixed-cart';\nimport FixedCartPopup from 'features/carts/fixed-cart-popup';\nimport { FormattedMessage } from 'react-intl';\nimport Sticky from 'react-stickynode';\nimport { groupBy } from 'utils/groupBy';\nimport { useCart } from 'contexts/cart/use-cart';\nimport { PlusOutline } from 'assets/icons/PlusOutline';\n\nvar ProductDetails = function ProductDetails(_ref) {\n  _s();\n\n  var _data$categories, _data$deliveryDetails, _data$deliveryDetails2, _data$deliveryDetails3;\n\n  var product = _ref.product,\n      deviceType = _ref.deviceType;\n\n  var _useCart = useCart(),\n      addItem = _useCart.addItem,\n      clearCart = _useCart.clearCart,\n      toggleRestaurant = _useCart.toggleRestaurant,\n      isInCart = _useCart.isInCart;\n\n  var handleAddClick = function handleAddClick(values) {\n    addItem(values);\n  };\n\n  var checkoutStatus = React.useRef(null);\n  var data = product;\n  React.useEffect(function () {\n    clearCart();\n    return function () {\n      if (checkoutStatus.current === null) {\n        clearCart();\n      }\n    };\n  }, []);\n  var productGroups = groupBy(data === null || data === void 0 ? void 0 : data.products, 'type');\n  var headerOffset = deviceType.mobile || deviceType.tablet ? -137 : -177;\n  return __jsx(React.Fragment, null, __jsx(ProductDetailsWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, __jsx(ProductPreview, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, __jsx(\"img\", {\n    src: data.previewUrl,\n    alt: data.name,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  })), __jsx(\"div\", {\n    id: \"cart-sticky\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, __jsx(RestaurantMeta, {\n    id: \"restaurantMeta\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, __jsx(RestaurantNameAddress, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, __jsx(RestaurantName, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, data.name), __jsx(RestaurantAddress, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, data.address)), __jsx(RestaurantOtherInfos, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, __jsx(InfoBlock, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }, __jsx(Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"cuisineText\",\n    defaultMessage: \"Cuisine\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 19\n    }\n  })), __jsx(Infos, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, data === null || data === void 0 ? void 0 : (_data$categories = data.categories) === null || _data$categories === void 0 ? void 0 : _data$categories.join(', '))), __jsx(InfoBlock, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }, __jsx(Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"minOrderText\",\n    defaultMessage: \"Min Order\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 19\n    }\n  })), __jsx(Infos, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, CURRENCY, data === null || data === void 0 ? void 0 : (_data$deliveryDetails = data.deliveryDetails) === null || _data$deliveryDetails === void 0 ? void 0 : _data$deliveryDetails.minimumOrder)), __jsx(DeliveryOpt, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }, (data === null || data === void 0 ? void 0 : (_data$deliveryDetails2 = data.deliveryDetails) === null || _data$deliveryDetails2 === void 0 ? void 0 : _data$deliveryDetails2.isFree) ? '' : CURRENCY, data === null || data === void 0 ? void 0 : (_data$deliveryDetails3 = data.deliveryDetails) === null || _data$deliveryDetails3 === void 0 ? void 0 : _data$deliveryDetails3.charge, __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }), ' ', __jsx(FormattedMessage, {\n    id: \"deliveryText\",\n    defaultMessage: \"Delivery\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  })))), __jsx(Sticky, {\n    top: deviceType.mobile || deviceType.tablet ? 68 : 78,\n    innerZ: 999,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }, __jsx(CategoriesWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, __jsx(CategoriesInner, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  }, Object.keys(productGroups).map(function (item, index) {\n    return __jsx(Link, {\n      activeClass: \"active\",\n      className: \"category\",\n      to: Object.keys(productGroups)[index],\n      offset: headerOffset,\n      spy: true,\n      smooth: true,\n      duration: 500,\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 19\n      }\n    }, item);\n  }))))), __jsx(MainContent, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, __jsx(MenuContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }, Object.values(productGroups).map(function (items, idx) {\n    return __jsx(Element, {\n      name: Object.keys(productGroups)[idx],\n      key: idx,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 15\n      }\n    }, __jsx(ItemCategoryWrapper, {\n      id: Object.keys(productGroups)[idx],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }, __jsx(ItemCategoryName, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 19\n      }\n    }, Object.keys(productGroups)[idx])), items.map(function (item) {\n      return __jsx(ItemWrapper, {\n        key: item.id,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 19\n        }\n      }, __jsx(ItemNameDetails, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }\n      }, __jsx(ItemName, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 23\n        }\n      }, item.name), __jsx(ItemDetails, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 23\n        }\n      }, item.description)), __jsx(ItemNamePricing, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }\n      }, __jsx(HelpText, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 23\n        }\n      }, __jsx(FormattedMessage, {\n        id: \"fromText\",\n        defaultMessage: \"From\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 25\n        }\n      }), \"\\xA0\"), __jsx(ItemPrice, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 23\n        }\n      }, CURRENCY, item.price)), __jsx(Button, {\n        variant: \"select\",\n        type: \"button\",\n        className: isInCart(item.id) ? 'selected' : '',\n        onClick: function onClick() {\n          return handleAddClick(item);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }\n      }, __jsx(PlusOutline, {\n        width: \"14px\",\n        height: \"14px\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 23\n        }\n      })));\n    }));\n  })), __jsx(CartWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 11\n    }\n  }, __jsx(Sticky, {\n    top: \"#cart-sticky\",\n    innerZ: 999,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }\n  }, __jsx(FixedCart, {\n    scrollbarHeight: \"100vh\",\n    className: \"fixedCartBox\",\n    style: {\n      height: \"calc(100vh - 193px)\"\n    },\n    onCheckout: function onCheckout() {\n      toggleRestaurant();\n      checkoutStatus.current = true;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 15\n    }\n  }))), __jsx(FixedCartPopup, {\n    onCheckout: function onCheckout() {\n      toggleRestaurant();\n      checkoutStatus.current = true;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 11\n    }\n  }))));\n};\n\n_s(ProductDetails, \"qya2qS1tz7mDtoVAtGFz9Tp0EqA=\", false, function () {\n  return [useCart];\n});\n\n_c = ProductDetails;\nexport default ProductDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"sources":["/Users/estebanmuruzabal/work/Mahdi-Fashion/client/packages/shop/src/components/product-details/product-details-three/product-details-three.tsx"],"names":["React","Link","Element","Button","ProductDetailsWrapper","ProductPreview","RestaurantMeta","RestaurantNameAddress","RestaurantName","RestaurantAddress","RestaurantOtherInfos","InfoBlock","Label","Infos","DeliveryOpt","CategoriesWrapper","CategoriesInner","MainContent","MenuContainer","ItemCategoryWrapper","ItemCategoryName","ItemWrapper","ItemNameDetails","ItemName","ItemDetails","ItemNamePricing","HelpText","ItemPrice","CartWrapper","CURRENCY","FixedCart","FixedCartPopup","FormattedMessage","Sticky","groupBy","useCart","PlusOutline","ProductDetails","product","deviceType","addItem","clearCart","toggleRestaurant","isInCart","handleAddClick","values","checkoutStatus","useRef","data","useEffect","current","productGroups","products","headerOffset","mobile","tablet","previewUrl","name","address","categories","join","deliveryDetails","minimumOrder","isFree","charge","Object","keys","map","item","index","items","idx","id","description","price","height"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link, Element } from 'react-scroll';\nimport { Button } from 'components/button/button';\nimport {\n  ProductDetailsWrapper,\n  ProductPreview,\n  RestaurantMeta,\n  RestaurantNameAddress,\n  RestaurantName,\n  RestaurantAddress,\n  RestaurantOtherInfos,\n  InfoBlock,\n  Label,\n  Infos,\n  DeliveryOpt,\n  CategoriesWrapper,\n  CategoriesInner,\n  MainContent,\n  MenuContainer,\n  ItemCategoryWrapper,\n  ItemCategoryName,\n  ItemWrapper,\n  ItemNameDetails,\n  ItemName,\n  ItemDetails,\n  ItemNamePricing,\n  HelpText,\n  ItemPrice,\n  CartWrapper,\n} from './product-details-three.style';\nimport { CURRENCY } from 'utils/constant';\nimport FixedCart from 'features/carts/fixed-cart';\nimport FixedCartPopup from 'features/carts/fixed-cart-popup';\nimport { FormattedMessage } from 'react-intl';\nimport Sticky from 'react-stickynode';\nimport { groupBy } from 'utils/groupBy';\nimport { useCart } from 'contexts/cart/use-cart';\nimport { PlusOutline } from 'assets/icons/PlusOutline';\n\ntype ProductDetailsProps = {\n  product: any;\n  deviceType: {\n    mobile: boolean;\n    tablet: boolean;\n    desktop: boolean;\n  };\n};\n\nconst ProductDetails: React.FunctionComponent<ProductDetailsProps> = ({\n  product,\n  deviceType,\n}) => {\n  const { addItem, clearCart, toggleRestaurant, isInCart } = useCart();\n  const handleAddClick = (values) => {\n    addItem(values);\n  };\n  const checkoutStatus = React.useRef(null);\n  const data = product;\n\n  React.useEffect(() => {\n    clearCart();\n    return () => {\n      if (checkoutStatus.current === null) {\n        clearCart();\n      }\n    };\n  }, []);\n  const productGroups = groupBy(data?.products, 'type');\n\n  const headerOffset = deviceType.mobile || deviceType.tablet ? -137 : -177;\n\n  return (\n    <>\n      <ProductDetailsWrapper>\n        <ProductPreview>\n          <img src={data.previewUrl} alt={data.name} />\n        </ProductPreview>\n        <div id=\"cart-sticky\">\n          <RestaurantMeta id=\"restaurantMeta\">\n            <RestaurantNameAddress>\n              <RestaurantName>{data.name}</RestaurantName>\n              <RestaurantAddress>{data.address}</RestaurantAddress>\n            </RestaurantNameAddress>\n\n            <RestaurantOtherInfos>\n              <InfoBlock>\n                <Label>\n                  <FormattedMessage id=\"cuisineText\" defaultMessage=\"Cuisine\" />\n                </Label>\n                <Infos>{data?.categories?.join(', ')}</Infos>\n              </InfoBlock>\n\n              <InfoBlock>\n                <Label>\n                  <FormattedMessage\n                    id=\"minOrderText\"\n                    defaultMessage=\"Min Order\"\n                  />\n                </Label>\n                <Infos>\n                  {CURRENCY}\n                  {data?.deliveryDetails?.minimumOrder}\n                </Infos>\n              </InfoBlock>\n\n              <DeliveryOpt>\n                {data?.deliveryDetails?.isFree ? '' : CURRENCY}\n                {data?.deliveryDetails?.charge}\n                <br />{' '}\n                <FormattedMessage id=\"deliveryText\" defaultMessage=\"Delivery\" />\n              </DeliveryOpt>\n            </RestaurantOtherInfos>\n          </RestaurantMeta>\n\n          <Sticky\n            top={deviceType.mobile || deviceType.tablet ? 68 : 78}\n            innerZ={999}\n          >\n            <CategoriesWrapper>\n              <CategoriesInner>\n                {Object.keys(productGroups).map((item, index) => (\n                  <Link\n                    activeClass=\"active\"\n                    className=\"category\"\n                    to={Object.keys(productGroups)[index]}\n                    offset={headerOffset}\n                    spy={true}\n                    smooth={true}\n                    duration={500}\n                    key={index}\n                  >\n                    {item}\n                  </Link>\n                ))}\n              </CategoriesInner>\n            </CategoriesWrapper>\n          </Sticky>\n        </div>\n\n        <MainContent>\n          <MenuContainer>\n            {Object.values(productGroups).map((items: any, idx: number) => (\n              <Element name={Object.keys(productGroups)[idx]} key={idx}>\n                <ItemCategoryWrapper id={Object.keys(productGroups)[idx]}>\n                  <ItemCategoryName>\n                    {Object.keys(productGroups)[idx]}\n                  </ItemCategoryName>\n                </ItemCategoryWrapper>\n\n                {items.map((item) => (\n                  <ItemWrapper key={item.id}>\n                    <ItemNameDetails>\n                      <ItemName>{item.name}</ItemName>\n                      <ItemDetails>{item.description}</ItemDetails>\n                    </ItemNameDetails>\n\n                    <ItemNamePricing>\n                      <HelpText>\n                        <FormattedMessage id=\"fromText\" defaultMessage=\"From\" />\n                        &nbsp;\n                      </HelpText>\n                      <ItemPrice>\n                        {CURRENCY}\n                        {item.price}\n                      </ItemPrice>\n                    </ItemNamePricing>\n\n                    <Button\n                      variant=\"select\"\n                      type=\"button\"\n                      className={isInCart(item.id) ? 'selected' : ''}\n                      onClick={() => handleAddClick(item)}\n                    >\n                      <PlusOutline width=\"14px\" height=\"14px\" />\n                    </Button>\n                  </ItemWrapper>\n                ))}\n              </Element>\n            ))}\n          </MenuContainer>\n\n          <CartWrapper>\n            <Sticky top=\"#cart-sticky\" innerZ={999}>\n              <FixedCart\n                scrollbarHeight=\"100vh\"\n                className=\"fixedCartBox\"\n                style={{\n                  height: `calc(100vh - 193px)`,\n                }}\n                onCheckout={() => {\n                  toggleRestaurant();\n                  checkoutStatus.current = true;\n                }}\n              />\n            </Sticky>\n          </CartWrapper>\n\n          <FixedCartPopup\n            onCheckout={() => {\n              toggleRestaurant();\n              checkoutStatus.current = true;\n            }}\n          />\n        </MainContent>\n      </ProductDetailsWrapper>\n    </>\n  );\n};\n\nexport default ProductDetails;\n"]},"metadata":{},"sourceType":"module"}