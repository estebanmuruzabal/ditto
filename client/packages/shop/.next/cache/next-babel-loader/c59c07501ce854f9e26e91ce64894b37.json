{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport dynamic from 'next/dynamic';\nimport { useRouter } from 'next/router';\nimport { Modal } from '@redq/reuse-modal';\nimport { useQuery } from '@apollo/react-hooks';\nimport StoreNav from 'components/store-nav/store-nav';\nimport HomeCardsCarousel from 'components/carousel/homecards-carousel';\nimport { Banner } from 'components/banner/banner';\nimport { MainContentArea, SidebarSection, ContentSection, OfferSection, MobileCarouselDropdown } from 'assets/styles/pages.style'; // Static Data Import Here\n\nimport { sitePages } from 'site-settings/site-pages';\nimport { SEO } from 'components/seo';\nimport { useRefScroll } from 'utils/use-ref-scroll';\nimport { GET_TYPE } from 'graphql/query/type.query';\nimport { GET_TYPE_HOMECARDS } from 'graphql/query/type.homecards.query';\nimport { CATEGORY_MENU_ITEMS } from 'site-settings/site-navigation';\nimport ErrorMessage from 'components/error-message/error-message';\nimport { SHOP_IMAGE_HOST } from 'utils/images-path';\nvar Sidebar = dynamic(function () {\n  return import('layouts/sidebar/sidebar');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('layouts/sidebar/sidebar')];\n    },\n    modules: ['layouts/sidebar/sidebar']\n  }\n});\nvar Products = dynamic(function () {\n  return import('components/product-grid/product-list/product-list');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('components/product-grid/product-list/product-list')];\n    },\n    modules: ['components/product-grid/product-list/product-list']\n  }\n});\nvar CartPopUp = dynamic(function () {\n  return import('features/carts/cart-popup');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('features/carts/cart-popup')];\n    },\n    modules: ['features/carts/cart-popup']\n  }\n});\n\nvar CategoryPage = function CategoryPage(_ref) {\n  var deviceType = _ref.deviceType;\n\n  var _useRouter = useRouter(),\n      query = _useRouter.query;\n\n  var _useRefScroll = useRefScroll({\n    percentOfElement: 0,\n    percentOfContainer: 0,\n    offsetPX: -110\n  }),\n      targetRef = _useRefScroll.elRef,\n      scroll = _useRefScroll.scroll;\n\n  React.useEffect(function () {\n    if (query.text || query.category) {\n      scroll();\n    }\n  }, [query.text, query.category]);\n  var PAGE_TYPE = query.type;\n  var page = sitePages[PAGE_TYPE];\n\n  var _useQuery = useQuery(GET_TYPE_HOMECARDS, {\n    variables: {\n      type: PAGE_TYPE\n    }\n  }),\n      homeCardsData = _useQuery.data,\n      homeCardsLoading = _useQuery.loading,\n      homeCardsError = _useQuery.error;\n\n  var _useQuery2 = useQuery(GET_TYPE, {\n    variables: {\n      searchText: PAGE_TYPE\n    }\n  }),\n      data = _useQuery2.data,\n      loading = _useQuery2.loading,\n      error = _useQuery2.error;\n\n  if (loading || homeCardsLoading) {\n    return __jsx(ErrorMessage, {\n      message: 'Loading...'\n    });\n  }\n\n  ;\n\n  if (error || homeCardsError) {\n    return error ? __jsx(ErrorMessage, {\n      message: error.message\n    }) : __jsx(ErrorMessage, {\n      message: homeCardsError.message\n    });\n  }\n\n  ;\n  var _data$types$items$ = data.types.items[0],\n      home_title = _data$types$items$.home_title,\n      home_subtitle = _data$types$items$.home_subtitle,\n      image = _data$types$items$.image;\n  return __jsx(React.Fragment, null, __jsx(SEO, {\n    title: home_title,\n    description: home_subtitle\n  }), __jsx(Modal, null, __jsx(Banner, {\n    intlTitleId: home_title,\n    intlDescriptionId: home_subtitle,\n    imageUrl: SHOP_IMAGE_HOST + image\n  }), __jsx(MobileCarouselDropdown, null, __jsx(StoreNav, {\n    items: CATEGORY_MENU_ITEMS\n  }), __jsx(Sidebar, {\n    type: PAGE_TYPE,\n    deviceType: deviceType\n  })), homeCardsData.getHomeCards.length > 0 ? __jsx(OfferSection, null, __jsx(\"div\", {\n    style: {\n      margin: '0 -10px'\n    }\n  }, __jsx(HomeCardsCarousel, {\n    deviceType: deviceType,\n    data: homeCardsData.getHomeCards\n  }))) : __jsx(\"div\", null), __jsx(MainContentArea, null, __jsx(SidebarSection, null, __jsx(Sidebar, {\n    type: PAGE_TYPE,\n    deviceType: deviceType\n  })), __jsx(ContentSection, null, __jsx(\"div\", {\n    ref: targetRef\n  }, __jsx(Products, {\n    type: PAGE_TYPE,\n    deviceType: deviceType,\n    fetchLimit: 20\n  })))), __jsx(CartPopUp, {\n    deviceType: deviceType\n  })));\n};\n\nexport var __N_SSG = true;\nexport default CategoryPage;","map":null,"metadata":{},"sourceType":"module"}