{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{YQht:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/work\",function(){return a(\"hkpG\")}])},hkpG:function(e,t,a){\"use strict\";a.r(t);var n=a(\"ERkP\"),o=a.n(n),r=a(\"1U1M\"),i=a(\"VU+f\"),l=a(\"yR3f\"),s=a(\"fGyu\"),d=a(\"zjfJ\"),c=Object(n.createContext)({}),u=o.a.createElement;function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function m(e,t){switch(t.type){case\"HANDLE_WORK_CHANGE\":return f(f({},e),{},{workInfo:t.payload.workInfo,logs:t.payload.logs});case\"HANDLE_TODO_TASKS\":return f(f({},e),{},{tasks:t.payload.tasks});case\"ADD_CONTACT\":var a=f({},t.payload.values);return f(f({},e),{},{phones:[].concat(Object(s.a)(e.phones),[a])});case\"UPDATE_CONTACT\":if(null!==t.payload.id)return f(f({},e),{},{phones:e.phones.map((function(e){return e.id==t.payload.id?f(f({},e),t.payload.values):e}))});case\"DELETE_CONTACT\":return f(f({},e),{},{phones:e.phones.filter((function(e){return e.id!==t.payload}))});case\"ADD_ADDRESS\":var n=f({},t.payload);return null==e.delivery_address?f(f({},e),{},{delivery_address:[n]}):f(f({},e),{},{delivery_address:[].concat(Object(s.a)(e.delivery_address),[n])});case\"UPDATE_ADDRESS\":if(t.payload.id)return f(f({},e),{},{delivery_address:e.delivery_address.map((function(e,a){return e.id===t.payload.id?f(f({},e),t.payload.value):e}))});case\"DELETE_ADDRESS\":return f(f({},e),{},{delivery_address:e.delivery_address.filter((function(e,a){return e.id!==t.payload}))});case\"ADD_CARD\":var o={id:t.payload.id,type:\"0\"===e.card.length?\"primary\":\"secondary\",cardType:t.payload.brand.toLowerCase(),name:e.name,lastFourDigit:t.payload.last4};return f(f({},e),{},{card:[o].concat(Object(s.a)(e.card))});case\"DELETE_CARD\":return f(f({},e),{},{card:e.card.filter((function(e){return e.id!==t.payload}))});case\"SET_PRIMARY_CONTACT\":return f(f({},e),{},{phones:e.phones.map((function(e){return e.id===t.payload?f(f({},e),{},{is_primary:!0,type:\"primary\"}):f(f({},e),{},{is_primary:!1,type:\"secondary\"})}))});case\"SET_PRIMARY_ADDRESS\":return f(f({},e),{},{delivery_address:e.delivery_address.map((function(e,a){return e.id==t.payload?f(f({},e),{},{is_primary:!0}):f(f({},e),{},{is_primary:!1})}))});case\"SET_PRIMARY_SCHEDULE\":return f(f({},e),{},{deliveryMethods:e.deliveryMethods.map((function(e){return e.id===t.payload?f(f({},e),{},{type:\"primary\"}):f(f({},e),{},{type:\"secondary\"})}))});case\"SET_PRIMARY_CARD\":return f(f({},e),{},{paymentMethods:e.paymentMethods.map((function(e){return e.id===t.payload?f(f({},e),{},{type:\"primary\"}):f(f({},e),{},{type:\"secondary\"})}))});default:return e}}var g=function(e){var t=e.children,a=e.initData,o=Object(n.useReducer)(m,f({},a)),r=o[0],i=o[1];return u(c.Provider,{value:{state:r,dispatch:i}},t)},y=a(\"VtSi\"),b=a.n(y),h=a(\"QsI/\"),k=a(\"zygG\"),w=a(\"Y0uC\"),v=a(\"B3Fo\"),x=a(\"QfjN\"),O=a(\"bQa+\"),j=a(\"b6eG\"),D=a(\"/ql5\"),_=a(\"4Jh2\"),S=a(\"6/p4\"),P=a(\"j/s1\"),T=a(\"tZdC\"),I=P.e.div.withConfig({displayName:\"workstyle__SettingsForm\",componentId:\"u1wt8t-0\"})([\"width:100%;display:flex;flex-direction:column;\"]),W=P.e.div.withConfig({displayName:\"workstyle__HeadingSection\",componentId:\"u1wt8t-1\"})([\"width:100%;display:flex;align-items:center;justify-content:space-between;margin-bottom:25px;\"]),A=P.e.h3.withConfig({displayName:\"workstyle__Title\",componentId:\"u1wt8t-2\"})([\"font-family:\",\";font-size:\",\"px;font-weight:\",\";color:\",\";\"],Object(T.a)(\"fonts.heading\",\"sans-serif\"),Object(T.a)(\"fontSizes.lg\",\"21\"),Object(T.a)(\"fontWeights.bold\",\"700\"),Object(T.a)(\"colors.text.bold\",\"#0D1136\")),E=P.e.div.withConfig({displayName:\"workstyle__SettingsFormContent\",componentId:\"u1wt8t-3\"})([\"margin-bottom:50px;&:last-child{margin-bottom:0;}\"]),C=Object(P.e)(w.b).withConfig({displayName:\"workstyle__Row\",componentId:\"u1wt8t-4\"})([\"margin-bottom:0px;@media only screen and (min-width:0em) and (max-width:47.99em){margin-bottom:30px;}\"]),N=P.e.div.withConfig({displayName:\"workstyle__ButtonGroup\",componentId:\"u1wt8t-5\"})([\"display:flex;flex-direction:column;.radioGroup{flex-grow:1;justify-content:space-between;label{margin-top:0;flex:calc(33.333333333% - 10px);max-width:calc(33.333333333% - 10px);margin-bottom:15px;&:nth-child(3n){margin-right:0;}@media (max-width:700px){flex:calc(50% - 10px);max-width:calc(50% - 10px);&:nth-child(3n){margin-right:15px;}&:nth-child(2n){margin-right:0;}}@media (max-width:480px){flex:100%;max-width:100%;margin-right:0;&:nth-child(3n){margin-right:0;}&:nth-child(2n){margin-right:0;}}}}.add-button{flex:calc(33.3333333333% - 10px);max-width:calc(33.3333333333% - 10px);flex-shrink:0;height:auto;min-height:77px;border:1px dashed \",\";margin-bottom:15px;margin-left:0;margin-right:auto;&:hover{border-color:\",\";}@media (max-width:700px){flex:calc(50% - 10px);max-width:calc(50% - 10px);}@media (max-width:480px){flex:100%;max-width:100%;}}\"],Object(T.a)(\"colors.gray.500\",\"#f1f1f1\"),Object(T.a)(\"colors.primary.regular\",\"#009e7f\")),R=(Object(P.e)(\"span\").withConfig({displayName:\"workstyle__SuccessMsg\",componentId:\"u1wt8t-6\"})([\"font-family:\",\";font-size:\",\"px;font-weight:\",\";color:#51b96b;padding-top:10px;display:flex;margin-left:20px;\"],Object(T.a)(\"fonts.body\",\"Lato\"),Object(T.a)(\"fontSizes.xs\",\"12\"),Object(T.a)(\"fontWeights.regular\",\"400\")),Object(P.e)(\"span\").withConfig({displayName:\"workstyle__ErrorMsg\",componentId:\"u1wt8t-7\"})([\"font-family:\",\";font-size:\",\"px;font-weight:\",\";color:\",\";padding-top:10px;display:flex;margin-left:20px;\"],Object(T.a)(\"fonts.body\",\"Lato\"),Object(T.a)(\"fontSizes.xs\",\"12\"),Object(T.a)(\"fontWeights.regular\",\"400\"),Object(T.a)(\"colors.secondary.hover\",\"#FF282F\")),a(\"FTk/\")),M=a(\"C+de\"),H=a(\"yVh0\"),L=a(\"2SGB\"),z=a(\"IdAm\"),U=P.e.div.withConfig({displayName:\"switchstyle__SwitchStyle\",componentId:\"sc-14hweo8-0\"})([\"display:inline-flex;color:\",\";font-size:calc(\",\"px + 1px);font-weight:\",\";> label .field-label{color:inherit;font-size:inherit;font-weight:inherit;}&.label_left{label{display:flex;align-items:center;.field-label{margin-right:10px;}}}&.label_right{label{display:flex;flex-direction:row-reverse;align-items:center;.field-label{margin-left:10px;}}}&.label_top{label{.field-label{display:flex;margin-bottom:8px;}}}&.label_bottom{label{.field-label{display:flex;margin-top:8px;}}}input[type='checkbox']{&.switch{opacity:0;position:absolute;margin:0;z-index:-1;width:0;height:0;overflow:hidden;left:0;pointer-events:none;&:checked + div{width:36px;background-position:0 0;background-color:\",\";> div{background-color:\",\";left:calc(38px / 2);}}}+ div{vertical-align:middle;width:36px;height:18px;border-radius:50px;background-color:\",\";transition-duration:0.4s;transition-property:background-color,box-shadow;cursor:pointer;box-sizing:border-box;position:relative;flex-shrink:0;> div{float:left;width:16px;height:16px;border-radius:50%;pointer-events:none;top:1px;left:1px;position:absolute;background-color:\",\";transition:all 0.25s ease;}}}\"],Object(T.a)(\"colors.text.bold\",\"#0D1136\"),Object(T.a)(\"fontSizes.base\",\"15\"),Object(T.a)(\"fontWeights.medium\",\"500\"),Object(T.a)(\"colors.primary.alternate\",\"#028489\"),Object(T.a)(\"colors.white\",\"#ffffff\"),Object(T.a)(\"colors.gray.700\",\"#e6e6e6\"),Object(T.a)(\"colors.white\",\"#ffffff\"));U.displayName=\"SwitchStyle\";var F=U,G=o.a.createElement,B=function(e){var t=e.label,a=e.disabled,o=e.className,r=e.labelPosition,i=e.onUpdate,l=e.checked,s=e.style,d=Object(n.useState)(!1),c=d[0],u=d[1],p=t&&G(\"span\",{className:\"field-label\"},t),f=r||\"top\";return G(F,{className:\"switch label_\".concat(f,\" \").concat(o).trim(),style:s},G(\"label\",null,(\"left\"===f||\"right\"===f||\"top\"===f)&&p,G(\"input\",{checked:l?!c:c,className:\"switch\",type:\"checkbox\",disabled:a,onChange:function(){u(!c),i(!c)}}),G(\"div\",null,G(\"div\",null)),\"bottom\"===f&&p))},Y=a(\"wgY5\"),Q=a.n(Y),K=o.a.createElement;function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var J=function(e){e.deviceType;var t,a,i,l,s,d,u,p,f,m,g=Object(n.useContext)(c),y=g.state,P=g.dispatch,T=Object(n.useState)(\"\"),U=(T[0],T[1]),F=Object(n.useState)(!1),G=(F[0],F[1],Object(n.useState)(\"\")),Y=(G[0],G[1],o.a.useContext(x.a)),V=(Y.authState.isAuthenticated,Y.authDispatch,Object(r.a)(M.a)),J=(Object(k.a)(V,1)[0],Object(r.a)(_.a)),$=(Object(k.a)(J,1)[0],Object(r.a)(j.b)),q=Object(k.a)($,1)[0],X=Object(r.a)(j.c),ee=Object(k.a)(X,1)[0],te=Object(r.a)(D.a),ae=(Object(k.a)(te,1)[0],Object(r.a)(S.b)),ne=(Object(k.a)(ae,1)[0],Object(r.a)(S.c)),oe=(Object(k.a)(ne,1)[0],Object(r.a)(O.c)),re=(Object(k.a)(oe,1)[0],Object(r.a)(O.b)),ie=(Object(k.a)(re,1)[0],Object(H.a)(),y.delivery_address,y.card,y.name,y.email,y.id,y.phones,function(){var e=Object(h.a)(b.a.mark((function e(t){var a,n,o,r,i,l,s,d,c,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.workInfo,n=y.id,o=a.isWorking,r=a.startedWorkTime,i=a.stoppedWorkTime,l=a.ratePerHour,s=a.totalWorkingMinutesPerWeek,d=a.totalSalaryToPayWeekly,c=a.advancedSalaryPaid,u=a.taskRelated,e.next=4,ee({variables:{id:n,isWorking:o,startedWorkTime:r,stoppedWorkTime:i,ratePerHour:l,logDescription:t,totalWorkingMinutesPerWeek:s,totalSalaryToPayWeekly:d,advancedSalaryPaid:c,taskRelated:u,role:y.role}});case 4:U(\"Update user work info successfully\"),setTimeout((function(){U(\"\")}),8e3);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),le=function(){var e=Object(h.a)(b.a.mark((function e(t,a){var n,o,r,i,l,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=y.id,o=y.tasks,r=t.isRepetitived?(Number(t.completationTimes)+1).toString():t.completationTimes,i=null===o||void 0===o?void 0:o.findIndex((function(e){return e.taskId===t.taskId})),e.t0=a,e.next=\"stop\"===e.t0?6:\"start\"===e.t0?8:11;break;case 6:return l={id:n,taskId:t.taskId,description:t.description,startDate:t.startDate,finishDate:(new Date).toLocaleString(\"en-US\",{timeZone:\"America/Argentina/Buenos_Aires\"}),plannedDate:t.plannedDate,isRepetitived:t.isRepetitived,completationTimes:r,workedHours:t.workedHours,isDone:!0},e.abrupt(\"break\",13);case 8:return s=(new Date).toLocaleString(\"en-US\",{timeZone:\"America/Argentina/Buenos_Aires\"}),l={id:n,taskId:t.taskId,description:t.description,startDate:s,finishDate:t.finishDate,plannedDate:t.plannedDate,isRepetitived:t.isRepetitived,completationTimes:r,workedHours:t.workedHours,isDone:t.isDone},e.abrupt(\"break\",13);case 11:return l=t,e.abrupt(\"break\",13);case 13:return o[i]=l,P({type:\"HANDLE_TODO_TASKS\",payload:{tasks:o}}),e.next=17,q({variables:Z({},l)});case 17:return e.abrupt(\"return\",e.sent);case 18:case\"end\":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();console.log(\"working info changed:\",y.tasks);var se=(null===(t=y.workInfo)||void 0===t?void 0:t.totalWorkingMinutesPerWeek)/60|0,de=(null===(a=y.workInfo)||void 0===a?void 0:a.totalWorkingMinutesPerWeek)%60|0,ce=Number(null===(i=y.workInfo)||void 0===i?void 0:i.totalWorkingMinutesPerWeek)/60*Number(null===(l=y.workInfo)||void 0===l?void 0:l.ratePerHour),ue=null===y||void 0===y?void 0:y.tasks.filter((function(e){return 0===e.startDate.length&&0===e.finishDate.length&&!1===e.isDone})),pe=null===y||void 0===y?void 0:y.tasks.filter((function(e){return e.startDate.length>1&&0===e.finishDate.length}));return K(I,null,K(E,null,K(W,null,K(A,null,K(L.a,{id:\"workPageTitle\",defaultMessage:\"Ditto Farm\"}))),K(w.a,{style:{alignItems:\"flex-end\",marginBottom:\"50px\"}},K(C,{style:{marginBottom:\"15px\"}},K(B,{label:\"Usted se encuentra: \".concat((null===(s=y.workInfo)||void 0===s?void 0:s.isWorking)?\"Chambeando\":\"Vagando\"),disabled:!1,labelPosition:\"right\",onUpdate:function(){var e;return(null===(e=y.workInfo)||void 0===e?void 0:e.isWorking)?function(){var e=y;e.workInfo||(e.workInfo={}),e.workInfo.isWorking=!1,e.workInfo.stoppedWorkTime=(new Date).toLocaleString(\"en-US\",{timeZone:\"America/Argentina/Buenos_Aires\"});var t=Q()(new Date(e.workInfo.startedWorkTime)),a=Q()(new Date(e.workInfo.stoppedWorkTime)).diff(t,\"minutes\"),n=e.workInfo.ratePerHour/60;e.workInfo.totalWorkingMinutesPerWeek+=a,e.workInfo.totalSalaryToPayWeekly=Number(e.workInfo.totalWorkingMinutesPerWeek)*Number(n)-Number(e.workInfo.advancedSalaryPaid),P({type:\"HANDLE_WORK_CHANGE\",payload:{workInfo:e.workInfo,logs:e.logs}}),ie(\"finished working.\")}():function(){var e=y;e.workInfo||(e.workInfo={}),e.workInfo.isWorking=!0,e.workInfo.startedWorkTime=(new Date).toLocaleString(\"en-US\",{timeZone:\"America/Argentina/Buenos_Aires\"}),e.workInfo.stoppedWorkTime=null,e.workInfo.ratePerHour=300,P({type:\"HANDLE_WORK_CHANGE\",payload:{workInfo:e.workInfo,logs:e.logs}}),ie(\"started working.\")}()}})),K(C,null,K(z.a,{style:{marginRight:\"15px\",minWidth:\"200px\"}},K(L.a,{id:\"profileNameField\",defaultMessage:\"Your Name\"})),K(z.a,null,y.name)),K(C,null,K(z.a,{style:{marginRight:\"15px\",minWidth:\"200px\"}},K(L.a,{id:\"workedHours\",defaultMessage:\"workedHours\"})),K(z.a,null,\"\".concat(se,\":\").concat(Number(de)>=9?de:\"0\"+de,\" hs\"))),K(C,null,K(z.a,{style:{marginRight:\"15px\",minWidth:\"200px\"}},K(L.a,{id:\"salaryPerHour\",defaultMessage:\"salaryPerHour\"})),K(z.a,null,\"$\".concat((null===(d=y.workInfo)||void 0===d?void 0:null===(u=d.ratePerHour)||void 0===u?void 0:u.toFixed(2))||\"-\"))),K(C,null,K(z.a,{style:{marginRight:\"15px\",minWidth:\"200px\"}},K(L.a,{id:\"subtotalSalary\",defaultMessage:\"Salary Subtotal\"})),K(z.a,null,\"$\".concat(ce))),K(C,null,K(z.a,{style:{marginRight:\"15px\",minWidth:\"200px\"}},K(L.a,{id:\"advancedSalaryPaid\",defaultMessage:\"advancedSalaryPaid\"})),K(z.a,null,\"$\".concat(null===(p=y.workInfo)||void 0===p?void 0:p.advancedSalaryPaid))),K(C,null,K(z.a,{style:{marginRight:\"15px\",minWidth:\"200px\"}},K(L.a,{id:\"totalSalaryToPayWeekly\",defaultMessage:\"totalSalaryToPayWeekly\"})),K(z.a,null,\"$\".concat((null===(f=y.workInfo)||void 0===f?void 0:null===(m=f.totalSalaryToPayWeekly)||void 0===m?void 0:m.toFixed(2))||\"-\"))),(null===pe||void 0===pe?void 0:pe.length)>0&&K(C,null,K(w.a,{xs:12,sm:12,md:12,lg:12},K(E,null,K(W,null,K(A,null,K(L.a,{id:\"inProgressTasks\",defaultMessage:\"inProgressTasks\"}))),K(N,null,K(R.a,{items:pe,component:function(e,t){return K(v.a,{id:t,key:t,title:e.description,content:e.description,checked:e.isDone,onChange:function(){return le(e,\"nothing\")},name:\"contact\",hasEdit:!1,onDelete:function(){return le(e,\"stop\")}})}}))))),K(C,null,K(w.a,{xs:12,sm:12,md:12,lg:12},K(E,null,K(W,null,K(A,null,K(L.a,{id:\"pendingTasks\",defaultMessage:\"pendingTasks\"}))),K(N,null,K(R.a,{items:ue,component:function(e,t){return K(v.a,{id:t,key:t,title:e.description,content:\"Comenzo: \".concat(e.startDate,\". Termino: \").concat(e.finishDate,\". Completada: \").concat(e.isDone),checked:e.isDone,onChange:function(){return le(e,\"contact\")},name:\"contact\",onEdit:function(){return le(e,\"start\")},hasDelete:!1})}}))))),K(C,null,K(w.a,{xs:12,sm:12,md:12,lg:12},K(E,null,K(W,null,K(A,null,K(L.a,{id:\"doneTasks\",defaultMessage:\"doneTasks\"}))),K(N,null,K(R.a,{items:null===y||void 0===y?void 0:y.tasks.filter((function(e){return!0===e.isDone})),component:function(e,t){return K(v.a,{id:t,key:t,title:e.description,content:e.description,checked:e.isDone,onChange:function(){return le(e,\"nothing\")},name:\"contact\",hasDelete:!1,hasEdit:!1})}}))))))))},$=a(\"r0LQ\"),q=a(\"jh0t\"),X=a(\"H8eV\"),ee=a(\"quMH\"),te=o.a.createElement;t.default=function(e){var t=e.deviceType,a=Object(r.b)(l.a),n=a.data,s=a.error,d=a.loading;return!n||d?te(\"div\",null,\"loading...\"):s?te(ee.default,{message:s.message}):te(o.a.Fragment,null,te(X.a,{title:\"Work - Ditto\",description:\"Work Details\"}),te(g,{initData:n.getUser},te(i.a,null,te($.b,null,te($.c,null,te(q.a,null)),te($.a,null,te(J,{deviceType:t}))))))}}},[[\"YQht\",1,0,20,2,3,4,5,6,8,9,11,24,19]]]);","extractedComments":[]}