{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{IpII:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/profile\",function(){return a(\"huF4\")}])},huF4:function(e,t,a){\"use strict\";a.r(t);var n=a(\"ERkP\"),i=a.n(n),r=a(\"1U1M\"),o=a(\"VU+f\"),s=a(\"yR3f\"),d=a(\"4HXp\"),l=a(\"VtSi\"),c=a.n(l),u=a(\"QsI/\"),p=a(\"zygG\"),m=a(\"Y0uC\"),g=a(\"7xIC\"),b=a.n(g),f=a(\"IE2q\"),h=a(\"B3Fo\"),x=a(\"p2kv\"),w=a(\"QfjN\"),y=a(\"bQa+\"),v=a(\"b6eG\"),O=a(\"/ql5\"),k=a(\"4Jh2\"),C=a(\"6/p4\"),j=a(\"j/s1\"),_=a(\"tZdC\"),I=a(\"OBVT\"),F=a(\"GkOb\"),M=j.e.div.withConfig({displayName:\"settingsstyle__SettingsForm\",componentId:\"sc-9xbk1w-0\"})([\"width:100%;display:flex;flex-direction:column;\"]),N=j.e.div.withConfig({displayName:\"settingsstyle__HeadingSection\",componentId:\"sc-9xbk1w-1\"})([\"width:100%;display:flex;align-items:center;justify-content:space-between;margin-bottom:25px;\"]),E=j.e.h3.withConfig({displayName:\"settingsstyle__Title\",componentId:\"sc-9xbk1w-2\"})([\"font-family:\",\";font-size:\",\"px;font-weight:\",\";color:\",\";\"],Object(_.a)(\"fonts.heading\",\"sans-serif\"),Object(_.a)(\"fontSizes.lg\",\"21\"),Object(_.a)(\"fontWeights.bold\",\"700\"),Object(_.a)(\"colors.text.bold\",\"#0D1136\")),P=j.e.div.withConfig({displayName:\"settingsstyle__SettingsFormContent\",componentId:\"sc-9xbk1w-3\"})([\"margin-bottom:50px;&:last-child{margin-bottom:0;}\"]),S=Object(j.e)(m.b).withConfig({displayName:\"settingsstyle__Row\",componentId:\"sc-9xbk1w-4\"})([\"margin-bottom:40px;@media only screen and (min-width:0em) and (max-width:47.99em){margin-bottom:30px;}\"]),T=j.e.div.withConfig({displayName:\"settingsstyle__ButtonGroup\",componentId:\"sc-9xbk1w-5\"})([\"display:flex;flex-direction:column;.radioGroup{flex-grow:1;justify-content:space-between;label{margin-top:0;flex:calc(33.333333333% - 10px);max-width:calc(33.333333333% - 10px);margin-bottom:15px;&:nth-child(3n){margin-right:0;}@media (max-width:700px){flex:calc(50% - 10px);max-width:calc(50% - 10px);&:nth-child(3n){margin-right:15px;}&:nth-child(2n){margin-right:0;}}@media (max-width:480px){flex:100%;max-width:100%;margin-right:0;&:nth-child(3n){margin-right:0;}&:nth-child(2n){margin-right:0;}}}}.add-button{flex:calc(33.3333333333% - 10px);max-width:calc(33.3333333333% - 10px);flex-shrink:0;height:auto;min-height:77px;border:1px dashed \",\";margin-bottom:15px;margin-left:0;margin-right:auto;&:hover{border-color:\",\";}@media (max-width:700px){flex:calc(50% - 10px);max-width:calc(50% - 10px);}@media (max-width:480px){flex:100%;max-width:100%;}}\"],Object(_.a)(\"colors.gray.500\",\"#f1f1f1\"),Object(_.a)(\"colors.primary.regular\",\"#009e7f\")),D=Object(j.e)(\"span\").withConfig({displayName:\"settingsstyle__SuccessMsg\",componentId:\"sc-9xbk1w-6\"})([\"font-family:\",\";font-size:\",\"px;font-weight:\",\";color:#51b96b;padding-top:10px;display:flex;margin-left:20px;\"],Object(_.a)(\"fonts.body\",\"Lato\"),Object(_.a)(\"fontSizes.xs\",\"12\"),Object(_.a)(\"fontWeights.regular\",\"400\")),A=(Object(j.e)(\"span\").withConfig({displayName:\"settingsstyle__ErrorMsg\",componentId:\"sc-9xbk1w-7\"})([\"font-family:\",\";font-size:\",\"px;font-weight:\",\";color:\",\";padding-top:10px;display:flex;margin-left:20px;\"],Object(_.a)(\"fonts.body\",\"Lato\"),Object(_.a)(\"fontSizes.xs\",\"12\"),Object(_.a)(\"fontWeights.regular\",\"400\"),Object(_.a)(\"colors.secondary.hover\",\"#FF282F\")),j.e.input.withConfig({displayName:\"settingsstyle__InputUpper\",componentId:\"sc-9xbk1w-8\"})(Object(I.a)({display:\"block\",width:\"100%\",textTransform:\"capitalize\",p:\"0 18px\",appearance:\"none\",fontFamily:\"body\",fontSize:\"base\",lineHeight:\"inherit\",border:\"1px solid\",borderColor:\"gray.500\",borderRadius:\"base\",backgroundColor:\"white\",color:\"text.bold\",height:\"48px\",transition:\"all 0.25s ease\",\"&:focus\":{borderColor:\"primary.regular\"}}),{\"&:hover,&:focus\":{outline:0},\"&::placeholder\":{color:\"\"},\"&::-webkit-inner-spin-button,&::-webkit-outer-spin-button\":{\"-webkit-appearance\":\"none\",margin:0},\"&.disabled\":{cursor:\"not-allowed\",opacity:.6}},Object(F.d)(F.f,F.h,F.c,F.b))),B=j.e.input.withConfig({displayName:\"settingsstyle__Input\",componentId:\"sc-9xbk1w-9\"})(Object(I.a)({display:\"block\",width:\"100%\",p:\"0 18px\",appearance:\"none\",fontFamily:\"body\",fontSize:\"base\",lineHeight:\"inherit\",border:\"1px solid\",borderColor:\"gray.500\",borderRadius:\"base\",backgroundColor:\"white\",color:\"text.bold\",height:\"48px\",transition:\"all 0.25s ease\",\"&:focus\":{borderColor:\"primary.regular\"}}),{\"&:hover,&:focus\":{outline:0},\"&::placeholder\":{color:\"\"},\"&::-webkit-inner-spin-button,&::-webkit-outer-spin-button\":{\"-webkit-appearance\":\"none\",margin:0},\"&.disabled\":{cursor:\"not-allowed\",opacity:.6}},Object(F.d)(F.f,F.h,F.c,F.b)),z=a(\"agtI\"),R=a(\"FTk/\"),G=a(\"GyXf\"),L=a(\"6zwy\"),H=a(\"B68Z\"),U=a(\"C+de\"),Y=a(\"yVh0\"),V=a(\"2SGB\"),J=a(\"IdAm\"),Q=i.a.createElement,X=function(e){e.deviceType;var t,a,s,d=Object(n.useContext)(x.a),l=d.state,g=d.dispatch,j=Object(n.useState)(\"\"),_=(j[0],j[1]),I=Object(n.useState)(\"\"),F=I[0],X=I[1],q=i.a.useContext(w.a),W=q.authState,Z=W.isStaff,K=W.isGrower,$=q.authDispatch,ee=Object(r.a)(U.a),te=(Object(p.a)(ee,1)[0],Object(r.a)(k.a)),ae=Object(p.a)(te,1)[0],ne=Object(r.a)(v.a),ie=Object(p.a)(ne,1)[0],re=Object(r.a)(O.a),oe=Object(p.a)(re,1)[0],se=Object(r.a)(C.b),de=Object(p.a)(se,1)[0],le=Object(r.a)(C.c),ce=Object(p.a)(le,1)[0],ue=Object(r.a)(y.c),pe=Object(p.a)(ue,1)[0],me=Object(r.a)(y.b),ge=Object(p.a)(me,1)[0],be=Object(Y.a)(),fe=be.formatMessage({id:\"passwordEmptyFields\",defaultMessage:\"passwordEmptyFields\"}),he=l.delivery_address,xe=(l.card,l.name),we=l.email,ye=l.id,ve=l.phones,Oe=(l.plants,l.role),ke=function(e){var t=e.target,a=t.value,n=t.name;g({type:\"HANDLE_ON_INPUT_CHANGE\",payload:{value:a,field:n}})},Ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"add-address-modal\";Object(o.c)({show:!0,config:{width:360,height:\"auto\",enableResizing:!1,disableDragging:!0,className:a},closeOnClickOutside:!0,component:e,componentProps:{item:t}})},je=function(){var e=Object(u.a)(c.a.mark((function e(t,a,n,i){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(\"edit\"!==n){e.next=5;break}r=\"address\"===i?G.a:L.a,Ce(r,{item:t,id:ye}),e.next=29;break;case 5:e.t0=i,e.next=\"payment\"===e.t0?8:\"contact\"===e.t0?12:\"address\"===e.t0?20:28;break;case 8:return g({type:\"DELETE_CARD\",payload:t.id}),e.next=11,ae({variables:{cardId:JSON.stringify(t.id)}});case 11:return e.abrupt(\"return\",e.sent);case 12:if(!(ve.length>1)){e.next=19;break}return g({type:\"DELETE_CONTACT\",payload:t.id}),e.next=16,de({variables:{id:ye,phoneId:t.id}});case 16:return e.abrupt(\"return\",e.sent);case 19:return e.abrupt(\"return\",null);case 20:if(!(he.length>1)){e.next=27;break}return g({type:\"DELETE_ADDRESS\",payload:t.id}),e.next=24,ge({variables:{id:ye,addressId:t.id}});case 24:return e.abrupt(\"return\",e.sent);case 27:return e.abrupt(\"return\",null);case 28:return e.abrupt(\"return\",!1);case 29:case\"end\":return e.stop()}}),e)})));return function(t,a,n,i){return e.apply(this,arguments)}}(),_e=function(){var e=Object(u.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=a,e.next=\"contact\"===e.t0?3:\"address\"===e.t0?7:11;break;case 3:return g({type:\"SET_PRIMARY_CONTACT\",payload:t.id}),e.next=6,ce({variables:{id:ye,phoneId:t.id}});case 6:return e.abrupt(\"return\",e.sent);case 7:return g({type:\"SET_PRIMARY_ADDRESS\",payload:t.id}),e.next=10,pe({variables:{id:ye,addressId:t.id}});case 10:return e.abrupt(\"return\",e.sent);case 11:return e.abrupt(\"return\",!1);case 12:case\"end\":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(u.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.name,a=l.email,e.next=3,ie({variables:{id:ye,name:t,email:a}});case 3:_(\"Update user info successfully\"),setTimeout((function(){_(\"\")}),8e3);case 5:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(u.a)(c.a.mark((function e(){var t,a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.oldPassword,a=l.newPassword,n=l.confirmPassword,!(!t||!a||!n)){e.next=7;break}return X(fe),e.abrupt(\"return\");case 7:X(\"\");case 8:return e.next=10,oe({variables:{id:ye,old_password:t,new_password:a,confirm_password:n}});case 10:localStorage.removeItem(\"access_token\"),$({type:\"SIGN_OUT\"}),b.a.push(\"/\"),X(\"Loadding...\");case 12:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();0===(null===(t=l.oldPassword)||void 0===t?void 0:t.length)||0===(null===(a=l.newPassword)||void 0===a?void 0:a.length)||null===(s=l.confirmPassword)||void 0===s||s.length;return Q(M,null,Q(P,null,Q(N,null,Q(E,null,Q(V.a,{id:\"profilePageTitle\",defaultMessage:\"Your Profile\"})),(Z||K)&&Q(E,null,\"[\",Oe,\"]\")),Q(S,{style:{alignItems:\"flex-end\",marginBottom:\"50px\"}},Q(m.a,{xs:12,sm:5,md:5,lg:5},Q(J.a,null,Q(V.a,{id:\"profileNameField\",defaultMessage:\"Your Name\"})),Q(A,{type:\"text\",label:\"Name\",name:\"name\",value:xe,onChange:ke,backgroundcolor:\"#F7F7F7\",height:\"48px\",marginbottom:\"10px\"})),Q(m.a,{xs:12,sm:5,md:5,lg:5},Q(J.a,null,Q(V.a,{id:\"profileEmailField\",defaultMessage:\"Your Email\"})),Q(B,{type:\"email\",name:\"email\",label:\"Email Address\",value:we,onChange:ke,backgroundColor:\"#F7F7F7\",marginBottom:\"10px\"})),Q(m.a,{xs:12,sm:2,md:2,lg:2},Q(H.a,{size:\"big\",style:{width:\"100%\",marginBottom:\"10px\"},onClick:Ie},Q(V.a,{id:\"profileSaveBtn\",defaultMessage:\"Save\"})))),Q(S,null,Q(m.a,{xs:12,sm:12,md:12,lg:12},Q(P,null,Q(N,null,Q(E,null,Q(V.a,{id:\"contactNumberTItle\",defaultMessage:\"Contact Numbers\"}))),Q(T,null,Q(R.a,{items:ve,component:function(e,t){return Q(h.a,{id:t,key:t,title:e.is_primary?be.formatMessage({id:\"primaryId\",defaultMessage:\"Primary\"}):be.formatMessage({id:\"secundaryId\",defaultMessage:\"Secondary\"}),content:e.number,checked:!0===e.is_primary,onChange:function(){return _e(e,\"contact\")},name:\"contact\",onEdit:function(){return je(e,t,\"edit\",\"contact\")},onDelete:function(){return je(e,t,\"delete\",\"contact\")}})},secondaryComponent:Q(H.a,{size:\"big\",variant:\"outlined\",type:\"button\",className:\"add-button\",onClick:function(){return Ce(L.a,{item:{},id:ye},\"add-contact-modal\")}},Q(V.a,{id:\"addContactBtn\",defaultMessage:\"Add Contact\"}))}))))),Q(S,null,Q(m.a,{xs:12,sm:12,md:12,lg:12,style:{position:\"relative\"}},Q(P,null,Q(N,null,Q(E,null,Q(V.a,{id:\"deliveryAddresTitle\",defaultMessage:\"Delivery Address\"}))),Q(T,null,Q(z.a,{items:he,component:function(e,t){return Q(f.a,{id:t,key:t,address:e.address,instructions:e.instructions,location:e.location,title:e.title,name:\"address\",isChecked:!0===e.is_primary,onChange:function(){return _e(e,\"address\")},onEdit:function(){return je(e,t,\"edit\",\"address\")},onDelete:function(){return je(e,t,\"delete\",\"address\")}})},secondaryComponent:Q(H.a,{size:\"big\",variant:\"outlined\",type:\"button\",className:\"add-button\",onClick:function(){return Ce(G.a,{item:{},id:ye},\"add-address-modal\")}},Q(V.a,{id:3===(null===he||void 0===he?void 0:he.length)?\"fullDeliveryAddressesMsg\":\"addAddressBtn\",defaultMessage:\"Add Address\"}))}))))),Q(S,{style:{alignItems:\"flex-end\",marginBottom:\"50px\"}},Q(m.a,{xs:12,sm:12,md:12,lg:12},Q(P,null,Q(N,null,Q(E,null,Q(V.a,{id:\"changePasswordTitle\",defaultMessage:\"Change Password\"}))))),Q(m.a,{xs:12,sm:2,md:2,lg:3},Q(B,{type:\"password\",placeholder:be.formatMessage({id:\"oldPasswordId\",defaultMessage:\"Old password\"}),name:\"oldPassword\",value:l.oldPassword||\"\",onChange:ke,backgroundColor:\"#F7F7F7\",height:\"48px\",marginBottom:\"10px\"})),Q(m.a,{xs:12,sm:2,md:2,lg:3},Q(B,{type:\"password\",label:\"New Password\",placeholder:be.formatMessage({id:\"newPasswordId\",defaultMessage:\"New password\"}),name:\"newPassword\",value:l.newPassword||\"\",onChange:ke,backgroundColor:\"#F7F7F7\",height:\"48px\",marginBottom:\"10px\"})),Q(m.a,{xs:12,sm:2,md:2,lg:3},Q(B,{type:\"password\",name:\"confirmPassword\",placeholder:be.formatMessage({id:\"confirmPasswordId\",defaultMessage:\"Confirm password\"}),value:l.confirmPassword||\"\",onChange:ke,backgroundColor:\"#F7F7F7\",marginBottom:\"10px\"})),Q(m.a,{xs:12,sm:2,md:2,lg:3},F===fe&&Q(D,null,Q(V.a,{id:\"passwordEmptyFields\",defaultMessage:fe})),!F&&Q(H.a,{size:\"big\",style:{width:\"100%\",marginBottom:\"10px\"},onClick:Fe},Q(V.a,{id:\"profileSaveBtn\",defaultMessage:\"Save\"})),F&&Q(H.a,{size:\"big\",style:{width:\"100%\"},onClick:Fe},Q(V.a,{id:\"profileSaveBtn\",defaultMessage:\"Loading..\"}))))))},q=a(\"r0LQ\"),W=a(\"jh0t\"),Z=a(\"H8eV\"),K=a(\"quMH\"),$=i.a.createElement;t.default=function(e){var t=e.deviceType,a=Object(r.b)(s.a),n=a.data,l=a.error,c=a.loading;return!n||c?$(\"div\",null,\"loading...\"):l?$(K.default,{message:l.message}):$(i.a.Fragment,null,$(Z.a,{title:\"Profile - Ditto\",description:\"Profile Details\"}),$(d.a,{initData:n.getUser},$(o.a,null,$(q.b,null,$(q.c,null,$(W.a,null)),$(q.a,null,$(X,{deviceType:t}))))))}}},[[\"IpII\",1,0,2,3,4,5,6,7,8,9,12,17,18,21,22]]]);","extractedComments":[]}