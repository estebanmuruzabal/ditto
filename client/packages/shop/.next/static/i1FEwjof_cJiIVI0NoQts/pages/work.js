(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{YQht:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/work",function(){return a("hkpG")}])},hkpG:function(e,t,a){"use strict";a.r(t);var o=a("ERkP"),n=a.n(o),r=a("1U1M"),i=a("VU+f"),l=a("yR3f"),d=a("fGyu"),s=a("zjfJ"),c=Object(o.createContext)({}),p=n.a.createElement;function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function y(e,t){switch(t.type){case"HANDLE_WORK_CHANGE":return f(f({},e),{},{workInfo:t.payload.workInfo,logs:t.payload.logs});case"HANDLE_ON_INPUT_CHANGE":return f(f({},e),{},Object(s.a)({},t.payload.field,t.payload.value));case"ADD_CONTACT":var a=f({},t.payload.values);return f(f({},e),{},{phones:[].concat(Object(d.a)(e.phones),[a])});case"UPDATE_CONTACT":if(null!==t.payload.id)return f(f({},e),{},{phones:e.phones.map((function(e){return e.id==t.payload.id?f(f({},e),t.payload.values):e}))});case"DELETE_CONTACT":return f(f({},e),{},{phones:e.phones.filter((function(e){return e.id!==t.payload}))});case"ADD_ADDRESS":var o=f({},t.payload);return null==e.delivery_address?f(f({},e),{},{delivery_address:[o]}):f(f({},e),{},{delivery_address:[].concat(Object(d.a)(e.delivery_address),[o])});case"UPDATE_ADDRESS":if(t.payload.id)return f(f({},e),{},{delivery_address:e.delivery_address.map((function(e,a){return e.id===t.payload.id?f(f({},e),t.payload.value):e}))});case"DELETE_ADDRESS":return f(f({},e),{},{delivery_address:e.delivery_address.filter((function(e,a){return e.id!==t.payload}))});case"ADD_CARD":var n={id:t.payload.id,type:"0"===e.card.length?"primary":"secondary",cardType:t.payload.brand.toLowerCase(),name:e.name,lastFourDigit:t.payload.last4};return f(f({},e),{},{card:[n].concat(Object(d.a)(e.card))});case"DELETE_CARD":return f(f({},e),{},{card:e.card.filter((function(e){return e.id!==t.payload}))});case"SET_PRIMARY_CONTACT":return f(f({},e),{},{phones:e.phones.map((function(e){return e.id===t.payload?f(f({},e),{},{is_primary:!0,type:"primary"}):f(f({},e),{},{is_primary:!1,type:"secondary"})}))});case"SET_PRIMARY_ADDRESS":return f(f({},e),{},{delivery_address:e.delivery_address.map((function(e,a){return e.id==t.payload?f(f({},e),{},{is_primary:!0}):f(f({},e),{},{is_primary:!1})}))});case"SET_PRIMARY_SCHEDULE":return f(f({},e),{},{deliveryMethods:e.deliveryMethods.map((function(e){return e.id===t.payload?f(f({},e),{},{type:"primary"}):f(f({},e),{},{type:"secondary"})}))});case"SET_PRIMARY_CARD":return f(f({},e),{},{paymentMethods:e.paymentMethods.map((function(e){return e.id===t.payload?f(f({},e),{},{type:"primary"}):f(f({},e),{},{type:"secondary"})}))});default:return e}}var m=function(e){var t=e.children,a=e.initData,n=Object(o.useReducer)(y,f({},a)),r=n[0],i=n[1];return p(c.Provider,{value:{state:r,dispatch:i}},t)},g=a("VtSi"),b=a.n(g),h=a("QsI/"),w=a("zygG"),k=a("Y0uC"),x=(a("7xIC"),a("QfjN")),v=a("bQa+"),O=a("b6eG"),j=a("/ql5"),_=a("4Jh2"),I=a("6/p4"),S=a("j/s1"),P=a("tZdC"),W=S.e.div.withConfig({displayName:"workstyle__SettingsForm",componentId:"u1wt8t-0"})(["width:100%;display:flex;flex-direction:column;"]),D=S.e.div.withConfig({displayName:"workstyle__HeadingSection",componentId:"u1wt8t-1"})(["width:100%;display:flex;align-items:center;justify-content:space-between;margin-bottom:25px;"]),T=S.e.h3.withConfig({displayName:"workstyle__Title",componentId:"u1wt8t-2"})(["font-family:",";font-size:","px;font-weight:",";color:",";"],Object(P.a)("fonts.heading","sans-serif"),Object(P.a)("fontSizes.lg","21"),Object(P.a)("fontWeights.bold","700"),Object(P.a)("colors.text.bold","#0D1136")),E=S.e.div.withConfig({displayName:"workstyle__SettingsFormContent",componentId:"u1wt8t-3"})(["margin-bottom:50px;&:last-child{margin-bottom:0;}"]),A=Object(S.e)(k.b).withConfig({displayName:"workstyle__Row",componentId:"u1wt8t-4"})(["margin-bottom:0px;@media only screen and (min-width:0em) and (max-width:47.99em){margin-bottom:30px;}"]),C=(S.e.div.withConfig({displayName:"workstyle__ButtonGroup",componentId:"u1wt8t-5"})(["display:flex;flex-direction:column;.radioGroup{flex-grow:1;justify-content:space-between;label{margin-top:0;flex:calc(33.333333333% - 10px);max-width:calc(33.333333333% - 10px);margin-bottom:15px;&:nth-child(3n){margin-right:0;}@media (max-width:700px){flex:calc(50% - 10px);max-width:calc(50% - 10px);&:nth-child(3n){margin-right:15px;}&:nth-child(2n){margin-right:0;}}@media (max-width:480px){flex:100%;max-width:100%;margin-right:0;&:nth-child(3n){margin-right:0;}&:nth-child(2n){margin-right:0;}}}}.add-button{flex:calc(33.3333333333% - 10px);max-width:calc(33.3333333333% - 10px);flex-shrink:0;height:auto;min-height:77px;border:1px dashed ",";margin-bottom:15px;margin-left:0;margin-right:auto;&:hover{border-color:",";}@media (max-width:700px){flex:calc(50% - 10px);max-width:calc(50% - 10px);}@media (max-width:480px){flex:100%;max-width:100%;}}"],Object(P.a)("colors.gray.500","#f1f1f1"),Object(P.a)("colors.primary.regular","#009e7f")),Object(S.e)("span").withConfig({displayName:"workstyle__SuccessMsg",componentId:"u1wt8t-6"})(["font-family:",";font-size:","px;font-weight:",";color:#51b96b;padding-top:10px;display:flex;margin-left:20px;"],Object(P.a)("fonts.body","Lato"),Object(P.a)("fontSizes.xs","12"),Object(P.a)("fontWeights.regular","400")),Object(S.e)("span").withConfig({displayName:"workstyle__ErrorMsg",componentId:"u1wt8t-7"})(["font-family:",";font-size:","px;font-weight:",";color:",";padding-top:10px;display:flex;margin-left:20px;"],Object(P.a)("fonts.body","Lato"),Object(P.a)("fontSizes.xs","12"),Object(P.a)("fontWeights.regular","400"),Object(P.a)("colors.secondary.hover","#FF282F")),a("GyXf"),a("6zwy"),a("C+de")),N=a("yVh0"),R=a("2SGB"),M=a("IdAm"),H=S.e.div.withConfig({displayName:"switchstyle__SwitchStyle",componentId:"sc-14hweo8-0"})(["display:inline-flex;color:",";font-size:calc(","px + 1px);font-weight:",";> label .field-label{color:inherit;font-size:inherit;font-weight:inherit;}&.label_left{label{display:flex;align-items:center;.field-label{margin-right:10px;}}}&.label_right{label{display:flex;flex-direction:row-reverse;align-items:center;.field-label{margin-left:10px;}}}&.label_top{label{.field-label{display:flex;margin-bottom:8px;}}}&.label_bottom{label{.field-label{display:flex;margin-top:8px;}}}input[type='checkbox']{&.switch{opacity:0;position:absolute;margin:0;z-index:-1;width:0;height:0;overflow:hidden;left:0;pointer-events:none;&:checked + div{width:36px;background-position:0 0;background-color:",";> div{background-color:",";left:calc(38px / 2);}}}+ div{vertical-align:middle;width:36px;height:18px;border-radius:50px;background-color:",";transition-duration:0.4s;transition-property:background-color,box-shadow;cursor:pointer;box-sizing:border-box;position:relative;flex-shrink:0;> div{float:left;width:16px;height:16px;border-radius:50%;pointer-events:none;top:1px;left:1px;position:absolute;background-color:",";transition:all 0.25s ease;}}}"],Object(P.a)("colors.text.bold","#0D1136"),Object(P.a)("fontSizes.base","15"),Object(P.a)("fontWeights.medium","500"),Object(P.a)("colors.primary.alternate","#028489"),Object(P.a)("colors.white","#ffffff"),Object(P.a)("colors.gray.700","#e6e6e6"),Object(P.a)("colors.white","#ffffff"));H.displayName="SwitchStyle";var z=H,L=n.a.createElement,U=function(e){var t=e.label,a=e.disabled,n=e.className,r=e.labelPosition,i=e.onUpdate,l=e.checked,d=e.style,s=Object(o.useState)(!1),c=s[0],p=s[1],u=t&&L("span",{className:"field-label"},t),f=r||"top";return L(z,{className:"switch label_".concat(f," ").concat(n).trim(),style:d},L("label",null,("left"===f||"right"===f||"top"===f)&&u,L("input",{checked:l?!c:c,className:"switch",type:"checkbox",disabled:a,onChange:function(){p(!c),i(!c)}}),L("div",null,L("div",null)),"bottom"===f&&u))},G=a("wgY5"),F=a.n(G),Y=n.a.createElement,B=function(e){e.deviceType;var t,a,i,l,d,s,p,u,f=Object(o.useContext)(c),y=f.state,m=f.dispatch,g=Object(o.useState)(""),S=(g[0],g[1]),P=Object(o.useState)(!1),H=(P[0],P[1],Object(o.useState)("")),z=(H[0],H[1],n.a.useContext(x.a)),L=(z.authState.isAuthenticated,z.authDispatch,Object(r.a)(C.a)),G=(Object(w.a)(L,1)[0],Object(r.a)(_.a)),B=(Object(w.a)(G,1)[0],Object(r.a)(O.a)),Q=(Object(w.a)(B,1)[0],Object(r.a)(O.b)),V=Object(w.a)(Q,1)[0],J=Object(r.a)(j.a),K=(Object(w.a)(J,1)[0],Object(r.a)(I.b)),X=(Object(w.a)(K,1)[0],Object(r.a)(I.c)),Z=(Object(w.a)(X,1)[0],Object(r.a)(v.c)),$=(Object(w.a)(Z,1)[0],Object(r.a)(v.b));Object(w.a)($,1)[0],Object(N.a)(),y.delivery_address,y.card,y.name,y.email,y.id,y.phones;console.log(y);var q=function(){var e=Object(h.a)(b.a.mark((function e(t){var a,o,n,r,i,l,d,s,c,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.workInfo,o=y.id,n=a.isWorking,r=a.startedWorkTime,i=a.stoppedWorkTime,l=a.ratePerHour,d=a.totalWorkingMinutesPerWeek,s=a.totalSalaryToPayWeekly,c=a.advancedSalaryPaid,p=a.taskRelated,e.next=4,V({variables:{id:o,isWorking:n,startedWorkTime:r,stoppedWorkTime:i,ratePerHour:l,logDescription:t,totalWorkingMinutesPerWeek:d,totalSalaryToPayWeekly:s,advancedSalaryPaid:c,taskRelated:p,role:y.role}});case 4:S("Update user work info successfully"),setTimeout((function(){S("")}),8e3);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();console.log("iswoprking:",y.workInfo);var ee=(null===(t=y.workInfo)||void 0===t?void 0:t.totalWorkingMinutesPerWeek)/60|0,te=(null===(a=y.workInfo)||void 0===a?void 0:a.totalWorkingMinutesPerWeek)%60|0;return Y(W,null,Y(E,null,Y(D,null,Y(T,null,Y(R.a,{id:"workPageTitle",defaultMessage:"Ditto Farm"}))),Y(k.a,{style:{alignItems:"flex-end",marginBottom:"50px"}},Y(A,{style:{marginBottom:"15px"}},Y(U,{label:"Usted se encuentra: ".concat((null===(i=y.workInfo)||void 0===i?void 0:i.isWorking)?"Chambeando":"Vagando"),disabled:!1,labelPosition:"right",onUpdate:function(){var e;return(null===(e=y.workInfo)||void 0===e?void 0:e.isWorking)?function(){var e=y;e.workInfo||(e.workInfo={}),e.workInfo.isWorking=!1,e.workInfo.stoppedWorkTime=(new Date).toLocaleString("en-US",{timeZone:"America/Argentina/Buenos_Aires"});var t=F()(new Date(e.workInfo.startedWorkTime)),a=F()(new Date(e.workInfo.stoppedWorkTime)).diff(t,"minutes"),o=e.workInfo.ratePerHour/60;e.workInfo.totalWorkingMinutesPerWeek+=a,e.workInfo.totalSalaryToPayWeekly=e.workInfo.totalWorkingMinutesPerWeek*o-e.workInfo.advancedSalaryPaid,m({type:"HANDLE_WORK_CHANGE",payload:{workInfo:e.workInfo,logs:e.logs}}),q("finished working.")}():function(){var e=y;e.workInfo||(e.workInfo={}),e.workInfo.isWorking=!0,e.workInfo.startedWorkTime=(new Date).toLocaleString("en-US",{timeZone:"America/Argentina/Buenos_Aires"}),e.workInfo.stoppedWorkTime=null,e.workInfo.ratePerHour=300,m({type:"HANDLE_WORK_CHANGE",payload:{workInfo:e.workInfo,logs:e.logs}}),q("started working.")}()}})),Y(A,null,Y(M.a,{style:{marginRight:"15px",minWidth:"200px"}},Y(R.a,{id:"profileNameField",defaultMessage:"Your Name"})),Y(M.a,null,y.name)),Y(A,null,Y(M.a,{style:{marginRight:"15px",minWidth:"200px"}},Y(R.a,{id:"workedHours",defaultMessage:"workedHours"})),Y(M.a,null,"".concat(ee,":").concat(Number(te)>=9?te:"0"+te," hs"))),Y(A,null,Y(M.a,{style:{marginRight:"15px",minWidth:"200px"}},Y(R.a,{id:"salaryPerHour",defaultMessage:"salaryPerHour"})),Y(M.a,null,"$".concat(null===(l=y.workInfo)||void 0===l?void 0:l.ratePerHour))),Y(A,null,Y(M.a,{style:{marginRight:"15px",minWidth:"200px"}},Y(R.a,{id:"advancedSalaryPaid",defaultMessage:"advancedSalaryPaid"})),Y(M.a,null,"$".concat(null===(d=y.workInfo)||void 0===d?void 0:d.advancedSalaryPaid))),Y(A,null,Y(M.a,{style:{marginRight:"15px",minWidth:"200px"}},Y(R.a,{id:"totalSalaryToPayWeekly",defaultMessage:"totalSalaryToPayWeekly"})),Y(M.a,null,"$".concat(null===(s=y.workInfo)||void 0===s?void 0:s.totalSalaryToPayWeekly))),Y(A,null,Y(M.a,null,Y(R.a,{id:"todoTasks",defaultMessage:"todoTasks"})),null===(p=y.workInfo)||void 0===p?void 0:null===(u=p.tasks)||void 0===u?void 0:u.map((function(e){return Y(M.a,null,e)}))))))},Q=a("r0LQ"),V=a("jh0t"),J=a("H8eV"),K=a("quMH"),X=n.a.createElement;t.default=function(e){var t=e.deviceType,a=Object(r.b)(l.a),o=a.data,d=a.error,s=a.loading;return console.log("data.getUser:::",o),!o||s?X("div",null,"loading..."):d?X(K.default,{message:d.message}):X(n.a.Fragment,null,X(J.a,{title:"Work - Ditto",description:"Work Details"}),X(m,{initData:o.getUser},X(i.a,null,X(Q.b,null,X(Q.c,null,X(V.a,null)),X(Q.a,null,X(B,{deviceType:t}))))))}}},[["YQht",1,0,19,3,2,4,5,6,8,9,11,16,15]]]);